<ion-view view-title="Nytt konto">
    <ion-content>
	<div class="list list-inset">


	    <form name="registerForm" id="register-form">

		<!-- ToDo: restyle, reposition? -->
		<div class="error-message" ng-messages="registerForm.$error" 
		     ng-messages-multiple>
		    <p ng-message="userExists">E-postadressen eller användarnamnet är upptaget</p>
		    <p ng-message="invalidEmail">Ogiltig e-postadress</p>
		</div>

		<label for="fullname" class="input-label">För- och efternamn:</label>
		<label ng-class="{'label-error': registerForm.fullname.$invalid &&
				 registerForm.fullname.$dirty}" class="item item-input">
		    <input id="fullname" name="fullname" ng-model="fullname" type="text" 
			  placeholder="t.ex. Erik Johansson" ng-pattern="/^.{5,50}$/" required>
		</label>
		<div class="error-message" ng-messages="registerForm.fullname.$error" 
		     ng-if="registerForm.fullname.$dirty">
		    <p ng-message="required">Du måste ange ett namn</p>
		    <p ng-message="pattern">Mellan 5 och 50 tecken</p>
		</div>


		<label for="email" class="input-label">E-postadress:</label>
		<label ng-class="{'label-error': registerForm.email.$invalid &&
				 registerForm.email.$dirty}" class="item item-input">
		    <input id="email" name="email" ng-model="email" type="email" 
			  placeholder="t.ex. mail@example.com" required>
		</label>
		<div class="error-message" ng-messages="registerForm.email.$error" 
		     ng-if="registerForm.email.$dirty">
		    <p ng-message="required">Du måste ange en e-postadress</p>
		    <p ng-message="email">Ogiltig e-postadress</p>
		</div>

		<label for="phone" class="input-label">Mobilnummer:</label>
		<label ng-class="{'label-error': registerForm.phone.$invalid &&
				 registerForm.phone.$dirty}" class="item item-input">
		    <input id="phone" name="phone" ng-model="phone" type="tel" 
			  placeholder="t.ex. 0761234567" ng-pattern="/^[\d]{5,25}$/"
			  required>
		</label>
		<div class="error-message" ng-messages="registerForm.phone.$error" 
		     ng-if="registerForm.phone.$dirty">
		    <p ng-message="haha">haha</p>
		    <p ng-message="required">Du måste ange ett mobilnummer</p>
		    <p ng-message="pattern">Mellan 5 och 25 siffror</p>
		</div>
		
		<!-- ToDo: Note about country code formatting - see api description -->
		<button ng-click="userDetails(registerForm)" ng-disabled="registerForm.$invalid"
			class="button button-block button-positive">Nästa</button>
	    </form>
	</div>
    </ion-content>
</ion-view>
