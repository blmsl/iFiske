angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache"]).constant("$ionicLoadingConfig",{template:'<i class="icon ion-loading-b"></i>'}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!0,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/start/login";window.localStorage.getItem("session")&&(r="/menu/home"),t.otherwise(r),e.state("start",{url:"/start","abstract":!0,templateUrl:"components/start/start.html"}).state("start.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("start.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("start.register.accountDetails",{url:"/account_details",templateUrl:"components/register/register_account_details.html"}).state("start.register.userDetails",{url:"/user_details",templateUrl:"components/register/register_user_details.html"}).state("start.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("menu",{url:"/menu","abstract":!0,templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("menu.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("menu.info",{url:"/info",templateUrl:"components/info/info.html"}).state("menu.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("menu.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("menu.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("menu.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("menu.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("menu.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("menu.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("menu.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("menu.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("menu.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("menu.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("menu.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("menu.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("menu.report",{url:"/report",templateUrl:"components/report/report.html"}).state("areadetail2",{"abstract":!0,url:"/areadetail/:id",templateUrl:"components/area2/area.html",controller:"AreaCtrl"}).state("areadetail2.info",{url:"/info",views:{info:{templateUrl:"components/area/area.html"}}}).state("areadetail2.fishinfo",{url:"/fishinfo",views:{fishinfo:{templateUrl:"components/area_fish/area_fish.html"}}}).state("areadetail2.cards",{url:"/cards",views:{cards:{templateUrl:"components/area_cards/area_cards.html"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Ok√§nt",e.dbDate=o.last_update(),n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log(t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$ionicHistory","localStorage","$rootScope","$ionicViewSwitcher","$stateParams","DB","$ionicSlideBoxDelegate","$ionicModal",function(e,t,n,o,r,i,s,u,l){e.tabsBack=function(){t.viewHistory().currentView.index?o.$ionicGoBack():(r.nextDirection("back"),e.$emit("$ionicHistory.change",{historyId:n.get("homeHistoryId")}))},e.image_endpoint="http://www.ifiske.se",s.getArea(i.id).then(function(t){e.images=t.images,u.update(),e.area=t,s.getOrganization(t.orgid).then(function(t){e.org=t})},function(e){console.log(e)}),s.getAreaFishes(i.id).then(function(t){console.log(t),e.fishes=t},function(e){console.log(e)}),s.getProductsByArea(i.id).then(function(t){e.products=t},function(e){console.log(e)}),e.sortorder="-amount",e.smsterms=n.get("sms_terms"),e.predicate="so",l.fromTemplateUrl("components/area_cards/modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,l.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){e.search={$:t.search},e.queryBy="$",e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("menu.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading",function(e,t,n,o){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),t.go("menu.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})}}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicPopover","sessionData","Update",function(e,t,n,o,r){e.sessionData=o,n.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("menu.userinfo")},e.logout=function(){e.popover.hide(),r.user_logout(),t.go("start.login")},e.login=function(){e.popover.hide(),t.go("start.login")},e.register=function(){e.popover.hide(),t.go("start.register.account_details")},e.update=function(){r.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","API",function(e,t,n,o){var r,i,s;e.accountDetails=function(e){r=e.username.$viewValue,i=e.password.$viewValue,t.go("^.userDetails")},e.userDetails=function(u){n.show();var l=u.fullname.$viewValue,a=u.email.$viewValue;s=e.phone=u.phone.$viewValue,o.user_register(r,l,i,a,s).then(function(){n.hide(),t.go("^.verify")},function(){n.hide()})},e.verify=function(e){n.show();var i=e.vercode;o.user_confirm(r,i.$viewValue).then(function(){t.go("start.login"),i.$setValidity("verified",!0),n.hide()},function(){i.$setValidity("verified",!1),n.hide()})}}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","$ionicModal",function(e,t,n,o){e.pred="-to",e.endpoint="https://www.ifiske.se",e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)}),o.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()})}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,s=function(n){return r(function(o,r){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:!0}).success(function(e){"error"===e.status?r(e.message):o(e)}).error(function(e,t){r(0===t?new Error("Request timeout"):e)})})},u=function(t){var o=n.token;return s(e.extend(t,{s:o}))};return{get_municipalities:function(){return s({m:"get_municipalities"})},get_counties:function(){return s({m:"get_counties"})},user_exists:function(e){return s({m:"user_exists",username:e})},user_register:function(e,t,n,o,r){return s({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r})},user_confirm:function(e,t){return s({m:"user_confirm",username:e,pin:t})},user_info:function(){return u({m:"user_info"})},user_login:function(e,t){return s({m:"user_login",username:e,password:t}).then(function(e){return n.setToken(e.data.response),e})},user_logout:function(){u({m:"user_logout"}).then(function(){n.deleteToken()})},user_products:function(){return u({m:"user_products"})},get_fishes:function(){return s({m:"get_fishes"})},get_techniques:function(){return s({m:"get_techniques"})},get_baits:function(){return s({m:"get_baits"})},get_organizations:function(e){return s({m:"get_organizations",orgid:e})},get_org_modified:function(e){return s({m:"get_org_modified",orgid:e})},get_areas:function(e){return s({m:"get_areas",areaid:e})},get_areas_modified:function(e){return s({m:"get_areas_modified",areaid:e})},get_products:function(e){return s({m:"get_products",areaid:e})},get_rules:function(e){return s({m:"get_rules",ruleid:e})},get_photos:function(e,t){return s({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return s({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return s({m:"get_map_poi_types"})},get_map_polygons:function(e){return s({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return u({m:"user_get_favorites"})},get_terms_of_service:function(){return s({m:"get_terms_of_service"})},get_contact_info:function(){return s({m:"get_contact_info"})},get_engine_policies:function(){return s({m:"get_engine_policies"})},get_sms_terms:function(){return s({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]]},s=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],s=[],u=0;u<i[e].length;++u)s.push(r[i[e][u][0]]);var l=["INSERT INTO",e,"VALUES(?",",?".repeat(s.length-1),")"].join(" ");n.executeSql(l,s)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){var n=["CREATE TABLE IF NOT EXISTS",t,"(",'"'+i[t].join('___"').split(",").join('" ').split("___").join(", "),", PRIMARY KEY(",'"'+i[t][0][0]+'"',"));"].join(" ");e.executeSql(n)}},t,e)})},getArea:function(t){return o(function(o){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=s(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e.data.response,o(t)},function(){o(t)})})})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(s(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(s(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(s(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(s(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(s(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(s(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(s(e))},n)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("nobrs",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var s="last_update",u=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e.data.response){var i=e.data.response[r].fish;for(var s in i)n.push({ID:r+"_"+s,fid:s,aid:r,amount:i[s][0],comment:i[s][1]})}return o.all([t.populateTable("Area",e.data.response),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e.data.response).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e.data.response).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e.data.response).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e.data.response).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e.data.response).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e.data.response).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e.data.response).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})})])},l=function(){return o.all([e.user_products().then(function(e){return t.populateTable("User_Product",e.data.response).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.data.response.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e.data.response]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e.data.response),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},a=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){r.show();var f=Date.now(),d=0;c||(d=n.get(s));var m=6048e5;f-d>m?(t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([l(),u()]):u()}).then(function(){console.log("Populated all the things"),n.set(s,f),r.hide()},function(o){return 7!==o.error_code?(console.log("Got an error, will try to recreate all tables: ",o),t.clean().then(function(){return t.init()}).then(function(){return u()}).then(function(){console.log("Populated all the things"),n.set(s,f),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(a(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e.data.response)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e.data.response)}),e.get_contact_info().then(function(e){n.set("contactInfo",e.data.response)})):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&l().then(function(){r.hide()},function(){r.hide()}),r.hide()}):(console.log("no_update"),r.hide())};return{update:function(){c()},forcedUpdate:function(){c(!0)},user_logout:function(){a(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(s)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhMi9hcmVhMl9jb250cm9sbGVyLmpzIiwiYXJlYV9saXN0L2FyZWFfbGlzdF9jb250cm9sbGVyLmpzIiwiY29udGFjdC9jb250YWN0X2NvbnRyb2xsZXIuanMiLCJjb3VudGllcy9jb3VudGllc19jb250cm9sbGVyLmpzIiwiZmlzaF9kZXRhaWwvZmlzaF9kZXRhaWxfY29udHJvbGxlci5qcyIsImZpc2hlcy9maXNoZXNfY29udHJvbGxlci5qcyIsImhvbWUvaG9tZV9jb250cm9sbGVyLmpzIiwibGVnYWwvbGVnYWxfY29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luX2NvbnRyb2xsZXIuanMiLCJtZW51L21lbnVfY29udHJvbGxlci5qcyIsInJlZ2lzdGVyL3JlZ2lzdGVyX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWxfY29udHJvbGxlci5qcyIsInRlY2huaXF1ZXMvdGVjaG5pcXVlc19jb250cm9sbGVyLmpzIiwidXNlci91c2VyX2NvbnRyb2xsZXIuanMiLCJ1c2VyX2NhcmRzL3VzZXJfY2FyZHNfY29udHJvbGxlci5qcyIsImFwaS5qcyIsImRiLmpzIiwiZmlsdGVyLmpzIiwidXBkYXRlLmpzIiwidXRpbHMuanMiLCJpZmlza2Vfc21zL2lmaXNrZV9zbXMuanMiLCJpbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuanMiLCJzeXN0ZW1fYnJvd3Nlci9zeXN0ZW1fYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZSIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiVXBkYXRlIiwiSW1nQ2FjaGUiLCJyZWFkeSIsIndpbmRvdyIsImlvbmljIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCIkaW5pdCIsInVwZGF0ZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJJbWdDYWNoZVByb3ZpZGVyIiwic2V0T3B0aW9ucyIsImRlYnVnIiwidXNlUGVyc2lzdGVudENhY2hlIiwibWFudWFsSW5pdCIsInZpZXdzIiwiZm9yd2FyZENhY2hlIiwiYmFja0J1dHRvbiIsInByZXZpb3VzVGl0bGVUZXh0IiwidGV4dCIsInRhYnMiLCJwb3NpdGlvbiIsImRlZmF1bHRVcmwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInBhcmFtcyIsImlkIiwiY291bnR5Iiwic2VhcmNoIiwiZmlzaCIsInRlY2giLCJpbmZvIiwiZmlzaGluZm8iLCJjYXJkcyIsIiRzY29wZSIsIiRjb3Jkb3ZhQXBwVmVyc2lvbiIsInZlcnNpb24iLCJkYkRhdGUiLCJsYXN0X3VwZGF0ZSIsImNvcmRvdmEiLCJnZXRBcHBWZXJzaW9uIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCIkaW9uaWNIaXN0b3J5IiwiJHJvb3RTY29wZSIsIiRpb25pY1ZpZXdTd2l0Y2hlciIsIiRzdGF0ZVBhcmFtcyIsIkRCIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY01vZGFsIiwidGFic0JhY2siLCJ2aWV3SGlzdG9yeSIsImN1cnJlbnRWaWV3IiwiaW5kZXgiLCIkaW9uaWNHb0JhY2siLCJuZXh0RGlyZWN0aW9uIiwiJGVtaXQiLCJoaXN0b3J5SWQiLCJnZXQiLCJpbWFnZV9lbmRwb2ludCIsImdldEFyZWEiLCJhcmVhIiwiaW1hZ2VzIiwiZ2V0T3JnYW5pemF0aW9uIiwib3JnaWQiLCJvcmciLCJlcnIiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsInNtc3Rlcm1zIiwicHJlZGljYXRlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsInNtc19tb2RhbCIsIm9wZW5Nb2RhbCIsInByb2R1Y3QiLCJzaG93IiwiY2xvc2VNb2RhbCIsImhpZGUiLCJzaG93VGVybXMiLCJzaG93aW5ndGVybXMiLCJydWxlc19tb2RhbCIsIm9wZW5SdWxlc01vZGFsIiwiY2xvc2VSdWxlc01vZGFsIiwiJG9uIiwicmVtb3ZlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCIkIiwicXVlcnlCeSIsImRhdGEiLCJhcmVhcyIsImNsZWFyU2VhcmNoIiwic2Nyb2xsVG9wIiwiJHN0YXRlIiwiY29udGFjdEluZm8iLCJnZXRDb3VudGllcyIsImNvdW50aWVzIiwiZ2V0RmlzaCIsImdldEZpc2hlcyIsImRlZmF1bHRfaW1nIiwiaW1nIiwic2Vzc2lvbkRhdGEiLCJsb2dnZWRJbiIsInNldCIsImN1cnJlbnRIaXN0b3J5SWQiLCJteUZ1bmMiLCIkZXZlbnQiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJnbyIsInNyY0VsZW1lbnQiLCJ2YWx1ZSIsInRvcyIsIiRpb25pY0xvYWRpbmciLCJzaWduSW4iLCJsb2dpbkZvcm0iLCJ1c2VyX2xvZ2luIiwidXNlcm5hbWUiLCIkdmlld1ZhbHVlIiwicGFzc3dvcmQiLCIkc2V0VmFsaWRpdHkiLCJlcnJvciIsInJlc3BvbnNlIiwiJGlvbmljUG9wb3ZlciIsInBvcG92ZXIiLCJ1c2VyaW5mbyIsImxvZ291dCIsInVzZXJfbG9nb3V0IiwibG9naW4iLCJyZWdpc3RlciIsImZvcmNlZFVwZGF0ZSIsIkFQSSIsInBob25lIiwiYWNjb3VudERldGFpbHMiLCJmb3JtIiwidXNlckRldGFpbHMiLCJmdWxsbmFtZSIsImVtYWlsIiwidXNlcl9yZWdpc3RlciIsInZlcmlmeSIsInZlcmNvZGUiLCJ1c2VyX2NvbmZpcm0iLCJpbWcxIiwiaW1nMiIsImltZzMiLCJmaWx0ZXIiLCJlbCIsInRlc3QiLCJnZXRUZWNobmlxdWUiLCJnZXRUZWNobmlxdWVzIiwidGVjaG5pcXVlcyIsImdldFVzZXJJbmZvIiwidXNlciIsImdldFVzZXJOdW1iZXJzIiwibnVtYmVycyIsInByZWQiLCJlbmRwb2ludCIsIm5vdyIsIkRhdGUiLCJnZXRVc2VyUHJvZHVjdHMiLCJwcm92aWRlciIsInRoaXMiLCJiYXNlX3VybCIsIiRnZXQiLCIkaHR0cCIsIiRxIiwiYXBpX2NhbGwiLCJmdWxmaWxsIiwicmVqZWN0IiwibWV0aG9kIiwiZXh0ZW5kIiwia2V5IiwidGltZW91dCIsImNhY2hlIiwic3VjY2VzcyIsInN0YXR1cyIsIm1lc3NhZ2UiLCJFcnJvciIsInNlc3Npb25fYXBpX2NhbGwiLCJzZXNzaW9uIiwidG9rZW4iLCJzIiwiZ2V0X211bmljaXBhbGl0aWVzIiwibSIsImdldF9jb3VudGllcyIsInVzZXJfZXhpc3RzIiwicGluIiwidXNlcl9pbmZvIiwic2V0VG9rZW4iLCJkZWxldGVUb2tlbiIsInVzZXJfcHJvZHVjdHMiLCJnZXRfZmlzaGVzIiwiZ2V0X3RlY2huaXF1ZXMiLCJnZXRfYmFpdHMiLCJnZXRfb3JnYW5pemF0aW9ucyIsImdldF9vcmdfbW9kaWZpZWQiLCJnZXRfYXJlYXMiLCJhcmVhaWQiLCJnZXRfYXJlYXNfbW9kaWZpZWQiLCJnZXRfcHJvZHVjdHMiLCJnZXRfcnVsZXMiLCJydWxlaWQiLCJnZXRfcGhvdG9zIiwiZ2V0X21hcF9wb2lzIiwiZ2V0X21hcF9wb2lfdHlwZXMiLCJnZXRfbWFwX3BvbHlnb25zIiwidXNlcl9nZXRfZmF2b3JpdGVzIiwiZ2V0X3Rlcm1zX29mX3NlcnZpY2UiLCJnZXRfY29udGFjdF9pbmZvIiwiZ2V0X2VuZ2luZV9wb2xpY2llcyIsImdldF9zbXNfdGVybXMiLCJ1bmRlZmluZWQiLCIkY29yZG92YVNRTGl0ZSIsImRiIiwic3FsaXRlUGx1Z2luIiwib3BlbkRCIiwib3BlbkRhdGFiYXNlIiwidGFibGVEZWYiLCJBcmVhIiwiQXJlYV9GaXNoIiwiUHJvZHVjdCIsIkNvdW50eSIsIk11bmljaXBhbGl0eSIsIkZpc2giLCJSdWxlIiwiVXNlcl9Qcm9kdWN0IiwiVXNlcl9JbmZvIiwiVXNlcl9OdW1iZXIiLCJUZWNobmlxdWUiLCJPcmdhbml6YXRpb24iLCJjcmVhdGVPYmplY3QiLCJyZXR2YWwiLCJpIiwicm93cyIsImxlbmd0aCIsInB1c2giLCJpdGVtIiwicG9wdWxhdGVUYWJsZSIsInRhYmxlIiwidHJhbnNhY3Rpb24iLCJ0eCIsImV4ZWN1dGVTcWwiLCJzaW5nbGVEYXRhIiwiaW5zZXJ0RGF0YSIsInF1ZXJ5IiwicmVwZWF0Iiwiam9pbiIsImNsZWFuVGFibGUiLCJjbGVhbiIsImluaXQiLCJzcGxpdCIsImV4ZWN1dGUiLCJvYmplY3QiLCJhaWQiLCJzZWFyY2hzdHJpbmciLCJjb3VudHlfaWQiLCJnZXRQcm9kdWN0IiwicHJvZHVjdF9pZCIsImFyZWFfaWQiLCJpbnB1dCIsInJlcGxhY2UiLCJMQVNUX1VQREFURSIsInBvcHVsYXRlIiwiYWxsIiwiZmlzaEFyciIsImZpc2hLZXkiLCJJRCIsImZpZCIsImFtb3VudCIsImNvbW1lbnQiLCJwb3B1bGF0ZVVzZXIiLCJudW1BcnIiLCJudW1iZXIiLCJjbGVhblVzZXIiLCJ1cGRhdGVGdW5jIiwiZm9yY2VkIiwiY3VycmVudFRpbWUiLCJsYXN0VXBkYXRlIiwiYVdlZWsiLCJlcnJvcl9jb2RlIiwidGVybXMiLCJmYWN0b3J5IiwiJHdpbmRvdyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2VydmljZSIsInQiLCJkaXJlY3RpdmUiLCIkY29yZG92YVNtcyIsIiRpb25pY1BvcHVwIiwicmVzdHJpY3QiLCJsaW5rIiwiYXR0cnMiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByb21wdCIsInRpdGxlIiwiaW5wdXRUeXBlIiwibmFtZSIsIm5nQ29yZG92YVNtcyIsInNlbmQiLCJ0cmFuc2NsdWRlIiwibGFiZWwiLCJwbGFjZWhvbGRlciIsInR5cGUiLCJuZ1BhdHRlcm4iLCJuZ01vZGVsIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuIiwiaHJlZiIsInRhcmdldCIsImhvc3QiLCJsb2NhdGlv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LFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLE1BQUEsU0FDQSxNQUFBLFNBQ0EsT0FBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxJQUFBLFNBRUFDLFlBQ0EsS0FBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsU0FBQSxRQUNBLFVBQUEsU0FFQUMsVUFDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxRQUFBLFFBQ0EsTUFBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFNBRUFDLFNBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsSUFBQSxTQUVBQyxlQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsT0FBQSxTQUVBQyxPQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLE1BQUEsUUFDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE9BQUEsU0FDQSxNQUFBLFNBQ0EsS0FBQSxTQUNBLE1BQUEsU0FDQSxPQUFBLFNBQ0EsTUFBQSxTQUNBLE1BQUEsU0FFQUMsT0FDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBRUFDLGVBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxPQUFBLFFBQ0EsS0FBQSxRQUNBLFdBQUEsU0FDQSxLQUFBLFNBQ0EsT0FBQSxRQUNBLE9BQUEsUUFDQSxJQUFBLFNBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFNBRUFDLFlBQ0EsS0FBQSxRQUNBLFdBQUEsU0FDQSxXQUFBLFNBQ0EsTUFBQSxTQUNBLE1BQUEsU0FDQSxPQUFBLFNBQ0EsUUFBQSxTQUNBLFVBQUEsU0FFQUMsY0FDQSxTQUFBLFNBRUFDLFlBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsU0FDQSxLQUFB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QSxTQUFBLFdBQ0E1SSxRQUFBQyxJQUFBLGFBQ0EsU0FBQXdCLEdBQ0F6QixRQUFBQyxJQUFBd0IsY0NoQkFwRixRQUFBQyxPQUFBLHFCQUNBcVQsVUFBQSxjQUFBLFdBQ0EsT0FDQUcsU0FBQSxJQUNBWSxZQUFBLEVBRUF4TyxPQUNBcU8sS0FBQSxJQUNBdlIsR0FBQSxJQUNBMlIsTUFBQSxJQUNBQyxZQUFBLElBQ0FDLEtBQUEsSUFDQUMsVUFBQSxJQUNBQyxRQUFBLE1BR0FsUyxZQUFBLDJDQUNBQyxXQUFBLFNBQUFVLEdBQ0FBLEVBQUFSLEdBQUFRLEVBQUFSLElBQUFRLEVBQUErUSxLQUNBL1EsRUFBQXFSLEtBQUFyUixFQUFBcVIsTUFBQSxXQ25CQXhVLFFBQUFDLE9BQUEsb0JBQ0FxVCxVQUFBLGlCQUFBLHVCQUFBLFNBQUFxQixHQUNBLFlBQ0EsUUFDQWxCLFNBQUEsSUFDQUMsS0FBQSxTQUFBN04sRUFBQTRFLEdBQ0FBLEVBQUFtSixHQUFBLFFBQUEsU0FBQUMsR0FDQWMsRUFBQUMsS0FBQW5LLEVBQUEsR0FBQW9LLEtBQUEsV0FDQWhCLEVBQUFDLHdCQUtBUixVQUFBLHVCQUFBLHVCQUFBLFNBQUFxQixHQUNBLFlBQ0EsUUFDQWxCLFNBQUEsSUFDQUMsS0FBQSxTQUFBN04sRUFBQTRFLEdBQ0FBLEVBQUFtSixHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQWlCLE9BQUFELE1BQUFoQixFQUFBaUIsT0FBQUMsT0FBQXRVLE9BQUF1VSxTQUFBRCxPQUNBSixFQUFBQyxLQUFBZixFQUFBaUIsT0FBQUQsS0FBQSxXQUNBaEIsRUFBQUMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAnaWZpc2tlJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIGV4YW1wbGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ2lmaXNrZS5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcblxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZScsIFtcbiAgICAnaW9uaWMnLFxuICAgICdpZmlza2UuY29udHJvbGxlcnMnLFxuICAgICdpZmlza2UuZGlyZWN0aXZlcycsXG4gICAgJ2lmaXNrZS5hcGknLFxuICAgICdpZmlza2UuZGInLFxuICAgICdpZmlza2UudXRpbHMnLFxuICAgICdpZmlza2UudXBkYXRlJyxcbiAgICAnaWZpc2tlLmZpbHRlcnMnLFxuICAgICdpb25pYy5pb24uaGVhZGVyU2hyaW5rJyxcbiAgICAnbmdDb3Jkb3ZhJyxcbiAgICAnc3lzdGVtQnJvd3NlcicsXG4gICAgJ25nQ29yZG92YVNtcycsXG4gICAgJ25nTWVzc2FnZXMnLFxuICAgICdJbWdDYWNoZSdcbl0pXG4uY29uc3RhbnQoJyRpb25pY0xvYWRpbmdDb25maWcnLCB7XG4gICAgdGVtcGxhdGU6ICc8aSBjbGFzcz1cImljb24gaW9uLWxvYWRpbmctYlwiPjwvaT4nXG4gICAgLy8gaGlkZU9uU3RhdGVDaGFuZ2U6IHRydWVcbn0pXG4ucnVuKFsnJGlvbmljUGxhdGZvcm0nLCAnVXBkYXRlJywgJ0ltZ0NhY2hlJywgZnVuY3Rpb24oJGlvbmljUGxhdGZvcm0sIFVwZGF0ZSwgSW1nQ2FjaGUpIHtcbiAgICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgICAgICAvLyBmb3IgZm9ybSBpbnB1dHMpXG4gICAgICAgIGlmKHdpbmRvdy5pb25pYyAmJiB3aW5kb3cuaW9uaWMuS2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5pb25pYy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYod2luZG93LlN0YXR1c0Jhcikge1xuICAgICAgICAgICAgLy8gb3JnLmFwYWNoZS5jb3Jkb3ZhLnN0YXR1c2JhciByZXF1aXJlZFxuICAgICAgICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgSW1nQ2FjaGUuJGluaXQoKTtcbiAgICAgICAgVXBkYXRlLnVwZGF0ZSgpO1xuICAgIH0pO1xufV0pXG5cbi5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGlvbmljQ29uZmlnUHJvdmlkZXInLCAnSW1nQ2FjaGVQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyLCBJbWdDYWNoZVByb3ZpZGVyKSB7XG5cbiAgICBJbWdDYWNoZVByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgICAgICBkZWJ1ZzogdHJ1ZSxcbiAgICAgICAgdXNlUGVyc2lzdGVudENhY2hlOiB0cnVlXG4gICAgfSk7XG4gICAgSW1nQ2FjaGVQcm92aWRlci5tYW51YWxJbml0ID0gdHJ1ZTtcblxuXG5cbiAgICAvLyBDYWNoZSB2aWV3cyBpbiB0aGUgZm9yd2FyZCBzdGFja1xuICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLnZpZXdzLmZvcndhcmRDYWNoZSh0cnVlKTtcblxuICAgIC8vIENsZWFyIGJhY2sgYnV0dG9uIGRlZmF1bHQgdGV4dFxuICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLmJhY2tCdXR0b24ucHJldmlvdXNUaXRsZVRleHQoZmFsc2UpLnRleHQoJycpO1xuXG4gICAgLy8gVGFicyBwb3NpdGlvblxuICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLnRhYnMucG9zaXRpb24oJ2JvdHRvbScpO1xuXG4gICAgLyoqXG4gICAgICogSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyLiBMZWFybiBtb3JlIGhlcmU6XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gICAgICovXG5cbiAgICB2YXIgZGVmYXVsdFVybCA9ICcvc3RhcnQvbG9naW4nO1xuICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb24nKSkge1xuICAgICAgICBkZWZhdWx0VXJsID0gJy9tZW51L2hvbWUnO1xuICAgIH1cbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGRlZmF1bHRVcmwpO1xuXG5cblxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgLy8gQWJzdHJhY3QgcHJlLW1lbnUgc3RhdGUuIE5lZWRlZCBmb3IgbmF2aWdhdGlvbiBiZXR3ZWVuIGxvZ2luIGFuZCByZWdpc3RlciB2aWV3cy5cbiAgICAuc3RhdGUoJ3N0YXJ0Jywge1xuICAgICAgICB1cmw6ICcvc3RhcnQnLFxuICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3N0YXJ0L3N0YXJ0Lmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ3N0YXJ0LmxvZ2luJywge1xuICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbG9naW4vbG9naW4uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ3N0YXJ0LnJlZ2lzdGVyJywge1xuICAgICAgICB1cmw6ICcvcmVnaXN0ZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ3N0YXJ0LnJlZ2lzdGVyLmFjY291bnREZXRhaWxzJywge1xuICAgICAgICB1cmw6ICcvYWNjb3VudF9kZXRhaWxzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyX2FjY291bnRfZGV0YWlscy5odG1sJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdzdGFydC5yZWdpc3Rlci51c2VyRGV0YWlscycsIHtcbiAgICAgICAgdXJsOiAnL3VzZXJfZGV0YWlscycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlcl91c2VyX2RldGFpbHMuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQucmVnaXN0ZXIudmVyaWZ5Jywge1xuICAgICAgICB1cmw6ICcvdmVyaWZ5JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyX3ZlcmlmeS5odG1sJ1xuICAgIH0pXG5cbiAgICAvLyBBYnN0cmFjdCBtZW51IHN0YXRlLiBcIlJvb3RcIiBzdGF0ZSBvbmNlIHdlJ3JlIHBhc3QgdGhlIGxvZ2luIHN0YXRlLlxuICAgIC5zdGF0ZSgnbWVudScsIHtcbiAgICAgICAgdXJsOiAnL21lbnUnLFxuICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21lbnUvbWVudS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ01lbnVDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmhvbWUnLCB7XG4gICAgICAgIHVybDogJy9ob21lJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2hvbWUvaG9tZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmluZm8nLCB7XG4gICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2luZm8vaW5mby5odG1sJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmJ1Z3MnLCB7XG4gICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21lbnUvcmVwb3J0Lmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuY29udGFjdCcsIHtcbiAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY29udGFjdC9jb250YWN0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ29udGFjdEN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUubGVnYWwnLCB7XG4gICAgICAgIHVybDogJy9sZWdhbCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sZWdhbC9sZWdhbC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0xlZ2FsQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5hYm91dCcsIHtcbiAgICAgICAgdXJsOiAnL2Fib3V0JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Fib3V0L2Fib3V0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQWJvdXRDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnVzZXJpbmZvJywge1xuICAgICAgICB1cmw6ICcvdXNlcmluZm8nLFxuICAgICAgICBjb250cm9sbGVyOiAnVXNlckN0cmwnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdXNlci91c2VyLmh0bWwnLFxuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmNvdW50aWVzJywge1xuICAgICAgICB1cmw6ICcvY291bnRpZXMnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY291bnRpZXMvY291bnRpZXMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb3VudGllc0N0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuYXJlYXMnLCB7XG4gICAgICAgIHVybDogJy9hcmVhcycsXG4gICAgICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAnY291bnR5JzogZmFsc2UsICdzZWFyY2gnOiAnJ30sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhX2xpc3QvYXJlYV9saXN0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQXJlYXNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmNhcmRzJywge1xuICAgICAgICB1cmw6ICcvY2FyZHMnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdXNlcl9jYXJkcy91c2VyX2NhcmRzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnVXNlckNhcmRzQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5mYXZvcml0ZXMnLCB7XG4gICAgICAgIHVybDogJy9mYXZvcml0ZXMnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvZmF2b3JpdGVzL2Zhdm9yaXRlcy5odG1sJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmZpc2hlcycsIHtcbiAgICAgICAgdXJsOiAnL2Zpc2hlcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9maXNoZXMvZmlzaGVzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnRmlzaGVzQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5maXNoZGV0YWlsJywge1xuICAgICAgICB1cmw6ICcvZmlzaGRldGFpbC86aWQnLFxuICAgICAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ2Zpc2gnOiBmYWxzZX0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9maXNoX2RldGFpbC9maXNoX2RldGFpbC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0Zpc2hEZXRhaWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnRlY2huaXF1ZXMnLCB7XG4gICAgICAgIHVybDogJy90ZWNobmlxdWVzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZXMvdGVjaG5pcXVlcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlY2huaXF1ZXNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnRlY2huaXF1ZWRldGFpbCcsIHtcbiAgICAgICAgdXJsOiAnL3RlY2huaXF1ZWRldGFpbC86aWQnLFxuICAgICAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ3RlY2gnOiBmYWxzZX0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWwuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVEZXRhaWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnJlcG9ydCcsIHtcbiAgICAgICAgdXJsOiAnL3JlcG9ydCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZXBvcnQvcmVwb3J0Lmh0bWwnXG4gICAgfSlcblxuICAgIC5zdGF0ZSgnYXJlYWRldGFpbDInLCB7XG4gICAgICAgIGFic3RyYWN0OnRydWUsXG4gICAgICAgIHVybDogJy9hcmVhZGV0YWlsLzppZCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhMi9hcmVhLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQXJlYUN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ2FyZWFkZXRhaWwyLmluZm8nLCB7XG4gICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICdpbmZvJzoge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2FyZWEuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdhcmVhZGV0YWlsMi5maXNoaW5mbycsIHtcbiAgICAgICAgdXJsOiAnL2Zpc2hpbmZvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICdmaXNoaW5mbyc6IHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYV9maXNoL2FyZWFfZmlzaC5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ2FyZWFkZXRhaWwyLmNhcmRzJywge1xuICAgICAgICB1cmw6ICcvY2FyZHMnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgJ2NhcmRzJzoge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhX2NhcmRzL2FyZWFfY2FyZHMuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJywgW10pO1xuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kaXJlY3RpdmVzJywgW10pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIFsnJHNjb3BlJywnJGNvcmRvdmFBcHBWZXJzaW9uJywgJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJGNvcmRvdmFBcHBWZXJzaW9uLCAkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlKSB7XG5cdCRzY29wZS52ZXJzaW9uID0gJHNjb3BlLmRiRGF0ZSA9ICdPa1xcdTAwRTRudCc7XG4gICAgJHNjb3BlLmRiRGF0ZSA9IFVwZGF0ZS5sYXN0X3VwZGF0ZSgpO1xuXG5cdCRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHdpbmRvdy5jb3Jkb3ZhKSB7XG5cdFx0JGNvcmRvdmFBcHBWZXJzaW9uLmdldEFwcFZlcnNpb24oKS50aGVuKGZ1bmN0aW9uKHZlcnNpb24pIHtcblx0XHQgICAgY29uc29sZS5sb2codmVyc2lvbik7XG5cdFx0ICAgICRzY29wZS52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHR9KTtcblx0ICAgIH1cblx0fSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJGlvbmljSGlzdG9yeScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgJyRyb290U2NvcGUnLFxuICAgICckaW9uaWNWaWV3U3dpdGNoZXInLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAgICckaW9uaWNNb2RhbCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkaW9uaWNIaXN0b3J5LCBsb2NhbFN0b3JhZ2UsICRyb290U2NvcGUsICRpb25pY1ZpZXdTd2l0Y2hlciwgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSwgJGlvbmljTW9kYWwpIHtcblxuICAgICAgICAkc2NvcGUudGFic0JhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHZpZXcgaXMgYXQgdGhlIHRvcCBvZiBpdHMgaGlzdG9yeSBzdGFja1xuICAgICAgICAgICAgaWYoISRpb25pY0hpc3Rvcnkudmlld0hpc3RvcnkoKS5jdXJyZW50Vmlldy5pbmRleCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFN3aXRjaCB0byB0aGUgaG9tZSBoaXN0b3J5IHN0YWNrXG4gICAgICAgICAgICAgICAgICogU2VlICRpb25pY0hpc3Rvcnkgc291cmNlIGZvciB0aGUgZXZlbiBoYW5kbGVyIHVzZWRcbiAgICAgICAgICAgICAgICAgKiBTZWUgaG9tZV9jb250cm9sbGVyLmpzIGZvciB0aGUgaGlzdG9yeUlkIHVzZWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignYmFjaycpO1xuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnJGlvbmljSGlzdG9yeS5jaGFuZ2UnLCB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlJZDogbG9jYWxTdG9yYWdlLmdldCgnaG9tZUhpc3RvcnlJZCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgYmFjayBhY3Rpb25cbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRpb25pY0dvQmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG5cbiAgICAgICAgLy8gQXJlYWluZm9cbiAgICAgICAgREIuZ2V0QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGFyZWEpIHtcbiAgICAgICAgICAgICRzY29wZS5pbWFnZXMgPSBhcmVhLmltYWdlcztcblxuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICAgICAgICAgICRzY29wZS5hcmVhID0gYXJlYTtcblxuICAgICAgICAgICAgREIuZ2V0T3JnYW5pemF0aW9uKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihvcmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JnID0gb3JnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgREIuZ2V0QXJlYUZpc2hlcygkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpc2hlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZmlzaGVzKTtcbiAgICAgICAgICAgICRzY29wZS5maXNoZXMgPSBmaXNoZXM7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIERCLmdldFByb2R1Y3RzQnlBcmVhKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0cyA9IHByb2R1Y3RzO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFyZWEgZmlzaGVzXG4gICAgICAgICRzY29wZS5zb3J0b3JkZXIgPSAnLWFtb3VudCc7XG5cbiAgICAgICAgLy9BcmVhX0NhcmRzXG4gICAgICAgICRzY29wZS5zbXN0ZXJtcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3Ntc190ZXJtcycpO1xuICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gXCJzb1wiO1xuXG5cbiAgICAgICAgLy9TTVMtbW9kYWxcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL2FyZWFfY2FyZHMvbW9kYWwuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCdcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5Nb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5oaWRlKCk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93VGVybXMgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICRzY29wZS5zaG93aW5ndGVybXMgPSAhJHNjb3BlLnNob3dpbmd0ZXJtcztcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnNob3dpbmd0ZXJtcyA9IGZhbHNlO1xuXG4gICAgICAgIC8vUnVsZXMgbW9kYWxcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL2FyZWFfY2FyZHMvcnVsZXNfbW9kYWwuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCdcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsID0gbW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUub3BlblJ1bGVzTW9kYWwgPSBmdW5jdGlvbihwcm9kdWN0KSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnJlbW92ZSgpO1xuICAgICAgICB9KTtcblxuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYXNDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJyRpb25pY1Njcm9sbERlbGVnYXRlJyAsJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRpb25pY1Njcm9sbERlbGVnYXRlICxEQikge1xuXG4gICAgJHNjb3BlLnNlYXJjaCA9IHsnJCc6ICRzdGF0ZVBhcmFtcy5zZWFyY2h9O1xuICAgICRzY29wZS5xdWVyeUJ5ID0gJyQnO1xuICAgICRzY29wZS5jb3VudHkgPSAkc3RhdGVQYXJhbXMuY291bnR5O1xuICAgIERCLnNlYXJjaCgnJywgJHN0YXRlUGFyYW1zLmlkKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5hcmVhcyA9IGRhdGE7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gICAgJHNjb3BlLmNsZWFyU2VhcmNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vdG9kbzogY2xlYXIgc2VhcmNoIGZpZWxkXG4gICAgfTtcbiAgICAkc2NvcGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbFRvcCgpO1xuICAgIH07XG5cbn1dKTtcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ29udGFjdEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICAkc2NvcGUuY29udGFjdEluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdjb250YWN0SW5mbycpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ291bnRpZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0Q291bnRpZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmNvdW50aWVzID0gZGF0YTtcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0Zpc2hEZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCKSB7XG4gICAgJHNjb3BlLmZpc2ggPSAkc3RhdGVQYXJhbXMuZmlzaDtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgIGlmKCEkc2NvcGUuZmlzaCkge1xuICAgICAgICBEQi5nZXRGaXNoKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmZpc2ggPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKCRzY29wZS5maXNoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJHNjb3BlLmZpc2gpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignRmlzaGVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgREIuZ2V0RmlzaGVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRzY29wZS5maXNoZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGVmYXVsdF9pbWcgPSBkYXRhWzBdLmltZztcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNIaXN0b3J5JyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNIaXN0b3J5LCBsb2NhbFN0b3JhZ2UsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAgICAgLy8gQ3VycmVudCBoaXN0b3J5IHN0YWNrIElkLiBTZWUgYXJlYV9jb250cm9sbGVyIGZvciB1c2FnZS5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnaG9tZUhpc3RvcnlJZCcsICRpb25pY0hpc3RvcnkuY3VycmVudEhpc3RvcnlJZCgpKTtcblxuICAgICAgICAkc2NvcGUubXlGdW5jID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICBpZigkZXZlbnQua2V5Q29kZSA9PSAxMyAmJiAhJGV2ZW50LnNoaWZ0S2V5KSB7IC8vaWYgZW50ZXIta2V5XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdtZW51LmFyZWFzJywge3NlYXJjaDogJGV2ZW50LnNyY0VsZW1lbnQudmFsdWV9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTGVnYWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBsb2NhbFN0b3JhZ2UpIHtcbiAgICAkc2NvcGUudG9zID0gbG9jYWxTdG9yYWdlLmdldCgndG9zJyk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnVXBkYXRlJywgJyRpb25pY0xvYWRpbmcnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgVXBkYXRlLCAkaW9uaWNMb2FkaW5nKSB7XG4gICAgLy8kc2NvcGUudXNlciA9IHt9O1xuICAgICRzY29wZS5zaWduSW4gPSBmdW5jdGlvbihsb2dpbkZvcm0pIHtcbiAgICAgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgVXBkYXRlLnVzZXJfbG9naW4obG9naW5Gb3JtLnVzZXJuYW1lLiR2aWV3VmFsdWUsIGxvZ2luRm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgIGxvZ2luRm9ybS4kc2V0VmFsaWRpdHkoXCJsb2dpbkVycm9yXCIsIHRydWUpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdtZW51LmhvbWUnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgbG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgZmFsc2UpO1xuICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gZXJyb3IucmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNZW51Q3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJGlvbmljUG9wb3ZlcicsXG4gICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAnVXBkYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljUG9wb3Zlciwgc2Vzc2lvbkRhdGEsIFVwZGF0ZSkge1xuXG4gICAgJHNjb3BlLnNlc3Npb25EYXRhID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAkaW9uaWNQb3BvdmVyLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9tZW51L3BvcG92ZXIuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24ocG9wb3Zlcikge1xuICAgICAgICAkc2NvcGUucG9wb3ZlciA9IHBvcG92ZXI7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXNlcmluZm8gPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ21lbnUudXNlcmluZm8nKTtcbiAgICB9O1xuICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHRVcGRhdGUudXNlcl9sb2dvdXQoKTtcblxuXHQkc3RhdGUuZ28oJ3N0YXJ0LmxvZ2luJyk7XG4gICAgfTtcbiAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ3N0YXJ0LmxvZ2luJyk7XG4gICAgfTtcbiAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ3N0YXJ0LnJlZ2lzdGVyLmFjY291bnRfZGV0YWlscycpO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFVwZGF0ZS5mb3JjZWRVcGRhdGUoKTtcbiAgICB9O1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRpb25pY0xvYWRpbmcnLCAnQVBJJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0xvYWRpbmcsIEFQSSkge1xuXHRcblx0dmFyIHVzZXJuYW1lLCBwYXNzd29yZCwgcGhvbmU7XG5cdFxuXHQkc2NvcGUuYWNjb3VudERldGFpbHMgPSBmdW5jdGlvbihmb3JtKSB7XG5cdCAgICB1c2VybmFtZSA9IGZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZTtcblx0ICAgIHBhc3N3b3JkID0gZm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlO1xuXHQgICAgJHN0YXRlLmdvKCdeLnVzZXJEZXRhaWxzJyk7XG5cdH07XG5cblx0JHNjb3BlLnVzZXJEZXRhaWxzID0gZnVuY3Rpb24oZm9ybSkge1xuXHQgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0ICAgIHZhciBmdWxsbmFtZSA9IGZvcm0uZnVsbG5hbWUuJHZpZXdWYWx1ZTtcblx0ICAgIHZhciBlbWFpbCA9IGZvcm0uZW1haWwuJHZpZXdWYWx1ZTtcblx0ICAgIHBob25lID0gJHNjb3BlLnBob25lID0gZm9ybS5waG9uZS4kdmlld1ZhbHVlO1xuXHQgICAgXG5cdCAgICBBUEkudXNlcl9yZWdpc3Rlcih1c2VybmFtZSwgZnVsbG5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgcGhvbmUpXG5cdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSkgeyBcblx0XHQgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0ICAgICRzdGF0ZS5nbygnXi52ZXJpZnknKTtcblx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdCAgICAvLyBUb0RvOiBkaXNwbGF5IGVycm9yXG5cdFx0ICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS52ZXJpZnkgPSBmdW5jdGlvbihmb3JtKSB7XG5cdCAgICAkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuXHQgICAgdmFyIHZlcmNvZGUgPSBmb3JtLnZlcmNvZGU7XG5cdCAgICBcblx0ICAgIEFQSS51c2VyX2NvbmZpcm0odXNlcm5hbWUsIHZlcmNvZGUuJHZpZXdWYWx1ZSlcblx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0ICAgICRzdGF0ZS5nbygnc3RhcnQubG9naW4nKTtcblx0XHQgICAgdmVyY29kZS4kc2V0VmFsaWRpdHkoXCJ2ZXJpZmllZFwiLCB0cnVlKTtcblx0XHQgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG5cblx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdCAgICB2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIGZhbHNlKTtcblx0XHQgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0fSk7XG5cdH07XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVGVjaG5pcXVlRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdEQicsICckaW9uaWNTbGlkZUJveERlbGVnYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCLCAkaW9uaWNTbGlkZUJveERlbGVnYXRlKSB7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICAkc2NvcGUudGVjaCA9ICRzdGF0ZVBhcmFtcy50ZWNoO1xuICAgICRzY29wZS5pbWFnZXMgPSBbXTtcblxuICAgIGlmKCEkc2NvcGUudGVjaCkge1xuICAgICAgICBEQi5nZXRUZWNobmlxdWUoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2VzID0gW2RhdGEuaW1nMSwgZGF0YS5pbWcyLCBkYXRhLmltZzNdLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhL1xcLyQvLnRlc3QoZWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgICAgICAgICAkc2NvcGUudGVjaCA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkYXRhID0gJHNjb3BlLnRlY2g7XG4gICAgICAgICRzY29wZS5pbWFnZXMgPSBbZGF0YS5pbWcxLCBkYXRhLmltZzIsIGRhdGEuaW1nM10uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gIS9cXC8kLy50ZXN0KGVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICB9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdUZWNobmlxdWVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFRlY2huaXF1ZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICRzY29wZS50ZWNobmlxdWVzID0gZGF0YTtcbiAgICB9KTtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFVzZXJJbmZvKClcbiAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICRzY29wZS51c2VyID0gdXNlcjtcbiAgICB9KTtcbiAgICBEQi5nZXRVc2VyTnVtYmVycygpXG4gICAgLnRoZW4oZnVuY3Rpb24obnVtYmVycykge1xuICAgICAgICAkc2NvcGUubnVtYmVycyA9IG51bWJlcnM7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ2FyZHNDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY01vZGFsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY01vZGFsKSB7XG4gICAgICAgICRzY29wZS5wcmVkID0gJy10byc7XG4gICAgICAgICRzY29wZS5lbmRwb2ludCA9ICdodHRwczovL3d3dy5pZmlza2Uuc2UnO1xuICAgICAgICAkc2NvcGUubm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgREIuZ2V0VXNlclByb2R1Y3RzKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gZGF0YTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL3VzZSB0aGUgc2FtZSBtb2RhbCBhcyBpbiBhcmVhX2NhcmRzXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuYXBpJywgWydpZmlza2UudXRpbHMnXSlcbiAgICAucHJvdmlkZXIoJ0FQSScsIGZ1bmN0aW9uIEFQSVByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuYmFzZV91cmwgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlL2FwaS92Mi9hcGkucGhwJztcblxuICAgICAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgJ3Nlc3Npb25EYXRhJywgJ2xvY2FsU3RvcmFnZScsICckcScsIGZ1bmN0aW9uKCRodHRwLCBzZXNzaW9uRGF0YSwgbG9jYWxTdG9yYWdlLCAkcSkge1xuICAgICAgICAgICAgdmFyIGJhc2VfdXJsID0gdGhpcy5iYXNlX3VybDtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAjIGFwaV9jYWxsICNcbiAgICAgICAgICAgICAqIGhhbmRsZXMgaHR0cCByZXF1ZXN0c1xuICAgICAgICAgICAgICogcmV0dXJucyBhICRodHRwIG9iamVjdCBmb3IgdGhlIHJlcXVlc3RlZCBhcGkgY2FsbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICRodHRwKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDonZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGJhc2VfdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogYW5ndWxhci5leHRlbmQocGFyYW1zLCB7J2tleSc6ICcwMTIzNDU2Nzg5YWJjZGVmJ30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiBQcm9wZXIgbG9nZ2luZ1xuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqICMgc2Vzc2lvbl9hcGlfY2FsbCAjXG4gICAgICAgICAgICAgKiB3cmFwcGVyIGZvciBhcGlfY2FsbCAtIGluc2VydHMgdGhlIHNlc3Npb24gdG9rZW4gaW50byBwYXJhbXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHNlc3Npb25fYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25EYXRhLnRva2VuO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChhbmd1bGFyLmV4dGVuZChwYXJhbXMsIHtzOiBzZXNzaW9ufSkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXRfbXVuaWNpcGFsaXRpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbXVuaWNpcGFsaXRpZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfY291bnRpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY291bnRpZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX2V4aXN0czogZnVuY3Rpb24odXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAndXNlcl9leGlzdHMnLCB1c2VybmFtZTogdXNlcm5hbWV9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfcmVnaXN0ZXI6IGZ1bmN0aW9uKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCBwaG9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICd1c2VyX3JlZ2lzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHBob25lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfY29uZmlybTogZnVuY3Rpb24odXNlcm5hbWUsIHBpbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICd1c2VyX2NvbmZpcm0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW46IHBpblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX2luZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfaW5mbyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICd1c2VyX2xvZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25EYXRhLnNldFRva2VuKGRhdGEuZGF0YS5yZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWRlZCBmb3IgY2hhaW5pbmcgb2YgcHJvbWlzZXMsIHNob3VsZCBiZSBkb25lIHNvbWUgb3RoZXIgd2F5IHBlcmhhcHM/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfbG9nb3V0J30pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25EYXRhLmRlbGV0ZVRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9wcm9kdWN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9wcm9kdWN0cyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9maXNoZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfZmlzaGVzJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X3RlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVjaG5pcXVlcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9iYWl0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9iYWl0cyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9vcmdhbml6YXRpb25zOiBmdW5jdGlvbihvcmdpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfb3JnYW5pemF0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9vcmdfbW9kaWZpZWQ6IGZ1bmN0aW9uKG9yZ2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9vcmdfbW9kaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfYXJlYXM6IGZ1bmN0aW9uKGFyZWFpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfYXJlYXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9hcmVhc19tb2RpZmllZDogZnVuY3Rpb24oYXJlYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9hcmVhc19tb2RpZmllZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYWlkOiBhcmVhaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X3Byb2R1Y3RzOiBmdW5jdGlvbihhcmVhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3Byb2R1Y3RzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhaWQ6IGFyZWFpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfcnVsZXM6IGZ1bmN0aW9uKHJ1bGVpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfcnVsZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVpZDogcnVsZWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9waG90b3M6IGZ1bmN0aW9uKG9yZ2lkLCBhcmVhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3Bob3RvcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9tYXBfcG9pczogZnVuY3Rpb24ob3JnaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X21hcF9wb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdpZDogb3JnaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X21hcF9wb2lfdHlwZXMgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X21hcF9wb2lfdHlwZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfbWFwX3BvbHlnb25zOiBmdW5jdGlvbihvcmdpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfbWFwX3BvbHlnb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdpZDogb3JnaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9nZXRfZmF2b3JpdGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2dldF9mYXZvcml0ZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfdGVybXNfb2Zfc2VydmljZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF90ZXJtc19vZl9zZXJ2aWNlJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X2NvbnRhY3RfaW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9jb250YWN0X2luZm8nfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfZW5naW5lX3BvbGljaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2VuZ2luZV9wb2xpY2llcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9zbXNfdGVybXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfc21zX3Rlcm1zJ30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGInLCBbXSlcbiAgICAucHJvdmlkZXIoJ0RCJywgZnVuY3Rpb24gREJQcm92aWRlcigpIHtcblxuICAgICAgICB0aGlzLiRnZXQgPSBbICckY29yZG92YVNRTGl0ZScsICdBUEknLCAnJHEnLCBmdW5jdGlvbigkY29yZG92YVNRTGl0ZSwgQVBJLCAkcSkge1xuXG5cbiAgICAgICAgICAgIHZhciBkYjtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuc3FsaXRlUGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgZGIgPSAkY29yZG92YVNRTGl0ZS5vcGVuREIoJ2Zpc2tlYmFzZW4uZGInKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm9wZW5EYXRhYmFzZSkge1xuICAgICAgICAgICAgICAgIGRiID0gd2luZG93Lm9wZW5EYXRhYmFzZSgnZmlza2ViYXNlbi5kYicsICcxLjAnLCAnZmlza2ViYXNlbicsIDEwKjEwMjQqMTAyNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlLCBzb3JyeScpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdmFyIHRhYmxlRGVmID0ge1xuICAgICAgICAgICAgICAgICdBcmVhJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ29yZ2lkJywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydrdycsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbm90ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2MxJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2MyJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2MzJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ20xJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ20yJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ20zJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsbmcnLCAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnem9vbScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BudCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NhcicsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2VuZycsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2hjcCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21hcCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd3c2MnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdBcmVhX0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2FpZCcsICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmaWQnLCAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYW1vdW50JywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NvbW1lbnQnLCAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0MicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ25vJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW0nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwZicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2FpJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyaScsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY2gnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2hsJywgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdDb3VudHknOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3MnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnTXVuaWNpcGFsaXR5JzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ25hbWUnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtYXgnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW1nJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2luJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydnZW8nLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc2l6ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWMnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdSdWxlJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndmVyJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1VzZXJfUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYXQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NvZGUnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmcicsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZnVsbG5hbWUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydvdCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3JlZjEnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWYyJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0bycsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncGlkJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BkZicsICAgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdVc2VyX0luZm8nOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3VzZXJuYW1lJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbG9nZ2VkaW4nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydJUDEnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ0lQMicsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbmFtZScsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydlbWFpbCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NyZWF0ZWQnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdVc2VyX051bWJlcic6IFtcbiAgICAgICAgICAgICAgICAgICAgWydudW1iZXInLCAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnVGVjaG5pcXVlJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZGUnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RhJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW1nMScsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltZzInLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbWczJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsneW91dHViZScsICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnT3JnYW5pemF0aW9uJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3AnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd1cmwnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NvJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndmF0JywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RwJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmdmEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3JnJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21sJywgICAgICdpbnQnXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBjcmVhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldHZhbCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLnJvd3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dmFsLnB1c2goZGF0YS5yb3dzLml0ZW0oaSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dmFsO1xuICAgICAgICAgICAgfTtcblxuXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUYWJsZTogZnVuY3Rpb24odGFibGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gJyArIHRhYmxlICsgJzsnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbmdsZURhdGEgPSBkYXRhW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydERhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZURlZlt0YWJsZV0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydERhdGEucHVzaChzaW5nbGVEYXRhW3RhYmxlRGVmW3RhYmxlXVtpXVswXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJTlNFUlQgSU5UTycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWQUxVRVMoPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLD8nLnJlcGVhdChpbnNlcnREYXRhLmxlbmd0aC0xKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ10uam9pbignICcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5LCBpbnNlcnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGNsZWFuVGFibGU6IGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEcm9wcyBhbGwgdGFibGVzIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgICAgICAqIEBtZXRob2QgY2xlYW5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHRhYmxlIGluIHRhYmxlRGVmKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIGFsbCB0YWJsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEluaXRpYWxpZXMgdGhlIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbiggZnVuY3Rpb24gKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB0YWJsZSBpbiB0YWJsZURlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInICsgdGFibGVEZWZbdGFibGVdLmpvaW4oJ19fX1wiJykuc3BsaXQoJywnKS5qb2luKCdcIiAnKS5zcGxpdCgnX19fJykuam9pbignLCAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIFBSSU1BUlkgS0VZKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInICsgdGFibGVEZWZbdGFibGVdWzBdWzBdICsgJ1wiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpKTsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cblxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhbiBhcmVhXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRBcmVhXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBpZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdldEFyZWE6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoYXJlYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBjcmVhdGVPYmplY3QoYXJlYSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9waG90b3Mob2JqZWN0Lm9yZ2lkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2VzID0gaW1hZ2VzLmRhdGEucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRBcmVhRmlzaGVzOiBmdW5jdGlvbihhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKCBmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhX0Zpc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIEZpc2ggT04gQXJlYV9GaXNoLmZpZCA9IEZpc2guSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBBcmVhX0Zpc2guYWlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbYWlkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2VhcmNoZXMgdGhlIGRhdGFiYXNlIHVzaW5nIGEgcXVlcnlcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFRoZSBxdWVyeSBpcyBtYXRjaGVkIHRvIGEgbmFtZSBhbmQvb3Iga2V5d29yZFxuICAgICAgICAgICAgICAgICAqIEBtZXRob2Qgc2VhcmNoXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaHN0cmluZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNlYXJjaDogZnVuY3Rpb24oc2VhcmNoc3RyaW5nLCBjb3VudHlfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKCBmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgdCBMSUtFID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb3VudHlfaWQgPyAnQU5EIGMxID0gPyc6JycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSB0J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHlfaWQgPyBbJyUnICsgc2VhcmNoc3RyaW5nICsgJyUnLCBjb3VudHlfaWRdOlsnJScgKyBzZWFyY2hzdHJpbmcgKyAnJSddKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IGEgcHJvZHVjdFxuICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0UHJvZHVjdFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcHJvZHVjdF9pZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdldFByb2R1Y3Q6IGZ1bmN0aW9uKHByb2R1Y3RfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHNvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBbcHJvZHVjdF9pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEdldHMgYWxsIHByb2R1Y3RzIGZyb20gYW4gYXJlYVxuICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0UHJvZHVjdHNCeUFyZWFcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGFyZWFfaWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRQcm9kdWN0c0J5QXJlYTogZnVuY3Rpb24oYXJlYV9pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBESVNUSU5DVCBQcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgYWkgPSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgc28nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFthcmVhX2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0Q291bnRpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBESVNUSU5DVCBDb3VudHkuKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQ291bnR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBBcmVhIE9OIEFyZWEuYzEgPSBDb3VudHkuSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBDb3VudHkudCdcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRVc2VyUHJvZHVjdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBVc2VyX1Byb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFVzZXJfUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xFRlQgSk9JTiBQcm9kdWN0IE9OIFByb2R1Y3QuSUQgPSBVc2VyX1Byb2R1Y3QucGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTEVGVCBKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0RmlzaGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIEZpc2gnXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0RmlzaDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIEZpc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0VGVjaG5pcXVlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBUZWNobmlxdWUnXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldFRlY2huaXF1ZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIFRlY2huaXF1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0T3JnYW5pemF0aW9uOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gT3JnYW5pemF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgSUQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFVzZXJfSW5mbydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QodXNlcilbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRVc2VyTnVtYmVyczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFVzZXJfTnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5maWx0ZXJzJywgW10pXG4uZmlsdGVyKCdub2JycycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvKDxicj5cXHMqKSsvZywgJzxicj4nKTtcbiAgICB9O1xufSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS51cGRhdGUnLCBbJ2lmaXNrZS5hcGknLCAnaWZpc2tlLmRiJywgJ2lmaXNrZS51dGlscyddKVxuICAgIC5wcm92aWRlcignVXBkYXRlJywgZnVuY3Rpb24gVXBkYXRlUHJvdmlkZXIoKSB7XG5cblxuICAgICAgICB0aGlzLiRnZXQgPSBbXG4gICAgICAgICAgICAnQVBJJyxcbiAgICAgICAgICAgICdEQicsXG4gICAgICAgICAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICAnJGlvbmljTG9hZGluZycsXG4gICAgICAgICAgICAnc2Vzc2lvbkRhdGEnLFxuICAgICAgICAgICAgZnVuY3Rpb24oQVBJLCBEQiwgbG9jYWxTdG9yYWdlLCAkcSwgJGlvbmljTG9hZGluZywgc2Vzc2lvbkRhdGEpIHtcblxuICAgICAgICAgICAgICAgIHZhciBMQVNUX1VQREFURSA9ICdsYXN0X3VwZGF0ZSc7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9wdWxhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2FyZWFzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlzaEFyciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEuZGF0YS5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlzaGVzID0gZGF0YS5kYXRhLnJlc3BvbnNlW2tleV0uZmlzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBmaXNoS2V5IGluIGZpc2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlzaEFyci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSUQnOiBrZXkrJ18nK2Zpc2hLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlkOiBmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFpZDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmlzaGVzW2Zpc2hLZXldWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGZpc2hlc1tmaXNoS2V5XVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ0FyZWEnLCBkYXRhLmRhdGEucmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdBcmVhX0Zpc2gnLCBmaXNoQXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgQXJlYScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcHJvZHVjdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQcm9kdWN0JywgZGF0YS5kYXRhLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFByb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvdW50aWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnQ291bnR5JywgZGF0YS5kYXRhLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIENvdW50eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbXVuaWNpcGFsaXRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdNdW5pY2lwYWxpdHknLCBkYXRhLmRhdGEucmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgTXVuaWNpcGFsaXR5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9maXNoZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdGaXNoJywgZGF0YS5kYXRhLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEZpc2gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3J1bGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUnVsZScsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBSdWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF90ZWNobmlxdWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVGVjaG5pcXVlJywgZGF0YS5kYXRhLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFRlY2huaXF1ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfb3JnYW5pemF0aW9ucygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ09yZ2FuaXphdGlvbicsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBPcmdhbml6YXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBwb3B1bGF0ZVVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9wcm9kdWN0cygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1VzZXJfUHJvZHVjdCcsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX1Byb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9pbmZvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVycyA9IGRhdGEuZGF0YS5yZXNwb25zZS5udW1iZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1BcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbnVtYmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1BcnIucHVzaCh7J251bWJlcic6IG51bWJlcnNbaV19KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ1VzZXJfSW5mbycsIFtkYXRhLmRhdGEucmVzcG9uc2VdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9JbmZvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX051bWJlcicsIG51bUFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFVzZXJfTnVtYmVycycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBjbGVhblVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX1Byb2R1Y3QnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmNsZWFuVGFibGUoJ1VzZXJfTnVtYmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX0luZm8nKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIHVzZXIgaW5mbyBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvdWxkIG5vdCByZW1vdmUgdXNlciBkYXRhIGZyb20gZGF0YWJhc2UhJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbihmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFVwZGF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0KExBU1RfVVBEQVRFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhV2VlayA9IDEwMDAqMzYwMCoyNCo3O1xuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50VGltZSAtIGxhc3RVcGRhdGUgPiBhV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVVzZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVsYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIGFsbCB0aGUgdGhpbmdzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldChMQVNUX1VQREFURSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyLmVycm9yX2NvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aGVudGljYXRpb24gZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG93IHRvIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5Vc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR290IGFuIGVycm9yLCB3aWxsIHRyeSB0byByZWNyZWF0ZSBhbGwgdGFibGVzOiAnLCBlcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5jbGVhbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIuaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdWxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBhbGwgdGhlIHRoaW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldChMQVNUX1VQREFURSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0aWxsIGVycm9yLCBoYW5kbGUgaXQhJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfdGVybXNfb2Zfc2VydmljZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgndG9zJyxkYXRhLmRhdGEucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Ntc190ZXJtcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih0ZXJtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Ntc190ZXJtcycsIHRlcm1zLmRhdGEucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvbnRhY3RfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnY29udGFjdEluZm8nLCBkYXRhLmRhdGEucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5pbml0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXplZCBEQiBzeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzZXNzaW9uRGF0YS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVVzZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub191cGRhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZm9yY2VkVXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgdXNlcl9sb2dvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5Vc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9sb2dpbjogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQVBJLnVzZXJfbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnVuYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxhc3RfdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0KExBU1RfVVBEQVRFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XTtcbiAgICB9KTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UudXRpbHMnLCBbXSlcblxuLmZhY3RvcnkoJ2xvY2FsU3RvcmFnZScsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuLnNlcnZpY2UoJ3Nlc3Npb25EYXRhJywgWydsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbihsb2NhbFN0b3JhZ2UpIHtcbiAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldCgnc2Vzc2lvbicpO1xuXG4gICAgdGhpcy5zZXRUb2tlbiA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnc2Vzc2lvbicsIHQpO1xuICAgICAgICB0aGlzLnRva2VuID0gdDtcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHNldCcpO1xuICAgIH07XG4gICAgdGhpcy5kZWxldGVUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlKCdzZXNzaW9uJyk7XG4gICAgICAgIHRoaXMudG9rZW4gPSBudWxsO1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gdW5zZXQnKTtcbiAgICB9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ25nQ29yZG92YVNtcycsIFtdKVxuLmRpcmVjdGl2ZSgnbmdDb3Jkb3ZhU21zJywgWyckY29yZG92YVNtcycsICckaW9uaWNQb3B1cCcsIGZ1bmN0aW9uKCRjb3Jkb3ZhU21zLCAkaW9uaWNQb3B1cCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkaW9uaWNQb3B1cC5wcm9tcHQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1Nrcml2IGluIGRpdHQgbmFtbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VHlwZTogJ3RleHQnXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ0ZJU0tBICcgKyBhdHRycy5uZ0NvcmRvdmFTbXMgKyAnICcgKyBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNtcy5zZW5kKCc3MjQ1NicsIG1lc3NhZ2UsICdJTlRFTlQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWNjdWVzcycpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kaXJlY3RpdmVzJylcbiAgICAuZGlyZWN0aXZlKCdpZmlza2VJbnB1dCcsIGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgIHRyYW5zY2x1ZGU6IHRydWUsXG5cblx0ICAgIHNjb3BlOiB7XG5cdFx0bmFtZTogJ0AnLFxuXHRcdGlkOiAnQCcsXG5cdFx0bGFiZWw6ICdAJyxcblx0XHRwbGFjZWhvbGRlcjogJ0AnLFxuXHRcdHR5cGU6ICdAJyxcblx0XHRuZ1BhdHRlcm46ICdAJyxcblx0XHRuZ01vZGVsOiAnPT8nXG5cblx0ICAgIH0sXG5cdCAgICB0ZW1wbGF0ZVVybDogJ2RpcmVjdGl2ZXMvaW5wdXRfZmllbGQvaWZpc2tlX2lucHV0Lmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlKSB7XG5cdFx0JHNjb3BlLmlkID0gJHNjb3BlLmlkIHx8ICRzY29wZS5uYW1lO1xuXHRcdCRzY29wZS50eXBlID0gJHNjb3BlLnR5cGUgfHwgJ3RleHQnO1xuXHQgICAgfVxuXHR9XG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdzeXN0ZW1Ccm93c2VyJywgW10pXG4uZGlyZWN0aXZlKCdzeXN0ZW1Ccm93c2VyJywgWyckY29yZG92YUluQXBwQnJvd3NlcicsIGZ1bmN0aW9uKCRjb3Jkb3ZhSW5BcHBCcm93c2VyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3BlbihlbFswXS5ocmVmLCAnX3N5c3RlbScpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuLmRpcmVjdGl2ZSgnZ2xvYmFsU3lzdGVtQnJvd3NlcicsIFsnJGNvcmRvdmFJbkFwcEJyb3dzZXInLCBmdW5jdGlvbigkY29yZG92YUluQXBwQnJvd3Nlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5ocmVmICYmIGUudGFyZ2V0Lmhvc3QgIT09IHdpbmRvdy5sb2NhdGlvbi5ob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4oZS50YXJnZXQuaHJlZiwgJ19zeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==