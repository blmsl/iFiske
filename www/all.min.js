angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive","tabSlideBox"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&window.StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!1,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/app/login";window.localStorage.getItem("session")&&(r="/app/home"),t.otherwise(r),e.state("app",{url:"/app",templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("app.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("app.recover",{url:"/recover",templateUrl:"components/recover/recover.html",controller:"RecoverCtrl"}).state("app.recover.lostpassword",{url:"/lostpassword",templateUrl:"components/recover/lostpassword.html"}).state("app.recover.resetpassword",{url:"/resetpassword",templateUrl:"components/recover/resetpassword.html"}).state("app.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("app.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("app.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("app.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("app.info",{url:"/info",templateUrl:"components/info/info.html"}).state("app.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("app.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("app.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("app.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("app.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("app.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("app.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("app.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("app.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("app.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("app.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("app.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("app.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("app.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("app.area",{url:"/area/:id",views:{"@app":{templateUrl:"components/area/area.html",controller:"AreaCtrl"},"info@app.area":{templateUrl:"components/area/info.html",controller:"AreaInfoCtrl"},"map@app.area":{templateUrl:"components/area/map.html",controller:"AreaMapCtrl"},"fishinfo@app.area":{templateUrl:"components/area/fish.html",controller:"AreaFishCtrl"},"cards@app.area":{templateUrl:"components/area/cards.html",controller:"AreaCardsCtrl"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Okänt",e.update=o,n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log("iFiske version:",t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCardsCtrl",["$scope","$ionicModal","localStorage",function(e,t,n){e.$on("$ionicView.beforeEnter",function(){e.smsterms=n.get("sms_terms"),e.predicate="so",t.fromTemplateUrl("components/area/sms_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,t.fromTemplateUrl("components/area/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){e.image_endpoint="http://www.ifiske.se/",n.getArea(t.id).then(function(t){e.area=t,e.$broadcast("ifiske-area"),e.images=t.images,o.$getByHandle("tabs").update(),n.getOrganization(t.orgid).then(function(t){e.org=t})},function(e){console.log(e)}),n.getAreaFishes(t.id).then(function(t){e.fishes=t,o.$getByHandle("tabs").update()},function(e){console.log(e)}),n.getProductsByArea(t.id).then(function(t){e.products=t,o.$getByHandle("tabs").update()},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("AreaFishCtrl",["$scope",function(e){e.sortorder="-amount",e.$on("$ionicView.beforeEnter",function(){})}]),angular.module("ifiske.controllers").controller("AreaInfoCtrl",["$scope","$ionicSlideBoxDelegate",function(e,t){e.gotoProducts=function(){t.$getByHandle("tabs").slide(1)},e.$on("$ionicView.beforeEnter",function(){})}]),angular.module("ifiske.controllers").controller("AreaMapCtrl",["$scope","DB","leafletEvents","$ionicPlatform","$cordovaGeolocation","$cordovaDeviceOrientation","$timeout",function(e,t,n,o,r,i,a){function s(t){t.iconAngle=(0|t.iconAngle)-45,e.map.markers.mypos2?(angular.extend(e.map.markers.mypos2,t),e.map.markers.mypos=e.map.markers.mypos2,delete e.map.markers.mypos2):(angular.extend(e.map.markers.mypos,t),e.map.markers.mypos2=e.map.markers.mypos,delete e.map.markers.mypos)}var l={},c="http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",u="pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg",p=function(){e.map.center={lat:e.area.lat,lng:e.area.lng,zoom:Number(e.area.zoom)?Number(e.area.zoom):9},t.getPoiTypes().then(function(n){for(var o=0;o<n.length;++o){var r=n[o];l[r.ID]={iconUrl:e.image_endpoint+r.icon,iconAnchor:[16,37],popupAnchor:[0,-35]}}t.getPois(e.area.orgid).then(function(t){for(var n=0;n<t.length;++n){var o=t[n];e.map.markers["poi"+n]={layer:"pois",lat:o.la,lng:o.lo,icon:l[o.type],message:"<h4>"+o.t+"</h4><p>"+o.d+"</p>",popupOptions:{maxWidth:window.innerWidth-50}}}e.map.markers.area={layer:"pois",lat:e.area.lat,lng:e.area.lng,message:e.area.t}},function(e){console.error(e)}),t.getPolygons(e.area.orgid).then(function(t){e.map.paths=t.map(function(e){return{latlngs:JSON.parse("["+e.poly+"]"),color:e.c,weight:2,opacity:.5,fillColor:e.c,type:"polygon"}})},function(e){console.error(e)})})};angular.extend(e,{map:{center:{},paths:{},markers:{mypos:{lat:0,lng:0,iconAngle:0,message:"This is you!",icon:{type:"div",iconSize:[40,40],iconAnchor:[20,20],className:"icon ion-navigate myposition"}}},layers:{baselayers:{outdoors:{name:"Utomhus",type:"xyz",url:c,layerOptions:{maptype:"mapbox.outdoors",apikey:u}},satellite:{name:"Satellit",type:"xyz",url:c,layerOptions:{maptype:"mapbox.satellite",apikey:u}}},overlays:{pois:{name:"Ställen",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}}}),e.$on("$ionicView.beforeEnter",function(){e.area&&p(),e.$on("ifiske-area",p),o.ready(function(){r.watchPosition({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({lat:e.coords.latitude,lng:e.coords.longitude})})}),i.watchHeading({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({iconAngle:e.trueHeading})})})}),e.navigate=function(){o.ready(function(){launchnavigator.navigate([e.navto.lat,e.navto.lng],null,function(){console.log("Opening navigator")},function(e){alert("Navigation failed!",e)})})};var t=["popupopen","popupclose"];e.events={enabled:t},e.$on("leafletDirectiveMarker.popupopen",function(t,n){e.navto=n.model}),e.$on("leafletDirectiveMarker.popupclose",function(){e.navto=null})})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){var r=t.search;e.search=r,e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){e.search=""},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("app.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading","$ionicHistory","$ionicViewSwitcher",function(e,t,n,o,r,i){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),i.nextDirection("forward"),t.go("app.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})},e.skip=function(){i.nextDirection("forward"),r.nextViewOptions({disableBack:!0,historyRoot:!0}),t.go("app.home")}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","$ionicPlatform","DB","$cordovaGeolocation","$cordovaDeviceOrientation","$timeout",function(e,t,n,o,r,i,a){function s(t){t.iconAngle=(0|t.iconAngle)-45,e.markers.mypos2?(angular.extend(e.markers.mypos2,t),e.markers.mypos=e.markers.mypos2,delete e.markers.mypos2):(angular.extend(e.markers.mypos,t),e.markers.mypos2=e.markers.mypos,delete e.markers.mypos)}angular.extend(e,{center:{lat:62,lng:15,zoom:5},layers:{baselayers:{outdoors:{name:"Utomhuskarta",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}},satellite:{name:"Satellit",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.satellite",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{fishareas:{name:"Fiskeområden",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}},markers:{mypos:{lat:0,lng:0,iconAngle:-45,message:"hi!",icon:{type:"div",iconSize:[40,40],iconAnchor:[20,20],className:"icon ion-navigate myposition"}}}}),n.ready(function(){r.watchPosition({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({lat:e.coords.latitude,lng:e.coords.longitude})})}),i.watchHeading({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({iconAngle:e.trueHeading})})})}),e.$on("$ionicView.beforeEnter",function(){console.log("hi!"),o.search("").then(function(t){for(var n=0;n<t.length;++n){var o=t[n];e.markers["area"+n]={layer:"fishareas",lat:o.lat,lng:o.lng,getMessageScope:function(){var t=e.$new();return t.area=o,t},message:'<a ui-sref="app.area({id: area.ID })">{{area.t}}</a>'}}})})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicViewSwitcher","$ionicPopover","sessionData","Update",function(e,t,n,o,r,i){e.sessionData=r,o.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("app.userinfo")},e.logout=function(){e.popover.hide(),i.user_logout(),t.go("app.login")},e.login=function(){e.popover.hide(),n.nextDirection("back"),t.go("app.login")},e.register=function(){e.popover.hide(),t.go("app.register.details")},e.forcedUpdate=function(){i.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RecoverCtrl",["$scope","$state","$ionicHistory","$ionicPlatform","$ionicLoading","$cordovaToast","API",function(e,t,n,o,r,i,a){"use strict";var s="";e.skip=function(){e.info="",t.go("^.resetpassword")},e.lostPassword=function(n){r.show(),s=n.user.$viewValue,a.user_lost_password(s).then(function(n){e.info="En återställningskod kommer skickas till dig inom kort, via ",n.mailed&&(e.info+="e-mail",n.texted&&(e.info+=" och ")),n.texted&&(e.info+="sms"),e.info+=".",t.go("^.resetpassword")},function(){n.user.$setValidity("invalidUser",!1)})["finally"](r.hide)},e.resetPassword=function(e){r.show(),a.user_reset_password(s,e.password.$viewValue,e.code.$viewValue).then(function(e){console.log(e),o.ready(function(){i.showLongBottom("Ditt lösenord har ändrats")}),n.goToHistoryRoot(n.currentView().historyId)},function(e){console.log(e)})["finally"](r.hide)}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,r,i,a){var s;e.checkUsername=function(e){i.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t)})},e.checkEmail=function(e){i.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,s=o.username.$viewValue;var a=o.password.$viewValue,l=o.fullname.$viewValue,c=o.email.$viewValue;i.user_register(s,l,a,c,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,r.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;i.user_confirm(s,o.$viewValue).then(function(){o.$setValidity("verified",!0),t.go("app.login")},function(){o.$setValidity("verified",!1)})["finally"](n.hide())},e.tos=a.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","Update","$ionicModal",function(e,t,n,o,r){e.pred="-to",e.endpoint="https://www.ifiske.se";var i=function(){e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)})};e.$on("$ionicView.beforeEnter",i),r.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()}),e.update=function(){o.update()["finally"](function(){e.$broadcast("scroll.refreshComplete"),i()})}}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,a=function(n,o){return r(function(r,a){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:o!==!1}).success(function(e){"error"===e.status?a(e.message):e.data?r(e.data.response):a(e)}).error(function(e,t){a(0===t?new Error("Request timeout"):e)})})},s=function(t,o){var r=n.token;return a(e.extend(t,{s:r}),o)};return{get_municipalities:function(){return a({m:"get_municipalities"})},get_counties:function(){return a({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return e&&"string"==typeof e&&(n.username=e),t&&"string"==typeof t&&(n.email=t),a(n,!1)},user_register:function(e,t,n,o,r){return a({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r},!1)},user_confirm:function(e,t){return a({m:"user_confirm",username:e,pin:t},!1)},user_info:function(){return s({m:"user_info"})},user_lost_password:function(e){return a({m:"user_lost_password",user_identification:e},!1)},user_reset_password:function(e,t,n){return a({m:"user_reset_password",user_identification:e,password:t,code:n},!1)},user_change_password:function(e,t){return s({m:"user_change_password",old_password:e,new_password:t},!1)},user_login:function(e,t){return a({m:"user_login",username:e,password:t},!1).then(function(e){return n.setToken(e),e})},user_logout:function(){s({m:"user_logout"},!1).then(function(){n.deleteToken()})},user_products:function(){return s({m:"user_products"},!1)},get_fishes:function(){return a({m:"get_fishes"})},get_techniques:function(){return a({m:"get_techniques"})},get_baits:function(){return a({m:"get_baits"})},get_organizations:function(e){return a({m:"get_organizations",orgid:e})},get_org_modified:function(e){return a({m:"get_org_modified",orgid:e})},get_areas:function(e){return a({m:"get_areas",areaid:e})},get_areas_modified:function(e){return a({m:"get_areas_modified",areaid:e})},get_products:function(e){return a({m:"get_products",areaid:e})},get_rules:function(e){return a({m:"get_rules",ruleid:e})},get_photos:function(e,t){return a({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return a({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return a({m:"get_map_poi_types"})},get_map_polygons:function(e){return a({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return s({m:"user_get_favorites"},!1)},get_terms_of_service:function(){return a({m:"get_terms_of_service"})},get_contact_info:function(){return a({m:"get_contact_info"})},get_engine_policies:function(){return a({m:"get_engine_policies"})},get_sms_terms:function(){return a({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]],Poi:[["ID","int"],["orgid","int"],["type","int"],["price","int"],["t","text"],["d","text"],["la","real"],["lo","real"]],Poi_Type:[["ID","int"],["t","text"],["icon","text"]],Polygon:[["ID","int"],["orgid","int"],["t","text"],["c","text"],["ver","int"],["mod","int"],["poly","text"]]},a=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],a=[],s=0;s<i[e].length;++s)a.push(r[i[e][s][0]]);var l=["INSERT INTO",e,"VALUES(?",",?".repeat(a.length-1),")"].join(" ");n.executeSql(l,a)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){for(var n=i[t],o=[],r=0;r<n.length;++r)o.push('"'+n[r][0]+'" '+n[r][1]);o=o.join(", ");var a=["CREATE TABLE IF NOT EXISTS",t,"(",o,", PRIMARY KEY(",'"'+n[0][0]+'"',"));"].join(" ");e.executeSql(a)}},t,e)})},getArea:function(t){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=a(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e,o(t)},function(e){console.warn(e),o(t)})},i)})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(a(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(a(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(a(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(a(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(a(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(a(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(a(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(a(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(a(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(a(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(a(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(a(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(a(e))},n)})},getPois:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Poi","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(a(e))},o)})},getPoiTypes:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM Poi_Type"].join(" ")).then(function(e){t(a(e))},n)})},getPolygons:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Polygon","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(a(e))},o)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("onebr",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}).filter("nobrs",function(){return function(e){return e.replace(/(<br(\s*\/)*>)+/g,"")}}).filter("cleantables",function(){return function(e){return e=e.replace(/(<\/?table>)+/g,""),e=e.replace(/(<\/?tr>)+/g,""),e=e.replace(/(<\/?th>)+/g,""),e=e.replace(/(<(\/?)td.*?>)+?/g,"<$2p>"),e=e.replace(/<p>\s*<\/p>/g,"")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var a="last_update",s=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e){var i=e[r].fish;for(var a in i)n.push({ID:r+"_"+a,fid:a,aid:r,amount:i[a][0],comment:i[a][1]})}return o.all([t.populateTable("Area",e),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})}),e.get_map_pois().then(function(e){return t.populateTable("Poi",e).then(function(){console.log("Populated Poi")},function(e){return console.log(e),o.reject(e)})}),e.get_map_poi_types().then(function(e){return t.populateTable("Poi_Type",e).then(function(){console.log("Populated Poi_Type")},function(e){return console.log(e),o.reject(e)})}),e.get_map_polygons().then(function(e){return t.populateTable("Polygon",e).then(function(){console.log("Populated Polygon")},function(e){return console.log(e),o.reject(e)})})])},l=function(){return o.all([e.user_products().then(function(e){return console.log(e),t.populateTable("User_Product",e).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},c=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},u=function(u){r.show();var p=Date.now(),f=0;u||(f=n.get(a));var m=6048e5;return p-f>m?(console.log(f,p,u),o.all([t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([l(),s()]):s()}).then(function(){console.log("Populated all the things"),n.set(a,p),r.hide()},function(o){return 7!==o.error_code?(console.warn("Got an error, will try to recreate all tables:",o),t.clean().then(function(){return t.init()}).then(function(){return s()}).then(function(){console.log("Populated all the things"),n.set(a,p),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(c(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e)}),e.get_contact_info().then(function(e){n.set("contactInfo",e)})])):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&l().then(function(){r.hide()},function(e){console.error(e),r.hide()}),r.hide()}):(console.log("no_update"),r.hide(),o.when("No update"))};return{update:function(){return u()},forcedUpdate:function(){return u(!0)},user_logout:function(){return c(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){u()})},last_update:function(){return n.get(a)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)
},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfY2FyZHNfY29udHJvbGxlci5qcyIsImFyZWEvYXJlYV9jb250cm9sbGVyLmpzIiwiYXJlYS9hcmVhX2Zpc2hfY29udHJvbGxlci5qcyIsImFyZWEvYXJlYV9pbmZvX2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfbWFwX2NvbnRyb2xsZXIuanMiLCJhcmVhX2xpc3QvYXJlYV9saXN0X2NvbnRyb2xsZXIuanMiLCJjb250YWN0L2NvbnRhY3RfY29udHJvbGxlci5qcyIsImNvdW50aWVzL2NvdW50aWVzX2NvbnRyb2xsZXIuanMiLCJmaXNoX2RldGFpbC9maXNoX2RldGFpbF9jb250cm9sbGVyLmpzIiwiZmlzaGVzL2Zpc2hlc19jb250cm9sbGVyLmpzIiwiaG9tZS9ob21lX2NvbnRyb2xsZXIuanMiLCJsZWdhbC9sZWdhbF9jb250cm9sbGVyLmpzIiwibG9naW4vbG9naW5fY29udHJvbGxlci5qcyIsIm1hcC9tYXBfY29udHJvbGxlci5qcyIsIm1lbnUvbWVudV9jb250cm9sbGVyLmpzIiwicmVjb3Zlci9yZWNvdmVyX2NvbnRyb2xsZXIuanMiLCJyZWdpc3Rlci9yZWdpc3Rlcl9jb250cm9sbGVyLmpzIiwidGVjaG5pcXVlX2RldGFpbC90ZWNobmlxdWVfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVzL3RlY2huaXF1ZXNfY29udHJvbGxlci5qcyIsInVzZXIvdXNlcl9jb250cm9sbGVyLmpzIiwidXNlcl9jYXJkcy91c2VyX2NhcmRzX2NvbnRyb2xsZXIuanMiLCJhcGkuanMiLCJkYi5qcyIsImZpbHRlci5qcyIsInVwZGF0ZS5qcyIsInV0aWxzLmpzIiwiaWZpc2tlX3Ntcy9pZmlza2Vfc21zLmpzIiwiaW5wdXRfZmllbGQvaWZpc2tlX2lucHV0LmpzIiwic3lzdGVtX2Jyb3dzZXIvc3lzdGVtX2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidGVtcGxhdGUiLCJydW4iLCIkaW9uaWNQbGF0Zm9ybSIsIlVwZGF0ZSIsIkltZ0NhY2hlIiwicmVhZHkiLCJ3aW5kb3ciLCJpb25pYyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0IiwiJGluaXQiLCJ1cGRhdGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiSW1nQ2FjaGVQcm92aWRlciIsInNldE9wdGlvbnMiLCJkZWJ1ZyIsInVzZVBlcnNpc3RlbnRDYWNoZSIsIm1hbnVhbEluaXQiLCJ2aWV3cyIsImZvcndhcmRDYWNoZSIsImJhY2tCdXR0b24iLCJwcmV2aW91c1RpdGxlVGV4dCIsInRleHQiLCJ0YWJzIiwicG9zaXRpb24iLCJkZWZhdWx0VXJsIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicGFyYW1zIiwiaWQiLCJjb3VudHkiLCJzZWFyY2giLCJmaXNoIiwidGVjaCIsIkBhcHAiLCJpbmZvQGFwcC5hcmVhIiwibWFwQGFwcC5hcmVhIiwiZmlzaGluZm9AYXBwLmFyZWEiLCJjYXJkc0BhcHAuYXJlYSIsIiRzY29wZSIsIiRjb3Jkb3ZhQXBwVmVyc2lvbiIsInZlcnNpb24iLCJkYkRhdGUiLCJjb3Jkb3ZhIiwiZ2V0QXBwVmVyc2lvbiIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiJGlvbmljTW9kYWwiLCIkb24iLCJzbXN0ZXJtcyIsImdldCIsInByZWRpY2F0ZSIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiYW5pbWF0aW9uIiwibW9kYWwiLCJzbXNfbW9kYWwiLCJvcGVuTW9kYWwiLCJwcm9kdWN0Iiwic2hvdyIsImNsb3NlTW9kYWwiLCJoaWRlIiwic2hvd1Rlcm1zIiwic2hvd2luZ3Rlcm1zIiwicnVsZXNfbW9kYWwiLCJvcGVuUnVsZXNNb2RhbCIsImNsb3NlUnVsZXNNb2RhbCIsInJlbW92ZSIsIiRzdGF0ZVBhcmFtcyIsIkRCIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsImltYWdlX2VuZHBvaW50IiwiZ2V0QXJlYSIsImFyZWEiLCIkYnJvYWRjYXN0IiwiaW1hZ2VzIiwiJGdldEJ5SGFuZGxlIiwiZ2V0T3JnYW5pemF0aW9uIiwib3JnaWQiLCJvcmciLCJlcnIiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsImdvdG9Qcm9kdWN0cyIsInNsaWRlIiwibGVhZmxldEV2ZW50cyIsIiRjb3Jkb3ZhR2VvbG9jYXRpb24iLCIkY29yZG92YURldmljZU9yaWVudGF0aW9uIiwiJHRpbWVvdXQiLCJ1cGRhdGVNeXBvcyIsIm9iaiIsImljb25BbmdsZSIsIm1hcCIsIm1hcmtlcnMiLCJteXBvczIiLCJleHRlbmQiLCJteXBvcyIsImljb25zIiwibWFwYm94VXJsIiwiYXBpa2V5IiwidXBkYXRlTWFwIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsIk51bWJlciIsImdldFBvaVR5cGVzIiwicG9pX3R5cGVzIiwiaSIsImxlbmd0aCIsInR5cGUiLCJJRCIsImljb25VcmwiLCJpY29uIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwiZ2V0UG9pcyIsInBvaXMiLCJwb2kiLCJsYXllciIsImxhIiwibG8iLCJtZXNzYWdlIiwidCIsImQiLCJwb3B1cE9wdGlvbnMiLCJtYXhXaWR0aCIsImlubmVyV2lkdGgiLCJlcnJvciIsImdldFBvbHlnb25zIiwicG9seWdvbnMiLCJwYXRocyIsInBvbHkiLCJsYXRsbmdzIiwiSlNPTiIsInBhcnNlIiwiY29sb3IiLCJjIiwid2VpZ2h0Iiwib3BhY2l0eSIsImZpbGxDb2xvciIsImljb25TaXplIiwiY2xhc3NOYW1lIiwibGF5ZXJzIiwiYmFzZWxheWVycyIsIm91dGRvb3JzIiwibmFtZSIsImxheWVyT3B0aW9ucyIsIm1hcHR5cGUiLCJzYXRlbGxpdGUiLCJvdmVybGF5cyIsInZpc2libGUiLCJzaG93T25TZWxlY3RvciIsImRpc2FibGVDbHVzdGVyaW5nQXRab29tIiwiY2h1bmtlZExvYWRpbmciLCJzaG93Q292ZXJhZ2VPbkhvdmVyIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCJ3YXRjaFBvc2l0aW9uIiwiZnJlcXVlbmN5IiwicG9zIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ3YXRjaEhlYWRpbmciLCJoZWFkaW5nIiwidHJ1ZUhlYWRpbmciLCJuYXZpZ2F0ZSIsImxhdW5jaG5hdmlnYXRvciIsIm5hdnRvIiwiYWxlcnQiLCJlbmFibGVkRXZlbnRzIiwiZXZlbnRzIiwiZW5hYmxlZCIsImV2ZW50IiwiYXJncyIsIm1vZGVsIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJjb3B5IiwiZGF0YSIsImFyZWFzIiwiY2xlYXJTZWFyY2giLCJzY3JvbGxUb3AiLCIkc3RhdGUiLCJjb250YWN0SW5mbyIsImdldENvdW50aWVzIiwiY291bnRpZXMiLCJnZXRGaXNoIiwiZ2V0RmlzaGVzIiwiZGVmYXVsdF9pbWciLCJpbWciLCIkaW9uaWNIaXN0b3J5Iiwic2Vzc2lvbkRhdGEiLCJsb2dnZWRJbiIsInNldCIsImN1cnJlbnRIaXN0b3J5SWQiLCJteUZ1bmMiLCIkZXZlbnQiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJnbyIsInNyY0VsZW1lbnQiLCJ2YWx1ZSIsInRvcyIsIiRpb25pY0xvYWRpbmciLCIkaW9uaWNWaWV3U3dpdGNoZXIiLCJzaWduSW4iLCJsb2dpbkZvcm0iLCJ1c2VyX2xvZ2luIiwidXNlcm5hbWUiLCIkdmlld1ZhbHVlIiwicGFzc3dvcmQiLCIkc2V0VmFsaWRpdHkiLCJuZXh0RGlyZWN0aW9uIiwicmVzcG9uc2UiLCJza2lwIiwibmV4dFZpZXdPcHRpb25zIiwiZGlzYWJsZUJhY2siLCJoaXN0b3J5Um9vdCIsImxlYWZsZXREYXRhIiwiZmlzaGFyZWFzIiwiYSIsImdldE1lc3NhZ2VTY29wZSIsIm5ld19zY29wZSIsIiRuZXciLCIkaW9uaWNQb3BvdmVyIiwicG9wb3ZlciIsInVzZXJpbmZvIiwibG9nb3V0IiwidXNlcl9sb2dvdXQiLCJsb2dpbiIsInJlZ2lzdGVyIiwiZm9yY2VkVXBkYXRlIiwiJGNvcmRvdmFUb2FzdCIsIkFQSSIsInVzZXIiLCJpbmZvIiwibG9zdFBhc3N3b3JkIiwiZm9ybSIsInVzZXJfbG9zdF9wYXNzd29yZCIsIm1haWxlZCIsInRleHRlZCIsInJlc2V0UGFzc3dvcmQiLCJ1c2VyX3Jlc2V0X3Bhc3N3b3JkIiwiY29kZSIsInNob3dMb25nQm90dG9tIiwiZ29Ub0hpc3RvcnlSb290IiwiY3VycmVudFZpZXciLCJoaXN0b3J5SWQiLCJjaGVja1VzZXJuYW1lIiwiaW5wdXQiLCJ1c2VyX2V4aXN0cyIsImNoZWNrRW1haWwiLCJmb3JtRXJyb3JzIiwicGhvbmUiLCJmdWxsbmFtZSIsImVtYWlsIiwidXNlcl9yZWdpc3RlciIsInJlZ2lzdHJhdGlvbkVycm9yIiwiZXJyb3JfY29kZSIsInZlcmlmeSIsInZlcmNvZGUiLCJ1c2VyX2NvbmZpcm0iLCJldWxhIiwic2hvd0V1bGEiLCJjbG9zZUV1bGEiLCJpbWcxIiwiaW1nMiIsImltZzMiLCJmaWx0ZXIiLCJlbCIsInRlc3QiLCJnZXRUZWNobmlxdWUiLCJnZXRUZWNobmlxdWVzIiwidGVjaG5pcXVlcyIsImdldFVzZXJJbmZvIiwiZ2V0VXNlck51bWJlcnMiLCJudW1iZXJzIiwicHJlZCIsImVuZHBvaW50IiwiaW5pdGlsaXplIiwibm93IiwiRGF0ZSIsImdldFVzZXJQcm9kdWN0cyIsInByb3ZpZGVyIiwidGhpcyIsImJhc2VfdXJsIiwiJGdldCIsIiRodHRwIiwiJHEiLCJhcGlfY2FsbCIsImNhY2hlIiwiZnVsZmlsbCIsInJlamVjdCIsIm1ldGhvZCIsImtleSIsInRpbWVvdXQiLCJzdWNjZXNzIiwic3RhdHVzIiwiRXJyb3IiLCJzZXNzaW9uX2FwaV9jYWxsIiwic2Vzc2lvbiIsInRva2VuIiwicyIsImdldF9tdW5pY2lwYWxpdGllcyIsIm0iLCJnZXRfY291bnRpZXMiLCJwaW4iLCJ1c2VyX2luZm8iLCJ1c2VyX2lkZW50aWZpY2F0aW9uIiwidXNlcl9jaGFuZ2VfcGFzc3dvcmQiLCJvbGRfcGFzc3dvcmQiLCJuZXdfcGFzc3dvcmQiLCJzZXRUb2tlbiIsImRlbGV0ZVRva2VuIiwidXNlcl9wcm9kdWN0cyIsImdldF9maXNoZXMiLCJnZXRfdGVjaG5pcXVlcyIsImdldF9iYWl0cyIsImdldF9vcmdhbml6YXRpb25zIiwiZ2V0X29yZ19tb2RpZmllZCIsImdldF9hcmVhcyIsImFyZWFpZCIsImdldF9hcmVhc19tb2RpZmllZCIsImdldF9wcm9kdWN0cyIsImdldF9ydWxlcyIsInJ1bGVpZCIsImdldF9waG90b3MiLCJnZXRfbWFwX3BvaXMiLCJnZXRfbWFwX3BvaV90eXBlcyIsImdldF9tYXBfcG9seWdvbnMiLCJ1c2VyX2dldF9mYXZvcml0ZXMiLCJnZXRfdGVybXNfb2Zfc2VydmljZSIsImdldF9jb250YWN0X2luZm8iLCJnZXRfZW5naW5lX3BvbGljaWVzIiwiZ2V0X3Ntc190ZXJtcyIsInVuZGVmaW5lZCIsIiRjb3Jkb3ZhU1FMaXRlIiwiZGIiLCJzcWxpdGVQbHVnaW4iLCJvcGVuREIiLCJvcGVuRGF0YWJhc2UiLCJ0YWJsZURlZiIsIkFyZWEiLCJBcmVhX0Zpc2giLCJQcm9kdWN0IiwiQ291bnR5IiwiTXVuaWNpcGFsaXR5IiwiRmlzaCIsIlJ1bGUiLCJVc2VyX1Byb2R1Y3QiLCJVc2VyX0luZm8iLCJVc2VyX051bWJlciIsIlRlY2huaXF1ZSIsIk9yZ2FuaXphdGlvbiIsIlBvaSIsIlBvaV9UeXBlIiwiUG9seWdvbiIsImNyZWF0ZU9iamVjdCIsInJldHZhbCIsInJvd3MiLCJwdXNoIiwiaXRlbSIsInBvcHVsYXRlVGFibGUiLCJ0YWJsZSIsInRyYW5zYWN0aW9uIiwidHgiLCJleGVjdXRlU3FsIiwic2luZ2xlRGF0YSIsImluc2VydERhdGEiLCJxdWVyeSIsInJlcGVhdCIsImpvaW4iLCJjbGVhblRhYmxlIiwiY2xlYW4iLCJpbml0IiwidGFibGVWYWx1ZXMiLCJleGVjdXRlIiwib2JqZWN0Iiwid2FybiIsImFpZCIsInNlYXJjaHN0cmluZyIsImNvdW50eV9pZCIsImdldFByb2R1Y3QiLCJwcm9kdWN0X2lkIiwiYXJlYV9pZCIsInJlcGxhY2UiLCJMQVNUX1VQREFURSIsInBvcHVsYXRlIiwiYWxsIiwiZmlzaEFyciIsImZpc2hLZXkiLCJmaWQiLCJhbW91bnQiLCJjb21tZW50IiwicG9wdWxhdGVVc2VyIiwibnVtQXJyIiwibnVtYmVyIiwiY2xlYW5Vc2VyIiwidXBkYXRlRnVuYyIsImZvcmNlZCIsImN1cnJlbnRUaW1lIiwibGFzdFVwZGF0ZSIsImFXZWVrIiwidGVybXMiLCJ3aGVuIiwibGFzdF91cGRhdGUiLCJmYWN0b3J5IiwiJHdpbmRvdyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2VydmljZSIsImRpcmVjdGl2ZSIsIiRjb3Jkb3ZhU21zIiwiJGlvbmljUG9wdXAiLCJyZXN0cmljdCIsImxpbmsiLCJhdHRycyIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvbXB0IiwidGl0bGUiLCJpbnB1dFR5cGUiLCJuZ0NvcmRvdmFTbXMiLCJzZW5kIiwidHJhbnNjbHVkZSIsImxhYmVsIiwicGxhY2Vob2xkZXIiLCJuZ1BhdHRlcm4iLCJuZ01vZGVsIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuIiwiaHJlZiIsInRhcmdldCIsImhvc3QiLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6IkFBS0FBLFFBQUFDLE9BQUEsVUFDQSxRQUNBLHFCQUNBLG9CQUNBLGFBQ0EsWUFDQSxlQUNBLGdCQUNBLGlCQUNBLHlCQUNBLFlBQ0EsZ0JBQ0EsZUFDQSxhQUNBLFdBQ0Esb0JBQ0EsZ0JBR0FDLFNBQUEsdUJBQ0FDLFNBQUEsZ0NBR0FDLEtBQUEsaUJBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FGLEVBQUFHLE1BQUEsV0FFQUMsT0FBQUMsT0FBQUQsT0FBQUMsTUFBQUMsVUFDQUYsT0FBQUMsTUFBQUMsU0FBQUMsMEJBQUEsR0FFQUgsT0FBQUksV0FFQUosT0FBQUksVUFBQUMsZUFHQVAsRUFBQVEsUUFDQVQsRUFBQVUsY0FJQUMsUUFDQSxpQkFDQSxxQkFDQSx1QkFDQSxtQkFDQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBQSxFQUFBQyxZQUNBQyxPQUFBLEVBQ0FDLG9CQUFBLElBRUFILEVBQUFJLFlBQUEsRUFHQUwsRUFBQU0sTUFBQUMsY0FBQSxHQUdBUCxFQUFBUSxXQUFBQyxtQkFBQSxHQUFBQyxLQUFBLElBR0FWLEVBQUFXLEtBQUFDLFNBQUEsU0FPQSxJQUFBQyxHQUFBLFlBQ0F4QixRQUFBeUIsYUFBQUMsUUFBQSxhQUNBRixFQUFBLGFBRUFkLEVBQUFpQixVQUFBSCxHQUVBZixFQUVBbUIsTUFBQSxPQUNBQyxJQUFBLE9BRUFDLFlBQUEsNEJBQ0FDLFdBQUEsYUFHQUgsTUFBQSxhQUNBQyxJQUFBLFNBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsY0FJQUgsTUFBQSxlQUNBQyxJQUFBLFdBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsZ0JBRUFILE1BQUEsNEJBQ0FDLElBQUEsZ0JBQ0FDLFlBQUEseUNBRUFGLE1BQUEsNkJBQ0FDLElBQUEsaUJBQ0FDLFlBQUEsMENBSUFGLE1BQUEsZ0JBQ0FDLElBQUEsWUFDQUMsWUFBQSxvQ0FDQUMsV0FBQSxpQkFFQUgsTUFBQSx3QkFDQUMsSUFBQSxXQUNBQyxZQUFBLDhDQUVBRixNQUFBLHVCQUNBQyxJQUFBLFVBQ0FDLFlBQUEsNkNBSUFGLE1BQUEsWUFDQUMsSUFBQSxRQUNBQyxZQUFBLDRCQUNBQyxXQUFBLGFBRUFILE1BQUEsWUFDQUMsSUFBQSxRQUNBQyxZQUFBLDhCQUdBRixNQUFBLFlBQ0FDLElBQUEsUUFDQUMsWUFBQSxnQ0FFQUYsTUFBQSxlQUNBQyxJQUFBLFdBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsZ0JBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGNBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGNBRUFILE1BQUEsZ0JBQ0FDLElBQUEsWUFDQUUsV0FBQSxXQUNBRCxZQUFBLDhCQUdBRixNQUFBLGdCQUNBQyxJQUFBLFlBQ0FDLFlBQUEsb0NBQ0FDLFdBQUEsaUJBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBRyxRQUFBQyxJQUFBLEVBQUFDLFFBQUEsRUFBQUMsT0FBQSxJQUNBTCxZQUFBLHNDQUNBQyxXQUFBLGNBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLHdDQUNBQyxXQUFBLGtCQUVBSCxNQUFBLGlCQUNBQyxJQUFBLGFBQ0FDLFlBQUEsd0NBRUFGLE1BQUEsY0FDQUMsSUFBQSxVQUNBQyxZQUFBLGdDQUNBQyxXQUFBLGVBRUFILE1BQUEsa0JBQ0FDLElBQUEsa0JBQ0FHLFFBQUFDLElBQUEsRUFBQUcsTUFBQSxHQUNBTixZQUFBLDBDQUNBQyxXQUFBLG1CQUVBSCxNQUFBLFdBQ0FDLElBQUEsT0FDQUMsWUFBQSwwQkFDQUMsV0FBQSxZQUVBSCxNQUFBLGtCQUNBQyxJQUFBLGNBQ0FDLFlBQUEsd0NBQ0FDLFdBQUEsbUJBRUFILE1BQUEsdUJBQ0FDLElBQUEsdUJBQ0FHLFFBQUFDLElBQUEsRUFBQUksTUFBQSxHQUNBUCxZQUFBLG9EQUNBQyxXQUFBLHdCQUVBSCxNQUFBLFlBQ0FDLElBQUEsWUFDQVosT0FDQXFCLFFBQ0FSLFlBQUEsNEJBQ0FDLFdBQUEsWUFFQVEsaUJBQ0FULFlBQUEsNEJBQ0FDLFdBQUEsZ0JBRUFTLGdCQUNBVixZQUFBLDJCQUNBQyxXQUFBLGVBRUFVLHFCQUNBWCxZQUFBLDRCQUNBQyxXQUFBLGdCQUVBVyxrQkFDQVosWUFBQSw2QkFDQUMsV0FBQSx1QkFNQXhDLFFBQUFDLE9BQUEseUJBQ0FELFFBQUFDLE9BQUEsd0JDek9BRCxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxhQUFBLFNBQUEscUJBQUEsaUJBQUEsU0FBQSxTQUFBWSxFQUFBQyxFQUFBaEQsRUFBQUMsR0FDQThDLEVBQUFFLFFBQUFGLEVBQUFHLE9BQUEsUUFDQUgsRUFBQXBDLE9BQUFWLEVBRUFELEVBQUFHLE1BQUEsV0FDQUMsT0FBQStDLFNBQ0FILEVBQUFJLGdCQUFBQyxLQUFBLFNBQUFKLEdBQ0FLLFFBQUFDLElBQUEsa0JBQUFOLEdBQ0FGLEVBQUFFLFFBQUFBLFNDVEF0RCxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxpQkFDQSxTQUNBLGNBQ0EsZUFDQSxTQUFBWSxFQUFBUyxFQUFBM0IsR0FDQWtCLEVBQUFVLElBQUEseUJBQUEsV0FFQVYsRUFBQVcsU0FBQTdCLEVBQUE4QixJQUFBLGFBQ0FaLEVBQUFhLFVBQUEsS0FHQUosRUFBQUssZ0JBQUEsa0NBQ0FDLE1BQUFmLEVBQ0FnQixVQUFBLGdCQUNBVixLQUFBLFNBQUFXLEdBQ0FqQixFQUFBa0IsVUFBQUQsSUFFQWpCLEVBQUFtQixVQUFBLFNBQUFDLEdBQ0FwQixFQUFBa0IsVUFBQUcsT0FDQXJCLEVBQUFvQixRQUFBQSxHQUVBcEIsRUFBQXNCLFdBQUEsV0FDQXRCLEVBQUFrQixVQUFBSyxRQUVBdkIsRUFBQXdCLFVBQUEsV0FDQXhCLEVBQUF5QixjQUFBekIsRUFBQXlCLGNBRUF6QixFQUFBeUIsY0FBQSxFQUdBaEIsRUFBQUssZ0JBQUEsb0NBQ0FDLE1BQUFmLEVBQ0FnQixVQUFBLGdCQUNBVixLQUFBLFNBQUFXLEdBQ0FqQixFQUFBMEIsWUFBQVQsSUFFQWpCLEVBQUEyQixlQUFBLFNBQUFQLEdBQ0FwQixFQUFBMEIsWUFBQUwsT0FDQXJCLEVBQUFvQixRQUFBQSxHQUVBcEIsRUFBQTRCLGdCQUFBLFdBQ0E1QixFQUFBMEIsWUFBQUgsUUFHQXZCLEVBQUFVLElBQUEsV0FBQSxXQUNBVixFQUFBa0IsVUFBQVcsU0FDQTdCLEVBQUEwQixZQUFBRyxnQkMvQ0FqRixRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxZQUNBLFNBQ0EsZUFDQSxLQUNBLHlCQUNBLFNBQUFZLEVBQUE4QixFQUFBQyxFQUFBQyxHQUNBaEMsRUFBQWlDLGVBQUEsd0JBRUFGLEVBQUFHLFFBQUFKLEVBQUF4QyxJQUNBZ0IsS0FBQSxTQUFBNkIsR0FDQW5DLEVBQUFtQyxLQUFBQSxFQUNBbkMsRUFBQW9DLFdBQUEsZUFFQXBDLEVBQUFxQyxPQUFBRixFQUFBRSxPQUVBTCxFQUFBTSxhQUFBLFFBQUExRSxTQUVBbUUsRUFBQVEsZ0JBQUFKLEVBQUFLLE9BQ0FsQyxLQUFBLFNBQUFtQyxHQUNBekMsRUFBQXlDLElBQUFBLEtBRUEsU0FBQUMsR0FDQW5DLFFBQUFDLElBQUFrQyxLQUdBWCxFQUFBWSxjQUFBYixFQUFBeEMsSUFDQWdCLEtBQUEsU0FBQXNDLEdBQ0E1QyxFQUFBNEMsT0FBQUEsRUFDQVosRUFBQU0sYUFBQSxRQUFBMUUsVUFDQSxTQUFBOEUsR0FDQW5DLFFBQUFDLElBQUFrQyxLQUdBWCxFQUFBYyxrQkFBQWYsRUFBQXhDLElBQ0FnQixLQUFBLFNBQUF3QyxHQUNBOUMsRUFBQThDLFNBQUFBLEVBQ0FkLEVBQUFNLGFBQUEsUUFBQTFFLFVBQ0EsU0FBQThFLEdBQ0FuQyxRQUFBQyxJQUFBa0MsUUN2Q0E5RixRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxnQkFDQSxTQUNBLFNBQUFZLEdBQ0FBLEVBQUErQyxVQUFBLFVBQ0EvQyxFQUFBVSxJQUFBLHlCQUFBLGlCQ0xBOUQsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsZ0JBQ0EsU0FDQSx5QkFDQSxTQUFBWSxFQUFBZ0MsR0FDQWhDLEVBQUFnRCxhQUFBLFdBQ0FoQixFQUFBTSxhQUFBLFFBQUFXLE1BQUEsSUFFQWpELEVBQUFVLElBQUEseUJBQUEsaUJDUkE5RCxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxlQUNBLFNBQ0EsS0FDQSxnQkFDQSxpQkFDQSxzQkFDQSw0QkFDQSxXQUNBLFNBQUFZLEVBQUErQixFQUFBbUIsRUFBQWpHLEVBQUFrRyxFQUFBQyxFQUFBQyxHQUNBLFFBQUFDLEdBQUFDLEdBRUFBLEVBQUFDLFdBQUEsRUFBQUQsRUFBQUMsV0FBQSxHQUVBeEQsRUFBQXlELElBQUFDLFFBQUFDLFFBQ0EvRyxRQUFBZ0gsT0FBQTVELEVBQUF5RCxJQUFBQyxRQUFBQyxPQUFBSixHQUNBdkQsRUFBQXlELElBQUFDLFFBQUFHLE1BQUE3RCxFQUFBeUQsSUFBQUMsUUFBQUMsYUFDQTNELEdBQUF5RCxJQUFBQyxRQUFBQyxTQUVBL0csUUFBQWdILE9BQUE1RCxFQUFBeUQsSUFBQUMsUUFBQUcsTUFBQU4sR0FDQXZELEVBQUF5RCxJQUFBQyxRQUFBQyxPQUFBM0QsRUFBQXlELElBQUFDLFFBQUFHLFlBQ0E3RCxHQUFBeUQsSUFBQUMsUUFBQUcsT0FTQSxHQUFBQyxNQUNBQyxFQUFBLG9GQUVBQyxFQUFBLG9FQUVBQyxFQUFBLFdBQ0FqRSxFQUFBeUQsSUFBQVMsUUFDQUMsSUFBQW5FLEVBQUFtQyxLQUFBZ0MsSUFDQUMsSUFBQXBFLEVBQUFtQyxLQUFBaUMsSUFDQUMsS0FBQUMsT0FBQXRFLEVBQUFtQyxLQUFBa0MsTUFBQUMsT0FBQXRFLEVBQUFtQyxLQUFBa0MsTUFBQSxHQUdBdEMsRUFBQXdDLGNBQ0FqRSxLQUFBLFNBQUFrRSxHQUNBLElBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBRCxFQUFBRSxTQUFBRCxFQUFBLENBQ0EsR0FBQUUsR0FBQUgsRUFBQUMsRUFDQVgsR0FBQWEsRUFBQUMsS0FDQUMsUUFBQTdFLEVBQUFpQyxlQUFBMEMsRUFBQUcsS0FDQUMsWUFBQSxHQUFBLElBQ0FDLGFBQUEsRUFBQSxNQUdBakQsRUFBQWtELFFBQUFqRixFQUFBbUMsS0FBQUssT0FDQWxDLEtBQUEsU0FBQTRFLEdBQ0EsSUFBQSxHQUFBVCxHQUFBLEVBQUFBLEVBQUFTLEVBQUFSLFNBQUFELEVBQUEsQ0FDQSxHQUFBVSxHQUFBRCxFQUFBVCxFQUVBekUsR0FBQXlELElBQUFDLFFBQUEsTUFBQWUsSUFDQVcsTUFBQSxPQUNBakIsSUFBQWdCLEVBQUFFLEdBQ0FqQixJQUFBZSxFQUFBRyxHQUNBUixLQUFBaEIsRUFBQXFCLEVBQUFSLE1BQ0FZLFFBQUEsT0FBQUosRUFBQUssRUFBQSxXQUFBTCxFQUFBTSxFQUFBLE9BQ0FDLGNBQ0FDLFNBQUF0SSxPQUFBdUksV0FBQSxLQUlBNUYsRUFBQXlELElBQUFDLFFBQUF2QixNQUNBaUQsTUFBQSxPQUNBakIsSUFBQW5FLEVBQUFtQyxLQUFBZ0MsSUFDQUMsSUFBQXBFLEVBQUFtQyxLQUFBaUMsSUFDQW1CLFFBQUF2RixFQUFBbUMsS0FBQXFELElBRUEsU0FBQTlDLEdBQ0FuQyxRQUFBc0YsTUFBQW5ELEtBRUFYLEVBQUErRCxZQUFBOUYsRUFBQW1DLEtBQUFLLE9BQ0FsQyxLQUFBLFNBQUF5RixHQUNBL0YsRUFBQXlELElBQUF1QyxNQUFBRCxFQUFBdEMsSUFBQSxTQUFBd0MsR0FDQSxPQUNBQyxRQUFBQyxLQUFBQyxNQUFBLElBQUFILEVBQUFBLEtBQUEsS0FDQUksTUFBQUosRUFBQUssRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEdBQ0FDLFVBQUFSLEVBQUFLLEVBQ0EzQixLQUFBLGNBR0EsU0FBQWpDLEdBQ0FuQyxRQUFBc0YsTUFBQW5ELE9BS0E5RixTQUFBZ0gsT0FBQTVELEdBQ0F5RCxLQUNBUyxVQUNBOEIsU0FFQXRDLFNBQ0FHLE9BQ0FNLElBQUEsRUFDQUMsSUFBQSxFQUNBWixVQUFBLEVBQ0ErQixRQUFBLGVBQ0FULE1BQ0FILEtBQUEsTUFDQStCLFVBQUEsR0FBQSxJQUNBM0IsWUFBQSxHQUFBLElBQ0E0QixVQUFBLGtDQUtBQyxRQUNBQyxZQUNBQyxVQUNBQyxLQUFBLFVBQ0FwQyxLQUFBLE1BQ0F6RixJQUFBNkUsRUFDQWlELGNBQ0FDLFFBQUEsa0JBQ0FqRCxPQUFBQSxJQUdBa0QsV0FDQUgsS0FBQSxXQUNBcEMsS0FBQSxNQUNBekYsSUFBQTZFLEVBQ0FpRCxjQUNBQyxRQUFBLG1CQUNBakQsT0FBQUEsS0FJQW1ELFVBQ0FqQyxNQUNBNkIsS0FBQSxVQUNBcEMsS0FBQSxnQkFDQXlDLFNBQUEsRUFDQUosY0FDQUssZ0JBQUEsRUFDQUMsd0JBQUEsRUFDQUMsZ0JBQUEsRUFDQUMscUJBQUEsRUFDQUMsNEJBQUEsU0FRQXpILEVBQUFVLElBQUEseUJBQUEsV0FDQVYsRUFBQW1DLE1BQ0E4QixJQUVBakUsRUFBQVUsSUFBQSxjQUFBdUQsR0FFQWhILEVBQUFHLE1BQUEsV0FDQStGLEVBQUF1RSxlQUNBQyxVQUFBLE1BQ0FySCxLQUFBLEtBQUEsU0FBQXVGLEdBQ0F0RixRQUFBc0YsTUFBQUEsSUFDQSxTQUFBK0IsR0FDQXZFLEVBQUEsV0FDQUMsR0FDQWEsSUFBQXlELEVBQUFDLE9BQUFDLFNBQ0ExRCxJQUFBd0QsRUFBQUMsT0FBQUUsZ0JBS0EzRSxFQUFBNEUsY0FDQUwsVUFBQSxNQUNBckgsS0FBQSxLQUFBLFNBQUF1RixHQUNBdEYsUUFBQXNGLE1BQUFBLElBQ0EsU0FBQW9DLEdBQ0E1RSxFQUFBLFdBQ0FDLEdBQ0FFLFVBQUF5RSxFQUFBQyxvQkFNQWxJLEVBQUFtSSxTQUFBLFdBRUFsTCxFQUFBRyxNQUFBLFdBQ0FnTCxnQkFBQUQsVUFDQW5JLEVBQUFxSSxNQUFBbEUsSUFBQW5FLEVBQUFxSSxNQUFBakUsS0FDQSxLQUNBLFdBQ0E3RCxRQUFBQyxJQUFBLHNCQUVBLFNBQUFxRixHQUNBeUMsTUFBQSxxQkFBQXpDLE9BS0EsSUFBQTBDLElBQUEsWUFBQSxhQUNBdkksR0FBQXdJLFFBQ0FDLFFBQUFGLEdBR0F2SSxFQUFBVSxJQUFBLG1DQUFBLFNBQUFnSSxFQUFBQyxHQUVBM0ksRUFBQXFJLE1BQUFNLEVBQUFDLFFBR0E1SSxFQUFBVSxJQUFBLG9DQUFBLFdBRUFWLEVBQUFxSSxNQUFBLFlDdE5BekwsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsYUFBQSxTQUFBLGVBQUEsdUJBQUEsS0FBQSxTQUFBWSxFQUFBOEIsRUFBQStHLEVBQUE5RyxHQUVBLEdBQUErRyxHQUFBaEgsRUFBQXRDLE1BQ0FRLEdBQUFSLE9BQUFzSixFQUNBOUksRUFBQVQsT0FBQXVDLEVBQUF2QyxPQUNBd0MsRUFBQXZDLE9BQUEsR0FBQXNDLEVBQUF4QyxJQUNBZ0IsS0FBQSxTQUFBeUksR0FDQS9JLEVBQUFnSixNQUFBRCxHQUNBLFNBQUFyRyxHQUNBbkMsUUFBQUMsSUFBQWtDLEtBRUExQyxFQUFBaUosWUFBQSxXQUNBakosRUFBQVIsT0FBQSxJQUVBUSxFQUFBa0osVUFBQSxXQUNBTCxFQUFBSyxnQkNoQkF0TSxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxlQUFBLFNBQUEsU0FBQSxlQUFBLFNBQUFZLEVBQUFtSixFQUFBckssR0FDQWtCLEVBQUFvSixZQUFBdEssRUFBQThCLElBQUEsa0JDRkFoRSxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxnQkFBQSxTQUFBLEtBQUEsU0FBQVksRUFBQStCLEdBQ0FBLEVBQUFzSCxjQUNBL0ksS0FBQSxTQUFBeUksR0FDQS9JLEVBQUFzSixTQUFBUCxHQUNBLFNBQUFyRyxHQUNBbkMsUUFBQUMsSUFBQWtDLFFDTkE5RixRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxrQkFBQSxTQUFBLGVBQUEsS0FBQSxTQUFBWSxFQUFBOEIsRUFBQUMsR0FDQS9CLEVBQUFQLEtBQUFxQyxFQUFBckMsS0FDQU8sRUFBQWlDLGVBQUEsdUJBQ0FqQyxFQUFBUCxNQUNBc0MsRUFBQXdILFFBQUF6SCxFQUFBeEMsSUFDQWdCLEtBQUEsU0FBQXlJLEdBQ0EvSSxFQUFBUCxLQUFBc0osRUFDQXhJLFFBQUFDLElBQUFSLEVBQUFQLE9BQ0EsU0FBQWlELEdBQ0FuQyxRQUFBQyxJQUFBa0MsS0FHQW5DLFFBQUFDLElBQUFSLEVBQUFQLFNDYkE3QyxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxjQUFBLFNBQUEsS0FBQSxTQUFBWSxFQUFBK0IsR0FDQS9CLEVBQUErQyxVQUFBLEtBQ0EvQyxFQUFBaUMsZUFBQSx1QkFDQUYsRUFBQXlILFlBQ0FsSixLQUFBLFNBQUF5SSxHQUNBL0ksRUFBQTRDLE9BQUFtRyxFQUNBL0ksRUFBQXlKLFlBQUFWLEVBQUEsR0FBQVcsS0FDQSxTQUFBaEgsR0FDQW5DLFFBQUFDLElBQUFrQyxRQ1RBOUYsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsWUFDQSxTQUNBLFNBQ0EsZ0JBQ0EsZUFDQSxjQUNBLFNBQUFZLEVBQUFtSixFQUFBUSxFQUFBN0ssRUFBQThLLEdBRUE1SixFQUFBNkosU0FBQUQsRUFHQTlLLEVBQUFnTCxJQUFBLGdCQUFBSCxFQUFBSSxvQkFFQS9KLEVBQUFnSyxPQUFBLFNBQUFDLEdBQ0EsSUFBQUEsRUFBQUMsU0FBQUQsRUFBQUUsVUFDQWhCLEVBQUFpQixHQUFBLGFBQUE1SyxPQUFBeUssRUFBQUksV0FBQUMsWUNoQkExTixRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxhQUFBLFNBQUEsU0FBQSxlQUFBLFNBQUFZLEVBQUFtSixFQUFBckssR0FDQWtCLEVBQUF1SyxJQUFBekwsRUFBQThCLElBQUEsVUNGQWhFLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGFBQ0EsU0FDQSxTQUNBLFNBQ0EsZ0JBQ0EsZ0JBQ0EscUJBQ0EsU0FBQVksRUFBQW1KLEVBQUFqTSxFQUFBc04sRUFBQWIsRUFBQWMsR0FPQXpLLEVBQUEwSyxPQUFBLFNBQUFDLEdBQ0FILEVBQUFuSixPQUVBbkUsRUFBQTBOLFdBQUFELEVBQUFFLFNBQUFDLFdBQUFILEVBQUFJLFNBQUFELFlBQ0F4SyxLQUFBLFdBQ0FrSyxFQUFBakosT0FDQW9KLEVBQUFLLGFBQUEsY0FBQSxHQUNBUCxFQUFBUSxjQUFBLFdBQ0E5QixFQUFBaUIsR0FBQSxhQUNBLFNBQUF2RSxHQUNBMkUsRUFBQWpKLE9BQ0FvSixFQUFBSyxhQUFBLGNBQUEsR0FDQWhMLEVBQUE2RixNQUFBQSxFQUFBcUYsWUFRQWxMLEVBQUFtTCxLQUFBLFdBQ0FWLEVBQUFRLGNBQUEsV0FDQXRCLEVBQUF5QixpQkFFQUMsYUFBQSxFQUNBQyxhQUFBLElBRUFuQyxFQUFBaUIsR0FBQSxnQkMxQ0F4TixRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxXQUNBLFNBQ0EsY0FDQSxpQkFDQSxLQUNBLHNCQUNBLDRCQUNBLFdBQ0EsU0FBQVksRUFBQXVMLEVBQUF0TyxFQUFBOEUsRUFBQW9CLEVBQUFDLEVBQUFDLEdBRUEsUUFBQUMsR0FBQUMsR0FFQUEsRUFBQUMsV0FBQSxFQUFBRCxFQUFBQyxXQUFBLEdBRUF4RCxFQUFBMEQsUUFBQUMsUUFDQS9HLFFBQUFnSCxPQUFBNUQsRUFBQTBELFFBQUFDLE9BQUFKLEdBQ0F2RCxFQUFBMEQsUUFBQUcsTUFBQTdELEVBQUEwRCxRQUFBQyxhQUNBM0QsR0FBQTBELFFBQUFDLFNBRUEvRyxRQUFBZ0gsT0FBQTVELEVBQUEwRCxRQUFBRyxNQUFBTixHQUNBdkQsRUFBQTBELFFBQUFDLE9BQUEzRCxFQUFBMEQsUUFBQUcsWUFDQTdELEdBQUEwRCxRQUFBRyxPQUlBakgsUUFBQWdILE9BQUE1RCxHQUNBa0UsUUFDQUMsSUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FFQXVDLFFBQ0FDLFlBQ0FDLFVBQ0FDLEtBQUEsZUFDQXBDLEtBQUEsTUFDQXpGLElBQUEsb0ZBQ0E4SCxjQUNBQyxRQUFBLGtCQUNBakQsT0FBQSxzRUFHQWtELFdBQ0FILEtBQUEsV0FDQXBDLEtBQUEsTUFDQXpGLElBQUEsb0ZBQ0E4SCxjQUNBQyxRQUFBLG1CQUNBakQsT0FBQSx1RUFJQW1ELFVBQ0FxRSxXQUNBekUsS0FBQSxlQUNBcEMsS0FBQSxnQkFDQXlDLFNBQUEsRUFDQUosY0FDQUssZ0JBQUEsRUFDQUMsd0JBQUEsRUFDQUMsZ0JBQUEsRUFDQUMscUJBQUEsRUFDQUMsNEJBQUEsTUFLQS9ELFNBQ0FHLE9BQ0FNLElBQUEsRUFDQUMsSUFBQSxFQUNBWixVQUFBLElBQ0ErQixRQUFBLE1BQ0FULE1BQ0FILEtBQUEsTUFDQStCLFVBQUEsR0FBQSxJQUNBM0IsWUFBQSxHQUFBLElBQ0E0QixVQUFBLG9DQU1BMUosRUFBQUcsTUFBQSxXQUNBK0YsRUFBQXVFLGVBQ0FDLFVBQUEsTUFDQXJILEtBQUEsS0FBQSxTQUFBdUYsR0FDQXRGLFFBQUFzRixNQUFBQSxJQUNBLFNBQUErQixHQUNBdkUsRUFBQSxXQUNBQyxHQUNBYSxJQUFBeUQsRUFBQUMsT0FBQUMsU0FDQTFELElBQUF3RCxFQUFBQyxPQUFBRSxnQkFLQTNFLEVBQUE0RSxjQUNBTCxVQUFBLE1BQ0FySCxLQUFBLEtBQUEsU0FBQXVGLEdBQ0F0RixRQUFBc0YsTUFBQUEsSUFDQSxTQUFBb0MsR0FDQTVFLEVBQUEsV0FDQUMsR0FDQUUsVUFBQXlFLEVBQUFDLG9CQU1BbEksRUFBQVUsSUFBQSx5QkFBQSxXQUNBSCxRQUFBQyxJQUFBLE9BQ0F1QixFQUFBdkMsT0FBQSxJQUFBYyxLQUFBLFNBQUEwSSxHQUNBLElBQUEsR0FBQXZFLEdBQUEsRUFBQUEsRUFBQXVFLEVBQUF0RSxTQUFBRCxFQUFBLENBQ0EsR0FBQWdILEdBQUF6QyxFQUFBdkUsRUFDQXpFLEdBQUEwRCxRQUFBLE9BQUFlLElBQ0FXLE1BQUEsWUFDQWpCLElBQUFzSCxFQUFBdEgsSUFDQUMsSUFBQXFILEVBQUFySCxJQUNBc0gsZ0JBQUEsV0FDQSxHQUFBQyxHQUFBM0wsRUFBQTRMLE1BRUEsT0FEQUQsR0FBQXhKLEtBQUFzSixFQUNBRSxHQUVBcEcsUUFBQSxnRUM3SEEzSSxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxZQUNBLFNBQ0EsU0FDQSxxQkFDQSxnQkFDQSxjQUNBLFNBQ0EsU0FBQVksRUFBQW1KLEVBQUFzQixFQUFBb0IsRUFBQWpDLEVBQUExTSxHQUVBOEMsRUFBQTRKLFlBQUFBLEVBRUFpQyxFQUFBL0ssZ0JBQUEsZ0NBQ0FDLE1BQUFmLElBQ0FNLEtBQUEsU0FBQXdMLEdBQ0E5TCxFQUFBOEwsUUFBQUEsSUFHQTlMLEVBQUErTCxTQUFBLFdBQ0EvTCxFQUFBOEwsUUFBQXZLLE9BQ0E0SCxFQUFBaUIsR0FBQSxpQkFFQXBLLEVBQUFnTSxPQUFBLFdBQ0FoTSxFQUFBOEwsUUFBQXZLLE9BQ0FyRSxFQUFBK08sY0FFQTlDLEVBQUFpQixHQUFBLGNBRUFwSyxFQUFBa00sTUFBQSxXQUNBbE0sRUFBQThMLFFBQUF2SyxPQUNBa0osRUFBQVEsY0FBQSxRQUNBOUIsRUFBQWlCLEdBQUEsY0FFQXBLLEVBQUFtTSxTQUFBLFdBQ0FuTSxFQUFBOEwsUUFBQXZLLE9BQ0E0SCxFQUFBaUIsR0FBQSx5QkFHQXBLLEVBQUFvTSxhQUFBLFdBQ0FsUCxFQUFBa1AsbUJDdENBeFAsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsZUFDQSxTQUNBLFNBQ0EsZ0JBQ0EsaUJBQ0EsZ0JBQ0EsZ0JBQ0EsTUFDQSxTQUFBWSxFQUFBbUosRUFBQVEsRUFBQTFNLEVBQUF1TixFQUFBNkIsRUFBQUMsR0FDQSxZQUdBLElBQUFDLEdBQUEsRUFNQXZNLEdBQUFtTCxLQUFBLFdBQ0FuTCxFQUFBd00sS0FBQSxHQUNBckQsRUFBQWlCLEdBQUEsb0JBUUFwSyxFQUFBeU0sYUFBQSxTQUFBQyxHQUVBbEMsRUFBQW5KLE9BRUFrTCxFQUFBRyxFQUFBSCxLQUFBekIsV0FDQXdCLEVBQUFLLG1CQUFBSixHQUNBak0sS0FBQSxTQUFBeUksR0FHQS9JLEVBQUF3TSxLQUFBLCtEQUNBekQsRUFBQTZELFNBQ0E1TSxFQUFBd00sTUFBQSxTQUNBekQsRUFBQThELFNBQ0E3TSxFQUFBd00sTUFBQSxVQUdBekQsRUFBQThELFNBQ0E3TSxFQUFBd00sTUFBQSxPQUVBeE0sRUFBQXdNLE1BQUEsSUFFQXJELEVBQUFpQixHQUFBLG9CQUVBLFdBR0FzQyxFQUFBSCxLQUFBdkIsYUFBQSxlQUFBLEtBckJBc0IsV0F1QkE5QixFQUFBakosT0FVQXZCLEVBQUE4TSxjQUFBLFNBQUFKLEdBQ0FsQyxFQUFBbkosT0FFQWlMLEVBQUFTLG9CQUFBUixFQUFBRyxFQUFBM0IsU0FBQUQsV0FBQTRCLEVBQUFNLEtBQUFsQyxZQUNBeEssS0FBQSxTQUFBeUksR0FDQXhJLFFBQUFDLElBQUF1SSxHQUVBOUwsRUFBQUcsTUFBQSxXQUNBaVAsRUFBQVksZUFBQSwrQkFHQXRELEVBQUF1RCxnQkFBQXZELEVBQUF3RCxjQUFBQyxZQUNBLFNBQUF2SCxHQUNBdEYsUUFBQUMsSUFBQXFGLEtBVkF5RyxXQWdCQTlCLEVBQUFqSixVQ3ZGQTNFLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGdCQUNBLFNBQ0EsU0FDQSxnQkFDQSxjQUNBLHVCQUNBLE1BQ0EsZUFDQSxTQUFBWSxFQUFBbUosRUFBQXFCLEVBQUEvSixFQUFBb0ksRUFBQXlELEVBQUF4TixHQUVBLEdBQUErTCxFQUdBN0ssR0FBQXFOLGNBQUEsU0FBQUMsR0FDQWhCLEVBQUFpQixZQUFBRCxFQUFBeEMsWUFDQXhLLEtBQUEsU0FBQXlJLEdBQ0F1RSxFQUFBdEMsYUFBQSxhQUFBakMsTUFLQS9JLEVBQUF3TixXQUFBLFNBQUFGLEdBQ0FoQixFQUFBaUIsWUFBQSxLQUFBRCxFQUFBeEMsWUFDQXhLLEtBQUEsU0FBQXlJLEdBQ0F1RSxFQUFBdEMsYUFBQSxjQUFBakMsTUFNQS9JLEVBQUF5TixjQU1Bek4sRUFBQW1NLFNBQUEsU0FBQU8sR0FDQWxDLEVBQUFuSixPQUdBckIsRUFBQTBOLE1BQUFoQixFQUFBZ0IsTUFBQTVDLFdBR0FELEVBQUE2QixFQUFBN0IsU0FBQUMsVUFFQSxJQUFBQyxHQUFBMkIsRUFBQTNCLFNBQUFELFdBQ0E2QyxFQUFBakIsRUFBQWlCLFNBQUE3QyxXQUNBOEMsRUFBQWxCLEVBQUFrQixNQUFBOUMsVUFFQXdCLEdBQUF1QixjQUFBaEQsRUFBQThDLEVBQUE1QyxFQUFBNkMsRUFBQTVOLEVBQUEwTixPQUNBcE4sS0FBQSxXQUVBa0ssRUFBQWpKLE9BQ0E0SCxFQUFBaUIsR0FBQSxhQUVBLFNBQUF2RSxHQU9BN0YsRUFBQXlOLFdBQUFLLG1CQUFBLEVBQ0FqRixFQUFBSyxXQUFBLEdBR0EsR0FBQXJELEVBQUFrSSxZQUNBckIsRUFBQWtCLE1BQUE1QyxhQUFBLGdCQUFBLEdBR0EsR0FBQW5GLEVBQUFrSSxhQUNBL04sRUFBQXFOLGNBQUFYLEVBQUE3QixVQUNBN0ssRUFBQXdOLFdBQUFkLEVBQUFrQixRQUdBLElBQUEvSCxFQUFBa0ksWUFDQXJCLEVBQUFnQixNQUFBMUMsYUFBQSxnQkFBQSxHQUdBUixFQUFBakosVUFTQXZCLEVBQUFnTyxPQUFBLFNBQUF0QixHQUNBbEMsRUFBQW5KLE1BRUEsSUFBQTRNLEdBQUF2QixFQUFBdUIsT0FFQTNCLEdBQUE0QixhQUFBckQsRUFBQW9ELEVBQUFuRCxZQUNBeEssS0FBQSxXQUNBMk4sRUFBQWpELGFBQUEsWUFBQSxHQUNBN0IsRUFBQWlCLEdBQUEsY0FDQSxXQUNBNkQsRUFBQWpELGFBQUEsWUFBQSxLQUxBc0IsV0FPQTlCLEVBQUFqSixTQUdBdkIsRUFBQXVLLElBQUF6TCxFQUFBOEIsSUFBQSxPQUVBSCxFQUFBSyxnQkFBQSxpQ0FDQUMsTUFBQWYsRUFDQWdCLFVBQUEsZ0JBQ0FWLEtBQUEsU0FBQVcsR0FDQWpCLEVBQUFtTyxLQUFBbE4sSUFFQWpCLEVBQUFvTyxTQUFBLFdBQ0FwTyxFQUFBbU8sS0FBQTlNLFFBRUFyQixFQUFBcU8sVUFBQSxXQUNBck8sRUFBQW1PLEtBQUE1TSxRQUVBdkIsRUFBQVUsSUFBQSxXQUFBLFdBQ0FWLEVBQUFtTyxLQUFBdE0sY0N2SEFqRixRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSx1QkFBQSxTQUFBLGVBQUEsS0FBQSx5QkFBQSxTQUFBWSxFQUFBOEIsRUFBQUMsRUFBQUMsR0FLQSxHQUpBaEMsRUFBQWlDLGVBQUEsdUJBQ0FqQyxFQUFBTixLQUFBb0MsRUFBQXBDLEtBQ0FNLEVBQUFxQyxVQUVBckMsRUFBQU4sS0FVQSxDQUNBLEdBQUFxSixHQUFBL0ksRUFBQU4sSUFDQU0sR0FBQXFDLFFBQUEwRyxFQUFBdUYsS0FBQXZGLEVBQUF3RixLQUFBeEYsRUFBQXlGLE1BQUFDLE9BQUEsU0FBQUMsR0FDQSxPQUFBLE1BQUFDLEtBQUFELEtBR0ExTSxFQUFBcEUsYUFmQW1FLEdBQUE2TSxhQUFBOU0sRUFBQXhDLElBQ0FnQixLQUFBLFNBQUF5SSxHQUNBL0ksRUFBQXFDLFFBQUEwRyxFQUFBdUYsS0FBQXZGLEVBQUF3RixLQUFBeEYsRUFBQXlGLE1BQUFDLE9BQUEsU0FBQUMsR0FDQSxPQUFBLE1BQUFDLEtBQUFELEtBR0ExTSxFQUFBcEUsU0FDQW9DLEVBQUFOLEtBQUFxSixPQ2RBbk0sUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsa0JBQUEsU0FBQSxLQUFBLFNBQUFZLEVBQUErQixHQUNBQSxFQUFBOE0sZ0JBQ0F2TyxLQUFBLFNBQUF5SSxHQUNBeEksUUFBQUMsSUFBQXVJLEdBQ0EvSSxFQUFBOE8sV0FBQS9GLElBRUEvSSxFQUFBaUMsZUFBQSx1QkFDQWpDLEVBQUErQyxVQUFBLFFDUkFuRyxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxZQUFBLFNBQUEsS0FBQSxTQUFBWSxFQUFBK0IsR0FDQUEsRUFBQWdOLGNBQ0F6TyxLQUFBLFNBQUFpTSxHQUNBdk0sRUFBQXVNLEtBQUFBLElBRUF4SyxFQUFBaU4saUJBQ0ExTyxLQUFBLFNBQUEyTyxHQUNBalAsRUFBQWlQLFFBQUFBLE9DUkFyUyxRQUFBQyxPQUFBLHNCQUNBdUMsV0FBQSxpQkFDQSxTQUNBLGVBQ0EsS0FDQSxTQUNBLGNBQ0EsU0FBQVksRUFBQThCLEVBQUFDLEVBQUE3RSxFQUFBdUQsR0FDQVQsRUFBQWtQLEtBQUEsTUFDQWxQLEVBQUFtUCxTQUFBLHVCQUVBLElBQUFDLEdBQUEsV0FDQXBQLEVBQUFxUCxJQUFBQyxLQUFBRCxNQUNBdE4sRUFBQXdOLGtCQUNBalAsS0FBQSxTQUFBeUksR0FDQS9JLEVBQUE4QyxTQUFBaUcsR0FDQSxTQUFBckcsR0FDQW5DLFFBQUFDLElBQUFrQyxLQUlBMUMsR0FBQVUsSUFBQSx5QkFBQTBPLEdBRUEzTyxFQUFBSyxnQkFBQSwwQ0FDQUMsTUFBQWYsRUFDQWdCLFVBQUEsZ0JBQ0FWLEtBQUEsU0FBQVcsR0FDQWpCLEVBQUEwQixZQUFBVCxJQUVBakIsRUFBQTJCLGVBQUEsU0FBQVAsR0FDQXBCLEVBQUEwQixZQUFBTCxPQUNBZCxRQUFBQyxJQUFBWSxHQUNBcEIsRUFBQW9CLFFBQUFBLEdBRUFwQixFQUFBNEIsZ0JBQUEsV0FDQTVCLEVBQUEwQixZQUFBSCxRQUdBdkIsRUFBQVUsSUFBQSxXQUFBLFdBQ0FWLEVBQUEwQixZQUFBRyxXQUVBN0IsRUFBQXBDLE9BQUEsV0FDQVYsRUFBQVUsU0FBQVYsV0FDQSxXQUNBOEMsRUFBQW9DLFdBQUEsMEJBQ0FnTixVQzdDQSxTQUFBeFMsR0FDQSxZQUVBQSxHQUFBQyxPQUFBLGNBQUEsaUJBQ0EyUyxTQUFBLE1BQUEsV0FFQUMsS0FBQUMsU0FBQSx1Q0FFQUQsS0FBQUUsTUFDQSxRQUNBLGNBQ0EsZUFDQSxLQUNBLFNBQUFDLEVBQUFoRyxFQUFBOUssRUFBQStRLEdBQ0EsR0FBQUgsR0FBQUQsS0FBQUMsU0FPQUksRUFBQSxTQUFBelEsRUFBQTBRLEdBQ0EsTUFBQUYsR0FBQSxTQUFBRyxFQUFBQyxHQUNBTCxHQUVBTSxPQUFBLE1BQ0FoUixJQUFBd1EsRUFDQXJRLE9BQUF6QyxFQUFBZ0gsT0FBQXZFLEdBQUE4USxJQUFBLHFCQUNBQyxRQUFBLElBQ0FMLE1BQUFBLEtBQUEsSUFJQU0sUUFBQSxTQUFBdEgsR0FDQSxVQUFBQSxFQUFBdUgsT0FDQUwsRUFBQWxILEVBQUF4RCxTQUVBd0QsRUFBQUEsS0FDQWlILEVBQUFqSCxFQUFBQSxLQUFBbUMsVUFFQStFLEVBQUFsSCxLQUlBbEQsTUFBQSxTQUFBa0QsRUFBQXVILEdBRUFMLEVBREEsSUFBQUssRUFDQSxHQUFBQyxPQUFBLG1CQUVBeEgsUUFVQXlILEVBQUEsU0FBQW5SLEVBQUEwUSxHQUNBLEdBQUFVLEdBQUE3RyxFQUFBOEcsS0FDQSxPQUFBWixHQUFBbFQsRUFBQWdILE9BQUF2RSxHQUFBc1IsRUFBQUYsSUFBQVYsR0FHQSxRQUNBYSxtQkFBQSxXQUNBLE1BQUFkLElBQUFlLEVBQUEsd0JBRUFDLGFBQUEsV0FDQSxNQUFBaEIsSUFBQWUsRUFBQSxrQkFFQXRELFlBQUEsU0FBQTFDLEVBQUErQyxHQUNBLEdBQUFqRixJQUFBa0ksRUFBQSxjQVNBLE9BUEFoRyxJQUFBLGdCQUFBQSxLQUNBbEMsRUFBQWtDLFNBQUFBLEdBRUErQyxHQUFBLGdCQUFBQSxLQUNBakYsRUFBQWlGLE1BQUFBLEdBR0FrQyxFQUFBbkgsR0FBQSxJQUVBa0YsY0FBQSxTQUFBaEQsRUFBQThDLEVBQUE1QyxFQUFBNkMsRUFBQUYsR0FDQSxNQUFBb0MsSUFDQWUsRUFBQSxnQkFDQWhHLFNBQUFBLEVBQ0E4QyxTQUFBQSxFQUNBNUMsU0FBQUEsRUFDQTZDLE1BQUFBLEVBQ0FGLE1BQUFBLElBQ0EsSUFFQVEsYUFBQSxTQUFBckQsRUFBQWtHLEdBQ0EsTUFBQWpCLElBQ0FlLEVBQUEsZUFDQWhHLFNBQUFBLEVBQ0FrRyxJQUFBQSxJQUNBLElBRUFDLFVBQUEsV0FDQSxNQUFBUixJQUFBSyxFQUFBLGVBRUFsRSxtQkFBQSxTQUFBSixHQUNBLE1BQUF1RCxJQUNBZSxFQUFBLHFCQUNBSSxvQkFBQTFFLElBQ0EsSUFFQVEsb0JBQUEsU0FBQWtFLEVBQUFsRyxFQUFBaUMsR0FDQSxNQUFBOEMsSUFDQWUsRUFBQSxzQkFDQUksb0JBQUFBLEVBQ0FsRyxTQUFBQSxFQUNBaUMsS0FBQUEsSUFDQSxJQUVBa0UscUJBQUEsU0FBQUMsRUFBQUMsR0FDQSxNQUFBWixJQUNBSyxFQUFBLHVCQUNBTSxhQUFBQSxFQUNBQyxhQUFBQSxJQUNBLElBRUF4RyxXQUFBLFNBQUFDLEVBQUFFLEdBQ0EsTUFBQStFLElBQ0FlLEVBQUEsYUFDQWhHLFNBQUFBLEVBQ0FFLFNBQUFBLElBQ0EsR0FDQXpLLEtBQUEsU0FBQXlJLEdBSUEsTUFIQWEsR0FBQXlILFNBQUF0SSxHQUdBQSxLQUdBa0QsWUFBQSxXQUNBdUUsR0FBQUssRUFBQSxnQkFBQSxHQUNBdlEsS0FBQSxXQUNBc0osRUFBQTBILGlCQUdBQyxjQUFBLFdBQ0EsTUFBQWYsSUFBQUssRUFBQSxrQkFBQSxJQUVBVyxXQUFBLFdBQ0EsTUFBQTFCLElBQUFlLEVBQUEsZ0JBRUFZLGVBQUEsV0FDQSxNQUFBM0IsSUFBQWUsRUFBQSxvQkFFQWEsVUFBQSxXQUNBLE1BQUE1QixJQUFBZSxFQUFBLGVBRUFjLGtCQUFBLFNBQUFuUCxHQUNBLE1BQUFzTixJQUNBZSxFQUFBLG9CQUNBck8sTUFBQUEsS0FHQW9QLGlCQUFBLFNBQUFwUCxHQUNBLE1BQUFzTixJQUNBZSxFQUFBLG1CQUNBck8sTUFBQUEsS0FHQXFQLFVBQUEsU0FBQUMsR0FDQSxNQUFBaEMsSUFDQWUsRUFBQSxZQUNBaUIsT0FBQUEsS0FHQUMsbUJBQUEsU0FBQUQsR0FDQSxNQUFBaEMsSUFDQWUsRUFBQSxxQkFDQWlCLE9BQUFBLEtBR0FFLGFBQUEsU0FBQUYsR0FDQSxNQUFBaEMsSUFDQWUsRUFBQSxlQUNBaUIsT0FBQUEsS0FHQUcsVUFBQSxTQUFBQyxHQUNBLE1BQUFwQyxJQUNBZSxFQUFBLFlBQ0FxQixPQUFBQSxLQUdBQyxXQUFBLFNBQUEzUCxFQUFBc1AsR0FDQSxNQUFBaEMsSUFDQWUsRUFBQSxhQUNBck8sTUFBQUEsRUFDQXNQLE9BQUFBLEtBR0FNLGFBQUEsU0FBQTVQLEdBQ0EsTUFBQXNOLElBQ0FlLEVBQUEsZUFDQXJPLE1BQUFBLEtBR0E2UCxrQkFBQSxXQUNBLE1BQUF2QyxJQUFBZSxFQUFBLHVCQUVBeUIsaUJBQUEsU0FBQTlQLEdBQ0EsTUFBQXNOLElBQ0FlLEVBQUEsbUJBQ0FyTyxNQUFBQSxLQUdBK1AsbUJBQUEsV0FDQSxNQUFBL0IsSUFBQUssRUFBQSx1QkFBQSxJQUVBMkIscUJBQUEsV0FDQSxNQUFBMUMsSUFBQWUsRUFBQSwwQkFFQTRCLGlCQUFBLFdBQ0EsTUFBQTNDLElBQUFlLEVBQUEsc0JBRUE2QixvQkFBQSxXQUNBLE1BQUE1QyxJQUFBZSxFQUFBLHlCQUVBOEIsY0FBQSxXQUNBLE1BQUE3QyxJQUFBZSxFQUFBLHlCQUtBeFQsT0FBQVQsU0N0T0EsU0FBQUEsRUFBQWdXLEdBQ0EsWUFFQWhXLEdBQUFDLE9BQUEsZ0JBQ0EyUyxTQUFBLEtBQUEsV0FFQUMsS0FBQUUsTUFDQSxpQkFDQSxNQUNBLEtBQ0EsU0FBQWtELEVBQUF2RyxFQUFBdUQsR0FFQSxHQUFBaUQsRUFDQSxJQUFBelYsT0FBQTBWLGFBQ0FELEVBQUFELEVBQUFHLE9BQUEscUJBQ0EsQ0FBQSxJQUFBM1YsT0FBQTRWLGFBS0EsTUFEQTFTLFNBQUFDLElBQUEsdUNBQ0FvUyxDQUpBRSxHQUFBelYsT0FBQTRWLGFBQ0EsZ0JBQUEsTUFBQSxhQUFBLFVBTUEsR0FBQUMsSUFDQUMsT0FDQSxLQUFBLFFBQ0EsUUFBQSxRQUNBLElBQUEsU0FDQSxLQUFBLFNBQ0EsT0FBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLE1BQUEsU0FDQSxNQUFBLFNBQ0EsT0FBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxJQUFBLFNBRUFDLFlBQ0EsS0FBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsU0FBQSxRQUNBLFVBQUEsU0FFQUMsVUFDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxRQUFBLFFBQ0EsTUFBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFNBRUFDLFNBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsSUFBQSxTQUVBQyxlQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsT0FBQSxTQUVBQyxPQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLE1BQUEsUUFDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE9BQUEsU0FDQSxNQUFBLFNBQ0EsS0FBQSxTQUNBLE1BQUEsU0FDQSxPQUFBLFNBQ0EsTUFBQSxTQUNBLE1BQUEsU0FFQUMsT0FDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBRUFDLGVBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxPQUFBLFFBQ0EsS0FBQSxRQUNBLFdBQUEsU0FDQSxLQUFBLFNBQ0EsT0FBQSxRQUNBLE9BQUEsUUFDQSxJQUFBLFNBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFNBRUFDLFlBQ0EsS0FBQSxRQUNBLFdBQUEsU0FDQSxXQUFBLFNBQ0EsTUFBQSxTQUNBLE1BQUEsU0FDQSxPQUFBLFNBQ0EsUUFBQSxTQUNBLFVBQUEsU0FFQUMsY0FDQSxTQUFBLFNBRUFDLFlBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsT0FBQSxTQUNBLE9BQUEsU0FDQSxPQUFBLFNBQ0EsT0FBQSxTQUNBLFVBQUEsU0FFQUMsZUFDQSxLQUFB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QUNBZCxFQUFBQyx3QkFLQVIsVUFBQSx1QkFBQSx1QkFBQSxTQUFBbUIsR0FDQSxZQUNBLFFBQ0FoQixTQUFBLElBQ0FDLEtBQUEsU0FBQTdXLEVBQUEyTixHQUNBQSxFQUFBb0osR0FBQSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFlLE9BQUFELE1BQUFkLEVBQUFlLE9BQUFDLE9BQUExYixPQUFBMmIsU0FBQUQsT0FDQUosRUFBQUMsS0FBQWIsRUFBQWUsT0FBQUQsS0FBQSxXQUNBZCxFQUFBQyIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdpZmlza2UnIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ2lmaXNrZS5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcblxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZScsIFtcbiAgICAnaW9uaWMnLFxuICAgICdpZmlza2UuY29udHJvbGxlcnMnLFxuICAgICdpZmlza2UuZGlyZWN0aXZlcycsXG4gICAgJ2lmaXNrZS5hcGknLFxuICAgICdpZmlza2UuZGInLFxuICAgICdpZmlza2UudXRpbHMnLFxuICAgICdpZmlza2UudXBkYXRlJyxcbiAgICAnaWZpc2tlLmZpbHRlcnMnLFxuICAgICdpb25pYy5pb24uaGVhZGVyU2hyaW5rJyxcbiAgICAnbmdDb3Jkb3ZhJyxcbiAgICAnc3lzdGVtQnJvd3NlcicsXG4gICAgJ25nQ29yZG92YVNtcycsXG4gICAgJ25nTWVzc2FnZXMnLFxuICAgICdJbWdDYWNoZScsXG4gICAgJ2xlYWZsZXQtZGlyZWN0aXZlJyxcbiAgICAndGFiU2xpZGVCb3gnXG5dKVxuXG4uY29uc3RhbnQoJyRpb25pY0xvYWRpbmdDb25maWcnLCB7XG4gICAgdGVtcGxhdGU6ICc8aW9uLXNwaW5uZXI+PC9pb24tc3Bpbm5lcj4nXG4gICAgLy8gaGlkZU9uU3RhdGVDaGFuZ2U6IHRydWVcbn0pXG4ucnVuKFsnJGlvbmljUGxhdGZvcm0nLCAnVXBkYXRlJywgJ0ltZ0NhY2hlJywgZnVuY3Rpb24oJGlvbmljUGxhdGZvcm0sIFVwZGF0ZSwgSW1nQ2FjaGUpIHtcbiAgICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmQgZm9yIGZvcm0gaW5wdXRzXG4gICAgICAgIGlmICh3aW5kb3cuaW9uaWMgJiYgd2luZG93LmlvbmljLktleWJvYXJkKSB7XG4gICAgICAgICAgICB3aW5kb3cuaW9uaWMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAgICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICAgICAgICB3aW5kb3cuU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgSW1nQ2FjaGUuJGluaXQoKTtcbiAgICAgICAgVXBkYXRlLnVwZGF0ZSgpO1xuICAgIH0pO1xufV0pXG5cbi5jb25maWcoW1xuICAgICckc3RhdGVQcm92aWRlcicsXG4gICAgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG4gICAgJyRpb25pY0NvbmZpZ1Byb3ZpZGVyJyxcbiAgICAnSW1nQ2FjaGVQcm92aWRlcicsXG4gICAgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIEltZ0NhY2hlUHJvdmlkZXIpIHtcblxuICAgICAgICBJbWdDYWNoZVByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICAgICAgdXNlUGVyc2lzdGVudENhY2hlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBJbWdDYWNoZVByb3ZpZGVyLm1hbnVhbEluaXQgPSB0cnVlO1xuXG4gICAgICAgIC8vIENhY2hlIHZpZXdzIGluIHRoZSBmb3J3YXJkIHN0YWNrXG4gICAgICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLnZpZXdzLmZvcndhcmRDYWNoZSh0cnVlKTtcblxuICAgICAgICAvLyBDbGVhciBiYWNrIGJ1dHRvbiBkZWZhdWx0IHRleHRcbiAgICAgICAgJGlvbmljQ29uZmlnUHJvdmlkZXIuYmFja0J1dHRvbi5wcmV2aW91c1RpdGxlVGV4dChmYWxzZSkudGV4dCgnJyk7XG5cbiAgICAgICAgLy8gVGFicyBwb3NpdGlvblxuICAgICAgICAkaW9uaWNDb25maWdQcm92aWRlci50YWJzLnBvc2l0aW9uKCdib3R0b20nKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyLiBMZWFybiBtb3JlIGhlcmU6XG4gICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgZGVmYXVsdFVybCA9ICcvYXBwL2xvZ2luJztcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpKSB7XG4gICAgICAgICAgICBkZWZhdWx0VXJsID0gJy9hcHAvaG9tZSc7XG4gICAgICAgIH1cbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShkZWZhdWx0VXJsKTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlclxuXG4gICAgICAgIC5zdGF0ZSgnYXBwJywge1xuICAgICAgICAgICAgdXJsOiAnL2FwcCcsXG4gICAgICAgICAgICAvL2Fic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21lbnUvbWVudS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNZW51Q3RybCdcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5sb2dpbicsIHtcbiAgICAgICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbG9naW4vbG9naW4uaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTG9naW5DdHJsJ1xuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEFjY291bnQgcmVjb3ZlcnlcbiAgICAgICAgLnN0YXRlKCdhcHAucmVjb3ZlcicsIHtcbiAgICAgICAgICAgIHVybDogJy9yZWNvdmVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWNvdmVyL3JlY292ZXIuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUmVjb3ZlckN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlY292ZXIubG9zdHBhc3N3b3JkJywge1xuICAgICAgICAgICAgdXJsOiAnL2xvc3RwYXNzd29yZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVjb3Zlci9sb3N0cGFzc3dvcmQuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAucmVjb3Zlci5yZXNldHBhc3N3b3JkJywge1xuICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlY292ZXIvcmVzZXRwYXNzd29yZC5odG1sJ1xuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEFjY291bnQgcmVnaXN0cmF0aW9uXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlZ2lzdGVyJywge1xuICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlZ2lzdGVyLmRldGFpbHMnLCB7XG4gICAgICAgICAgICB1cmw6ICcvZGV0YWlscycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfZGV0YWlscy5odG1sJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5yZWdpc3Rlci52ZXJpZnknLCB7XG4gICAgICAgICAgICB1cmw6ICcvdmVyaWZ5JyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlcl92ZXJpZnkuaHRtbCdcbiAgICAgICAgfSlcblxuICAgICAgICAvL1xuICAgICAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuICAgICAgICAgICAgdXJsOiAnL2hvbWUnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2hvbWUvaG9tZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuaW5mbycsIHtcbiAgICAgICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9pbmZvL2luZm8uaHRtbCdcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5idWdzJywge1xuICAgICAgICAgICAgdXJsOiAnL2luZm8nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21lbnUvcmVwb3J0Lmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLmNvbnRhY3QnLCB7XG4gICAgICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY29udGFjdC9jb250YWN0Lmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRhY3RDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5sZWdhbCcsIHtcbiAgICAgICAgICAgIHVybDogJy9sZWdhbCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbGVnYWwvbGVnYWwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTGVnYWxDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5hYm91dCcsIHtcbiAgICAgICAgICAgIHVybDogJy9hYm91dCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYWJvdXQvYWJvdXQuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQWJvdXRDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC51c2VyaW5mbycsIHtcbiAgICAgICAgICAgIHVybDogJy91c2VyaW5mbycsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnVXNlckN0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3VzZXIvdXNlci5odG1sJyxcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5jb3VudGllcycsIHtcbiAgICAgICAgICAgIHVybDogJy9jb3VudGllcycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY291bnRpZXMvY291bnRpZXMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQ291bnRpZXNDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5hcmVhcycsIHtcbiAgICAgICAgICAgIHVybDogJy9hcmVhcycsXG4gICAgICAgICAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ2NvdW50eSc6IGZhbHNlLCAnc2VhcmNoJzogJyd9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWFfbGlzdC9hcmVhX2xpc3QuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQXJlYXNDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5jYXJkcycsIHtcbiAgICAgICAgICAgIHVybDogJy9jYXJkcycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdXNlcl9jYXJkcy91c2VyX2NhcmRzLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJDYXJkc0N0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLmZhdm9yaXRlcycsIHtcbiAgICAgICAgICAgIHVybDogJy9mYXZvcml0ZXMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zhdm9yaXRlcy9mYXZvcml0ZXMuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuZmlzaGVzJywge1xuICAgICAgICAgICAgdXJsOiAnL2Zpc2hlcycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvZmlzaGVzL2Zpc2hlcy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdGaXNoZXNDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5maXNoZGV0YWlsJywge1xuICAgICAgICAgICAgdXJsOiAnL2Zpc2hkZXRhaWwvOmlkJyxcbiAgICAgICAgICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAnZmlzaCc6IGZhbHNlfSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9maXNoX2RldGFpbC9maXNoX2RldGFpbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdGaXNoRGV0YWlsQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAubWFwJywge1xuICAgICAgICAgICAgdXJsOiAnL21hcCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWFwL21hcC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYXBDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC50ZWNobmlxdWVzJywge1xuICAgICAgICAgICAgdXJsOiAnL3RlY2huaXF1ZXMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZXMvdGVjaG5pcXVlcy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVzQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAudGVjaG5pcXVlZGV0YWlsJywge1xuICAgICAgICAgICAgdXJsOiAnL3RlY2huaXF1ZWRldGFpbC86aWQnLFxuICAgICAgICAgICAgcGFyYW1zOiB7J2lkJzogZmFsc2UsICd0ZWNoJzogZmFsc2V9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZV9kZXRhaWwvdGVjaG5pcXVlX2RldGFpbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVEZXRhaWxDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5hcmVhJywge1xuICAgICAgICAgICAgdXJsOiAnL2FyZWEvOmlkJyxcbiAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgJ0BhcHAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2FyZWEuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBcmVhQ3RybCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnaW5mb0BhcHAuYXJlYSc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvaW5mby5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FyZWFJbmZvQ3RybCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtYXBAYXBwLmFyZWEnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL21hcC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FyZWFNYXBDdHJsJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2Zpc2hpbmZvQGFwcC5hcmVhJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9maXNoLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQXJlYUZpc2hDdHJsJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2NhcmRzQGFwcC5hcmVhJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9jYXJkcy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FyZWFDYXJkc0N0cmwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnLCBbXSk7XG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRpcmVjdGl2ZXMnLCBbXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignQWJvdXRDdHJsJywgWyckc2NvcGUnLCckY29yZG92YUFwcFZlcnNpb24nLCAnJGlvbmljUGxhdGZvcm0nLCAnVXBkYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkY29yZG92YUFwcFZlcnNpb24sICRpb25pY1BsYXRmb3JtLCBVcGRhdGUpIHtcblx0JHNjb3BlLnZlcnNpb24gPSAkc2NvcGUuZGJEYXRlID0gJ09rw6RudCc7XG4gICAgJHNjb3BlLnVwZGF0ZSA9IFVwZGF0ZTtcblxuXHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcblx0ICAgIGlmICh3aW5kb3cuY29yZG92YSkge1xuXHRcdCRjb3Jkb3ZhQXBwVmVyc2lvbi5nZXRBcHBWZXJzaW9uKCkudGhlbihmdW5jdGlvbih2ZXJzaW9uKSB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKCdpRmlza2UgdmVyc2lvbjonLCB2ZXJzaW9uKTtcblx0XHQgICAgJHNjb3BlLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdH0pO1xuXHQgICAgfVxuXHR9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFDYXJkc0N0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRpb25pY01vZGFsJyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRpb25pY01vZGFsLCBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5iZWZvcmVFbnRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy9BcmVhX0NhcmRzXG4gICAgICAgICAgICAkc2NvcGUuc21zdGVybXMgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzbXNfdGVybXMnKTtcbiAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSAnc28nO1xuXG4gICAgICAgICAgICAvL1NNUy1tb2RhbFxuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL2FyZWEvc21zX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCdcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS5vcGVuTW9kYWwgPSBmdW5jdGlvbihwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5jbG9zZU1vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5oaWRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLnNob3dUZXJtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93aW5ndGVybXMgPSAhJHNjb3BlLnNob3dpbmd0ZXJtcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vUnVsZXMgbW9kYWxcbiAgICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCdcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5jbG9zZVJ1bGVzTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSkge1xuICAgICAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UvJztcblxuICAgICAgICBEQi5nZXRBcmVhKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oYXJlYSkge1xuICAgICAgICAgICAgJHNjb3BlLmFyZWEgPSBhcmVhO1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2lmaXNrZS1hcmVhJyk7XG5cbiAgICAgICAgICAgICRzY29wZS5pbWFnZXMgPSBhcmVhLmltYWdlcztcblxuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ3RhYnMnKS51cGRhdGUoKTtcblxuICAgICAgICAgICAgREIuZ2V0T3JnYW5pemF0aW9uKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihvcmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JnID0gb3JnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgREIuZ2V0QXJlYUZpc2hlcygkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpc2hlcykge1xuICAgICAgICAgICAgJHNjb3BlLmZpc2hlcyA9IGZpc2hlcztcbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUuJGdldEJ5SGFuZGxlKCd0YWJzJykudXBkYXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgREIuZ2V0UHJvZHVjdHNCeUFyZWEoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwcm9kdWN0cykge1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gcHJvZHVjdHM7XG4gICAgICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLiRnZXRCeUhhbmRsZSgndGFicycpLnVwZGF0ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhRmlzaEN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5zb3J0b3JkZXIgPSAnLWFtb3VudCc7XG4gICAgICAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuYmVmb3JlRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhSW5mb0N0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSkge1xuICAgICAgICAkc2NvcGUuZ290b1Byb2R1Y3RzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLiRnZXRCeUhhbmRsZSgndGFicycpLnNsaWRlKDEpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYU1hcEN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJ0RCJyxcbiAgICAnbGVhZmxldEV2ZW50cycsXG4gICAgJyRpb25pY1BsYXRmb3JtJyxcbiAgICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICAgJyRjb3Jkb3ZhRGV2aWNlT3JpZW50YXRpb24nLFxuICAgICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBEQiwgbGVhZmxldEV2ZW50cywgJGlvbmljUGxhdGZvcm0sICRjb3Jkb3ZhR2VvbG9jYXRpb24sICRjb3Jkb3ZhRGV2aWNlT3JpZW50YXRpb24sICR0aW1lb3V0KSB7XG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU15cG9zKG9iaikge1xuICAgICAgICAgICAgLy9yb3RhdGUgaWNvbkFuZ2xlIDQ1IGRlZyBzaW5jZSB0aGUgaWNvbiBpcyB0aWx0ZWQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgb2JqLmljb25BbmdsZSA9IChvYmouaWNvbkFuZ2xlIHwgMCkgLSA0NTtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IG5hbWVkIGVsZW1lbnQgaW4gb3JkZXIgZm9yIHRoZSB1cGRhdGUgdG8gcmVnaXN0ZXJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLm1hcC5tYXJrZXJzLm15cG9zMiwgb2JqKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MgPSAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MsIG9iaik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm15cG9zMiA9ICRzY29wZS5tYXAubWFya2Vycy5teXBvcztcbiAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm1hcC5tYXJrZXJzLm15cG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIG1pZ2h0IG5lZWQgZm9yIGlvc1xuICAgICAgICAgICBmdW5jdGlvbiBnZXRNeXBvcygpIHtcbiAgICAgICAgICAgcmV0dXJuICRzY29wZS5tYXAubWFya2Vycy5teXBvcyB8fCAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICB9XG4gICAgICAgICAgICovXG5cbiAgICAgICAgdmFyIGljb25zID0ge307XG4gICAgICAgIHZhciBtYXBib3hVcmwgPSAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JztcbiAgICAgICAgLy9UT0RPOiBHZXQgYXBpa2V5IGZyb20gaWZpc2tlLWFwaVxuICAgICAgICB2YXIgYXBpa2V5ID0gJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJztcblxuICAgICAgICB2YXIgdXBkYXRlTWFwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6ICRzY29wZS5hcmVhLmxhdCxcbiAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS5hcmVhLmxuZyxcbiAgICAgICAgICAgICAgICB6b29tOiBOdW1iZXIoJHNjb3BlLmFyZWEuem9vbSkgPyBOdW1iZXIoJHNjb3BlLmFyZWEuem9vbSkgOiA5XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBEQi5nZXRQb2lUeXBlcygpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb2lfdHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaV90eXBlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHBvaV90eXBlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbdHlwZS5JRF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgKyB0eXBlLmljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbMTYsIDM3XSwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC0zNV0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIERCLmdldFBvaXMoJHNjb3BlLmFyZWEub3JnaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9pcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2kgPSBwb2lzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnNbJ3BvaScgKyBpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3BvaXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9pLmxhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcG9pLmxvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zW3BvaS50eXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGg0PicgKyBwb2kudCArICc8L2g0PjxwPicgKyBwb2kuZCArICc8L3A+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIC0gNTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAubWFya2Vycy5hcmVhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdwb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLmFyZWEubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAkc2NvcGUuYXJlYS5sbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAkc2NvcGUuYXJlYS50XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBEQi5nZXRQb2x5Z29ucygkc2NvcGUuYXJlYS5vcmdpZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb2x5Z29ucykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLnBhdGhzID0gcG9seWdvbnMubWFwKGZ1bmN0aW9uKHBvbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG5nczogSlNPTi5wYXJzZSgnWycgKyBwb2x5LnBvbHkgKyAnXScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwb2x5LmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IHBvbHkuYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWdvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgICAgIGNlbnRlcjoge30sXG4gICAgICAgICAgICAgICAgcGF0aHM6IHt9LFxuXG4gICAgICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgICAgICBteXBvczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuZ2xlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoaXMgaXMgeW91IScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs0MCw0MF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzIwLDIwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdpY29uIGlvbi1uYXZpZ2F0ZSBteXBvc2l0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGxheWVyczoge1xuICAgICAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRkb29yczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVdG9taHVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG1hcGJveFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5vdXRkb29ycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaWtleTogYXBpa2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdGVsbGl0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTYXRlbGxpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3h5eicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBtYXBib3hVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3guc2F0ZWxsaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiBhcGlrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXlzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2lzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1N0w6RsbGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFya2VyY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09uU2VsZWN0b3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbTogOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kczogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5iZWZvcmVFbnRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5hcmVhKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdpZmlza2UtYXJlYScsIHVwZGF0ZU1hcCk7XG5cbiAgICAgICAgICAgICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwMFxuICAgICAgICAgICAgICAgIH0pLnRoZW4obnVsbCwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTXlwb3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9zLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHBvcy5jb29yZHMubG9uZ2l0dWRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkY29yZG92YURldmljZU9yaWVudGF0aW9uLndhdGNoSGVhZGluZyh7XG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwMFxuICAgICAgICAgICAgICAgIH0pLnRoZW4obnVsbCwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU15cG9zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5nbGU6IGhlYWRpbmcudHJ1ZUhlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUubmF2aWdhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvL3ZhciBwb3MgPSBnZXRNeXBvcygpOyAvL21pZ2h0IG5lZWQgZm9yIGlvc1xuICAgICAgICAgICAgICAgICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBsYXVuY2huYXZpZ2F0b3IubmF2aWdhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBbJHNjb3BlLm5hdnRvLmxhdCwgJHNjb3BlLm5hdnRvLmxuZ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ09wZW5pbmcgbmF2aWdhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnTmF2aWdhdGlvbiBmYWlsZWQhJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZW5hYmxlZEV2ZW50cyA9IFsncG9wdXBvcGVuJywgJ3BvcHVwY2xvc2UnXTtcbiAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZEV2ZW50c1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcmtlci5wb3B1cG9wZW4nLCBmdW5jdGlvbihldmVudCwgYXJncykge1xuICAgICAgICAgICAgICAgIC8vc2hvdyBuYXZ0b2J1dHRvblxuICAgICAgICAgICAgICAgICRzY29wZS5uYXZ0byA9IGFyZ3MubW9kZWw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcmtlci5wb3B1cGNsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy9oaWRlIG5hdnRvYnV0dG9uXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5hdnRvID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScgLCdEQicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSAsREIpIHtcblxuICAgIHZhciBjb3B5ID0gJHN0YXRlUGFyYW1zLnNlYXJjaDtcbiAgICAkc2NvcGUuc2VhcmNoID0gY29weTtcbiAgICAkc2NvcGUuY291bnR5ID0gJHN0YXRlUGFyYW1zLmNvdW50eTtcbiAgICBEQi5zZWFyY2goJycsICRzdGF0ZVBhcmFtcy5pZClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuYXJlYXMgPSBkYXRhO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICAgICRzY29wZS5jbGVhclNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuc2VhcmNoID0gJyc7XG4gICAgfTtcbiAgICAkc2NvcGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbFRvcCgpO1xuICAgIH07XG5cbn1dKTtcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ29udGFjdEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICAkc2NvcGUuY29udGFjdEluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdjb250YWN0SW5mbycpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ291bnRpZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0Q291bnRpZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmNvdW50aWVzID0gZGF0YTtcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0Zpc2hEZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCKSB7XG4gICAgJHNjb3BlLmZpc2ggPSAkc3RhdGVQYXJhbXMuZmlzaDtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgIGlmKCEkc2NvcGUuZmlzaCkge1xuICAgICAgICBEQi5nZXRGaXNoKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmZpc2ggPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKCRzY29wZS5maXNoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJHNjb3BlLmZpc2gpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignRmlzaGVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgREIuZ2V0RmlzaGVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRzY29wZS5maXNoZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGVmYXVsdF9pbWcgPSBkYXRhWzBdLmltZztcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNIaXN0b3J5JyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNIaXN0b3J5LCBsb2NhbFN0b3JhZ2UsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAgICAgLy8gQ3VycmVudCBoaXN0b3J5IHN0YWNrIElkLiBTZWUgYXJlYV9jb250cm9sbGVyIGZvciB1c2FnZS5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnaG9tZUhpc3RvcnlJZCcsICRpb25pY0hpc3RvcnkuY3VycmVudEhpc3RvcnlJZCgpKTtcblxuICAgICAgICAkc2NvcGUubXlGdW5jID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICBpZigkZXZlbnQua2V5Q29kZSA9PSAxMyAmJiAhJGV2ZW50LnNoaWZ0S2V5KSB7IC8vaWYgZW50ZXIta2V5XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJlYXMnLCB7c2VhcmNoOiAkZXZlbnQuc3JjRWxlbWVudC52YWx1ZX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdMZWdhbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICRzY29wZS50b3MgPSBsb2NhbFN0b3JhZ2UuZ2V0KCd0b3MnKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBbXG5cdCckc2NvcGUnLCBcblx0JyRzdGF0ZScsIFxuXHQnVXBkYXRlJywgXG5cdCckaW9uaWNMb2FkaW5nJywgXG5cdCckaW9uaWNIaXN0b3J5JywgXG5cdCckaW9uaWNWaWV3U3dpdGNoZXInLCBcblx0ZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIFVwZGF0ZSwgJGlvbmljTG9hZGluZywgJGlvbmljSGlzdG9yeSwgJGlvbmljVmlld1N3aXRjaGVyKSB7XG5cblx0ICAgIC8qKlxuXHQgICAgICogc2lnbkluXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgbG9naW4gZm9ybS4gVmFsaWRhdGVzIGxvZ2luIGlucHV0LiBcblx0ICAgICAqIE1vdmVzIHRvIGhvbWUgdmlldyBvbiBzdWNjZXNzZnVsIGxvZ2luLlxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24obG9naW5Gb3JtKSB7XG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0XHRVcGRhdGUudXNlcl9sb2dpbihsb2dpbkZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZSwgbG9naW5Gb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdFx0bG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgdHJ1ZSk7XG5cdFx0XHQkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignZm9yd2FyZCcpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuaG9tZScpO1xuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0XHRsb2dpbkZvcm0uJHNldFZhbGlkaXR5KFwibG9naW5FcnJvclwiLCBmYWxzZSk7XG5cdFx0XHQkc2NvcGUuZXJyb3IgPSBlcnJvci5yZXNwb25zZTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cdCAgICAvKiogXG5cdCAgICAgKiBza2lwXG5cdCAgICAgKiBTa2lwcyB0byB0aGUgaG9tZSB2aWV3LiBGb3JjZXMgZm9yd2FyZCB0cmFuc2l0aW9uIGFuZCBzZXRzIGhvbWUgYXMgcm9vdCB2aWV3LlxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2tpcCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRpb25pY1ZpZXdTd2l0Y2hlci5uZXh0RGlyZWN0aW9uKCdmb3J3YXJkJyk7XG5cdFx0JGlvbmljSGlzdG9yeS5uZXh0Vmlld09wdGlvbnMoXG5cdFx0ICAgIHtcblx0XHRcdGRpc2FibGVCYWNrOiB0cnVlLFxuXHRcdFx0aGlzdG9yeVJvb3Q6IHRydWVcblx0XHQgICAgfSk7XG5cdFx0JHN0YXRlLmdvKCdhcHAuaG9tZScpO1xuXHQgICAgfTtcblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWFwQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnbGVhZmxldERhdGEnLFxuICAgICckaW9uaWNQbGF0Zm9ybScsXG4gICAgJ0RCJyxcbiAgICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICAgJyRjb3Jkb3ZhRGV2aWNlT3JpZW50YXRpb24nLFxuICAgICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgJGlvbmljUGxhdGZvcm0sIERCLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkY29yZG92YURldmljZU9yaWVudGF0aW9uLCAkdGltZW91dCkge1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU15cG9zKG9iaikge1xuICAgICAgICAgICAgLy9yb3RhdGUgaWNvbkFuZ2xlIDQ1IGRlZyBzaW5jZSB0aGUgaWNvbiBpcyB0aWx0ZWQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgb2JqLmljb25BbmdsZSA9IChvYmouaWNvbkFuZ2xlIHwgMCkgLSA0NTtcbiAgICAgICAgICAgIC8qIEhhY2tmaXggdG8gbWFrZSBpdCB1cGRhdGUgPSggKi9cbiAgICAgICAgICAgIGlmKCRzY29wZS5tYXJrZXJzLm15cG9zMikge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZS5tYXJrZXJzLm15cG9zMiwgb2JqKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5teXBvcyA9ICRzY29wZS5tYXJrZXJzLm15cG9zMjtcbiAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUubWFya2Vycy5teXBvcywgb2JqKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5teXBvczIgPSAkc2NvcGUubWFya2Vycy5teXBvcztcbiAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm1hcmtlcnMubXlwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICAgIGxhdDogNjIuMCxcbiAgICAgICAgICAgICAgICBsbmc6IDE1LjAsXG4gICAgICAgICAgICAgICAgem9vbTogNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxheWVyczoge1xuICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ZG9vcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVdG9taHVza2FydGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3h5eicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQve21hcHR5cGV9L3t6fS97eH0ve3l9QDJ4LnBuZz9hY2Nlc3NfdG9rZW49e2FwaWtleX0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5vdXRkb29ycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiAncGsuZXlKMUlqb2liV0ZwYzNSb2J5SXNJbUVpT2lJM1VtczVSMEl3SW4wLkRPaFU4MWNsSExFaFRqODFESU9qZGcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNhdGVsbGl0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NhdGVsbGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3guc2F0ZWxsaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlzaGFyZWFzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRmlza2VvbXLDpWRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFya2VyY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09uU2VsZWN0b3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiA5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICBteXBvczoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogMCxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkFuZ2xlOiAtNDUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdoaSEnLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNDAsNDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzIwLDIwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ljb24gaW9uLW5hdmlnYXRlIG15cG9zaXRpb24nXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKHtcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IDMwMDBcbiAgICAgICAgICAgIH0pLnRoZW4obnVsbCwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU15cG9zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9zLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcG9zLmNvb3Jkcy5sb25naXR1ZGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGNvcmRvdmFEZXZpY2VPcmllbnRhdGlvbi53YXRjaEhlYWRpbmcoe1xuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwMFxuICAgICAgICAgICAgfSkudGhlbihudWxsLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU15cG9zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmdsZTogaGVhZGluZy50cnVlSGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaGkhJyk7XG4gICAgICAgICAgICBEQi5zZWFyY2goJycpLnRoZW4oZnVuY3Rpb24oYXJlYXMpIHtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJlYXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBhcmVhc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnNbJ2FyZWEnICsgaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ2Zpc2hhcmVhcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxuZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld19zY29wZSA9ICRzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X3Njb3BlLmFyZWEgPSBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdfc2NvcGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxhIHVpLXNyZWY9XCJhcHAuYXJlYSh7aWQ6IGFyZWEuSUQgfSlcIj57e2FyZWEudH19PC9hPidcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNZW51Q3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJGlvbmljVmlld1N3aXRjaGVyJyxcbiAgICAnJGlvbmljUG9wb3ZlcicsXG4gICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAnVXBkYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljVmlld1N3aXRjaGVyLCAkaW9uaWNQb3BvdmVyLCBzZXNzaW9uRGF0YSwgVXBkYXRlKSB7XG5cbiAgICAgICAgJHNjb3BlLnNlc3Npb25EYXRhID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAgICAgJGlvbmljUG9wb3Zlci5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvbWVudS9wb3BvdmVyLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocG9wb3Zlcikge1xuICAgICAgICAgICAgJHNjb3BlLnBvcG92ZXIgPSBwb3BvdmVyO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUudXNlcmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5wb3BvdmVyLmhpZGUoKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLnVzZXJpbmZvJyk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5wb3BvdmVyLmhpZGUoKTtcbiAgICAgICAgICAgIFVwZGF0ZS51c2VyX2xvZ291dCgpO1xuXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5sb2dpbicpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5wb3BvdmVyLmhpZGUoKTtcbiAgICAgICAgICAgICRpb25pY1ZpZXdTd2l0Y2hlci5uZXh0RGlyZWN0aW9uKCdiYWNrJyk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5sb2dpbicpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5wb3BvdmVyLmhpZGUoKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLnJlZ2lzdGVyLmRldGFpbHMnKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZm9yY2VkVXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBVcGRhdGUuZm9yY2VkVXBkYXRlKCk7XG4gICAgICAgIH07XG5cbiAgICB9XG5dKTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ1JlY292ZXJDdHJsJywgW1xuXHQnJHNjb3BlJyxcblx0JyRzdGF0ZScsXG5cdCckaW9uaWNIaXN0b3J5Jyxcblx0JyRpb25pY1BsYXRmb3JtJyxcblx0JyRpb25pY0xvYWRpbmcnLFxuXHQnJGNvcmRvdmFUb2FzdCcsXG5cdCdBUEknLFxuXHRmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljSGlzdG9yeSwgJGlvbmljUGxhdGZvcm0sICRpb25pY0xvYWRpbmcsICRjb3Jkb3ZhVG9hc3QsIEFQSSkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICBcblx0ICAgIHZhciB1c2VyID0gXCJcIjtcblx0ICAgIFxuXHQgICAgLyoqXG5cdCAgICAgKiBza2lwXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3Igc2tpcCBidXR0b25cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnNraXAgPSBmdW5jdGlvbigpIHtcblx0XHQkc2NvcGUuaW5mbyA9IFwiXCI7XG5cdFx0JHN0YXRlLmdvKCdeLnJlc2V0cGFzc3dvcmQnKTtcblx0ICAgIH07XG5cdCAgICBcblxuXHQgICAgLyoqXG5cdCAgICAgKiBsb3N0UGFzc3dvcmRcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciBmaXJzdCBmb3JtXG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5sb3N0UGFzc3dvcmQgPSBmdW5jdGlvbihmb3JtKSB7XG5cblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblx0XHRcblx0XHR1c2VyID0gZm9ybS51c2VyLiR2aWV3VmFsdWU7XG5cdFx0QVBJLnVzZXJfbG9zdF9wYXNzd29yZCh1c2VyKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcblx0XHRcdC8vIFNldCBpbmZvIG1lc3NhZ2UgZm9yIG5leHQgdmlld1xuXHRcdFx0JHNjb3BlLmluZm8gPSAnRW4gw6V0ZXJzdMOkbGxuaW5nc2tvZCBrb21tZXIgc2tpY2thcyB0aWxsIGRpZyBpbm9tIGtvcnQsIHZpYSAnO1x0XHRcdFxuXHRcdFx0aWYgKGRhdGEubWFpbGVkKSB7XG5cdFx0XHQgICAgJHNjb3BlLmluZm8gKz0gJ2UtbWFpbCc7XG5cdFx0XHQgICAgaWYgKGRhdGEudGV4dGVkKSB7XG5cdFx0XHRcdCRzY29wZS5pbmZvICs9ICcgb2NoICc7XG5cdFx0XHQgICAgfVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRhdGEudGV4dGVkKSB7XG5cdFx0XHQgICAgJHNjb3BlLmluZm8gKz0gJ3Ntcyc7XG5cdFx0XHR9XG5cdFx0XHQkc2NvcGUuaW5mbyArPSAnLic7XG5cdFx0XG5cdFx0XHQkc3RhdGUuZ28oJ14ucmVzZXRwYXNzd29yZCcpO1xuXG5cdFx0ICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHQvL1RvRG86IGhhbmRsZSB0aW1lb3V0P1xuXHRcdFx0Ly9Ub0RvOiBjaGVjayBlcnJvciBjb2Rlc1xuXHRcdFx0Zm9ybS51c2VyLiRzZXRWYWxpZGl0eSgnaW52YWxpZFVzZXInLCBmYWxzZSk7XG5cdFx0ICAgIH0pXG5cdFx0ICAgIC5maW5hbGx5KCRpb25pY0xvYWRpbmcuaGlkZSk7XG5cdCAgICB9O1xuXG5cblx0ICAgIC8qKlxuXHQgICAgICogcmVzZXRQYXNzd29yZFxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHNlY29uZCBmb3JtXG5cdCAgICAgKlxuXHQgICAgICogVG9EbzogbG9nIGluIGltbWVkaWF0ZWx5P1xuXHQgICAgICovXG5cdCAgICAkc2NvcGUucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uKGZvcm0pIHtcblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuXHRcdEFQSS51c2VyX3Jlc2V0X3Bhc3N3b3JkKHVzZXIsIGZvcm0ucGFzc3dvcmQuJHZpZXdWYWx1ZSwgZm9ybS5jb2RlLiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXHRcdFx0Ly8gU3VjY2VzcyB0b2FzdFxuXHRcdFx0JGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgJGNvcmRvdmFUb2FzdC5zaG93TG9uZ0JvdHRvbSgnRGl0dCBsw7ZzZW5vcmQgaGFyIMOkbmRyYXRzJyk7XG5cdFx0XHR9KTtcblx0XHRcdC8vIE5hdmlnYXRlIHRvIGN1cnJlbnQgaGlzdG9yeSByb290XG5cdFx0XHQkaW9uaWNIaXN0b3J5LmdvVG9IaXN0b3J5Um9vdCgkaW9uaWNIaXN0b3J5LmN1cnJlbnRWaWV3KCkuaGlzdG9yeUlkKTtcdFxuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0Ly9Ub0RvOiBjaGVjayBlcnJvciBjb2RlXG5cdFx0XHQvLyA1OiBubyBzdWNoIHVzZXJcblx0XHRcdC8vIDEzOiBwYXNzd29yZCBsZW5ndGhcblx0XHRcdC8vIDE2OiBpbnZhbGlkL2V4cGlyZWQgcmVzZXQgY29kZVxuXHRcdCAgICB9KVxuXHRcdCAgICAuZmluYWxseSgkaW9uaWNMb2FkaW5nLmhpZGUpO1xuXHQgICAgfTtcblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNMb2FkaW5nJyxcbiAgICAnJGlvbmljTW9kYWwnLFxuICAgICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gICAgJ0FQSScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0xvYWRpbmcsICRpb25pY01vZGFsLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSwgQVBJLCBsb2NhbFN0b3JhZ2UpIHtcblxuICAgICAgICB2YXIgdXNlcm5hbWU7XG5cbiAgICAgICAgLy8gTGl2ZSBjaGVjayBmb3IgdXNlcm5hbWUgYXZhaWxhYmlsaXR5XG4gICAgICAgICRzY29wZS5jaGVja1VzZXJuYW1lID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgICAgIEFQSS51c2VyX2V4aXN0cyhpbnB1dC4kdmlld1ZhbHVlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlucHV0LiRzZXRWYWxpZGl0eSgnbmFtZVRha2VuJywgIWRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTGl2ZSBjaGVjayBmb3IgZW1haWwgYXZhaWxhYmlsaXR5XG4gICAgICAgICRzY29wZS5jaGVja0VtYWlsID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgICAgIEFQSS51c2VyX2V4aXN0cyhudWxsLCBpbnB1dC4kdmlld1ZhbHVlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlucHV0LiRzZXRWYWxpZGl0eSgnZW1haWxUYWtlbicsICFkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gVmFsaWRhdGlvbiBlcnJvcnMgbm90IHRpZWQgdG8gaW5wdXQgZmllbGRcbiAgICAgICAgJHNjb3BlLmZvcm1FcnJvcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVnaXN0ZXJcbiAgICAgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHRoZSByZWdpc3RyYXRpb24gZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICAgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgICAgIC8vIFNhdmUgcGhvbmUgbnVtYmVyIGZvciBuZXh0IHZpZXdcbiAgICAgICAgICAgICRzY29wZS5waG9uZSA9IGZvcm0ucGhvbmUuJHZpZXdWYWx1ZTtcblxuICAgICAgICAgICAgLy8gU2F2ZSB1c2VybmFtZSBmb3IgdmVyaWZ5IHN1Ym1pdCBoYW5kbGVyXG4gICAgICAgICAgICB1c2VybmFtZSA9IGZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZTtcblxuICAgICAgICAgICAgdmFyIHBhc3N3b3JkID0gZm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlO1xuICAgICAgICAgICAgdmFyIGZ1bGxuYW1lID0gZm9ybS5mdWxsbmFtZS4kdmlld1ZhbHVlO1xuICAgICAgICAgICAgdmFyIGVtYWlsID0gZm9ybS5lbWFpbC4kdmlld1ZhbHVlO1xuXG4gICAgICAgICAgICBBUEkudXNlcl9yZWdpc3Rlcih1c2VybmFtZSwgZnVsbG5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgJHNjb3BlLnBob25lKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3M6IEdvIHRvIHZlcmlmeSBhY2NvdW50IHZpZXdcbiAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ14udmVyaWZ5Jyk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRXJyb3I6IEluZm9ybSB0aGUgdXNlciBhYm91dCBmYWlsZWQgcmVnaXN0cmF0aW9uXG4gICAgICAgICAgICAgICAgICogU2VlIEFQSSBkb2N1bWVudGF0aW9uIGZvciBlcnJvciBjb2Rlc1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVG9EbzogSGFuZGxlIHRpbWVvdXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybUVycm9ycy5yZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUuc2Nyb2xsVG9wKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gSW52YWxpZCBFbWFpbFxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcl9jb2RlID09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5lbWFpbC4kc2V0VmFsaWRpdHkoJ2ludmFsaWRFbWFpbCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXNlcm5hbWUgb3IgRW1haWwgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yX2NvZGUgPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tVc2VybmFtZShmb3JtLnVzZXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrRW1haWwoZm9ybS5lbWFpbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEludmFsaWQgcGhvbmUgbnVtYmVyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yX2NvZGUgPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5waG9uZS4kc2V0VmFsaWRpdHkoJ2ludmFsaWRQaG9uZScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHZlcmlmeVxuICAgICAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgdGhlIHZlcmlmaWNhdGlvbiBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICAkc2NvcGUudmVyaWZ5ID0gZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICAgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgICAgIHZhciB2ZXJjb2RlID0gZm9ybS52ZXJjb2RlO1xuXG4gICAgICAgICAgICBBUEkudXNlcl9jb25maXJtKHVzZXJuYW1lLCB2ZXJjb2RlLiR2aWV3VmFsdWUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmVyY29kZS4kc2V0VmFsaWRpdHkoXCJ2ZXJpZmllZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5sb2dpbicpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseSgkaW9uaWNMb2FkaW5nLmhpZGUoKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3RvcycpO1xuICAgICAgICAvL01vZGFsIHdpdGggdGhlIEVVTEFcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL3JlZ2lzdGVyL2V1bGEuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCdcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLmV1bGEgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5zaG93RXVsYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLmV1bGEuc2hvdygpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VFdWxhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXVsYS5oaWRlKCk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXVsYS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdUZWNobmlxdWVEZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ0RCJywgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY1NsaWRlQm94RGVsZWdhdGUpIHtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgICRzY29wZS50ZWNoID0gJHN0YXRlUGFyYW1zLnRlY2g7XG4gICAgJHNjb3BlLmltYWdlcyA9IFtdO1xuXG4gICAgaWYoISRzY29wZS50ZWNoKSB7XG4gICAgICAgIERCLmdldFRlY2huaXF1ZSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5pbWFnZXMgPSBbZGF0YS5pbWcxLCBkYXRhLmltZzIsIGRhdGEuaW1nM10uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEvXFwvJC8udGVzdChlbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICAgICAgICAgICRzY29wZS50ZWNoID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUudGVjaDtcbiAgICAgICAgJHNjb3BlLmltYWdlcyA9IFtkYXRhLmltZzEsIGRhdGEuaW1nMiwgZGF0YS5pbWczXS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAhL1xcLyQvLnRlc3QoZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnVwZGF0ZSgpO1xuICAgIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1RlY2huaXF1ZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0VGVjaG5pcXVlcygpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgJHNjb3BlLnRlY2huaXF1ZXMgPSBkYXRhO1xuICAgIH0pO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgJHNjb3BlLnNvcnRvcmRlciA9ICdzbyc7XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1VzZXJDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0VXNlckluZm8oKVxuICAgIC50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgJHNjb3BlLnVzZXIgPSB1c2VyO1xuICAgIH0pO1xuICAgIERCLmdldFVzZXJOdW1iZXJzKClcbiAgICAudGhlbihmdW5jdGlvbihudW1iZXJzKSB7XG4gICAgICAgICRzY29wZS5udW1iZXJzID0gbnVtYmVycztcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1VzZXJDYXJkc0N0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZVBhcmFtcycsXG4gICAgJ0RCJyxcbiAgICAnVXBkYXRlJyxcbiAgICAnJGlvbmljTW9kYWwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQiwgVXBkYXRlLCAkaW9uaWNNb2RhbCkge1xuICAgICAgICAkc2NvcGUucHJlZCA9ICctdG8nO1xuICAgICAgICAkc2NvcGUuZW5kcG9pbnQgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlJztcblxuICAgICAgICB2YXIgaW5pdGlsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUubm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIERCLmdldFVzZXJQcm9kdWN0cygpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gZGF0YTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgaW5pdGlsaXplKTtcbiAgICAgICAgLy91c2UgdGhlIHNhbWUgbW9kYWwgYXMgaW4gYXJlYV9jYXJkc1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvYXJlYV9jYXJkcy9ydWxlc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0KTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmNsb3NlUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVXBkYXRlLnVwZGF0ZSgpXG4gICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIGluaXRpbGl6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5hcGknLCBbJ2lmaXNrZS51dGlscyddKVxuXHQucHJvdmlkZXIoJ0FQSScsIGZ1bmN0aW9uIEFQSVByb3ZpZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLmJhc2VfdXJsID0gJ2h0dHBzOi8vd3d3LmlmaXNrZS5zZS9hcGkvdjIvYXBpLnBocCc7XG5cbiAgICAgICAgICAgIHRoaXMuJGdldCA9IFtcblx0XHQnJGh0dHAnLFxuXHRcdCdzZXNzaW9uRGF0YScsXG5cdFx0J2xvY2FsU3RvcmFnZScsXG5cdFx0JyRxJyxcblx0XHRmdW5jdGlvbigkaHR0cCwgc2Vzc2lvbkRhdGEsIGxvY2FsU3RvcmFnZSwgJHEpIHtcblx0XHQgICAgdmFyIGJhc2VfdXJsID0gdGhpcy5iYXNlX3VybDtcblxuXHRcdCAgICAvKipcblx0XHQgICAgICogIyBhcGlfY2FsbCAjXG5cdFx0ICAgICAqIGhhbmRsZXMgaHR0cCByZXF1ZXN0c1xuXHRcdCAgICAgKiByZXR1cm5zIGEgJGh0dHAgb2JqZWN0IGZvciB0aGUgcmVxdWVzdGVkIGFwaSBjYWxsXG5cdFx0ICAgICAqL1xuXHRcdCAgICB2YXIgYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMsIGNhY2hlKSB7XG5cdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG5cdFx0XHQgICAgJGh0dHAoXG5cdFx0XHRcdHtcblx0XHRcdFx0ICAgIG1ldGhvZDonZ2V0Jyxcblx0XHRcdFx0ICAgIHVybDogYmFzZV91cmwsXG5cdFx0XHRcdCAgICBwYXJhbXM6IGFuZ3VsYXIuZXh0ZW5kKHBhcmFtcywgeydrZXknOiAnMDEyMzQ1Njc4OWFiY2RlZid9KSxcblx0XHRcdFx0ICAgIHRpbWVvdXQ6IDUwMDAsXG5cdFx0XHRcdCAgICBjYWNoZTogKGNhY2hlICE9PSBmYWxzZSlcblx0XHRcdFx0fVxuXHRcdFx0ICAgIClcblx0XHRcdCAgICAvLyBUb0RvOiBQcm9wZXIgbG9nZ2luZ1xuXHRcdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdCAgICBpZihkYXRhLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuXHRcdFx0XHRcdHJlamVjdChkYXRhLm1lc3NhZ2UpO1xuXHRcdFx0XHQgICAgfSBlbHNlIHtcblx0XHRcdFx0XHRpZihkYXRhLmRhdGEpIHtcblx0XHRcdFx0XHQgICAgZnVsZmlsbChkYXRhLmRhdGEucmVzcG9uc2UpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ICAgIHJlamVjdChkYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZywgc3RhdHVzVGV4dCkge1xuXHRcdFx0XHQgICAgaWYgKHN0YXR1cyA9PT0gMCkge1xuXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZW91dCcpKTtcblx0XHRcdFx0ICAgIH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KGRhdGEpO1xuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdCAgICB9O1xuXG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiAjIHNlc3Npb25fYXBpX2NhbGwgI1xuXHRcdCAgICAgKiB3cmFwcGVyIGZvciBhcGlfY2FsbCAtIGluc2VydHMgdGhlIHNlc3Npb24gdG9rZW4gaW50byBwYXJhbXNcblx0XHQgICAgICovXG5cdFx0ICAgIHZhciBzZXNzaW9uX2FwaV9jYWxsID0gZnVuY3Rpb24ocGFyYW1zLCBjYWNoZSkge1xuXHRcdFx0dmFyIHNlc3Npb24gPSBzZXNzaW9uRGF0YS50b2tlbjtcblx0XHRcdHJldHVybiBhcGlfY2FsbChhbmd1bGFyLmV4dGVuZChwYXJhbXMsIHtzOiBzZXNzaW9ufSksIGNhY2hlKTtcblx0XHQgICAgfTtcblxuXHRcdCAgICByZXR1cm4ge1xuXHRcdFx0Z2V0X211bmljaXBhbGl0aWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbXVuaWNpcGFsaXRpZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2NvdW50aWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY291bnRpZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9leGlzdHM6IGZ1bmN0aW9uKHVzZXJuYW1lLCBlbWFpbCkge1xuXHRcdFx0ICAgIHZhciBhcmdzID0ge206ICd1c2VyX2V4aXN0cyd9O1xuXG5cdFx0XHQgICAgaWYgKHVzZXJuYW1lICYmIHR5cGVvZiB1c2VybmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0YXJncy51c2VybmFtZSA9IHVzZXJuYW1lO1xuXHRcdFx0ICAgIH1cblx0XHRcdCAgICBpZiAoZW1haWwgJiYgdHlwZW9mIGVtYWlsID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRhcmdzLmVtYWlsID0gZW1haWw7XG5cdFx0XHQgICAgfVxuXG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKGFyZ3MsIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX3JlZ2lzdGVyOiBmdW5jdGlvbih1c2VybmFtZSwgZnVsbG5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgcGhvbmUpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ3VzZXJfcmVnaXN0ZXInLFxuXHRcdFx0XHQgIHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdFx0ICBmdWxsbmFtZTogZnVsbG5hbWUsXG5cdFx0XHRcdCAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuXHRcdFx0XHQgIGVtYWlsOiBlbWFpbCxcblx0XHRcdFx0ICBwaG9uZTogcGhvbmVcblx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfY29uZmlybTogZnVuY3Rpb24odXNlcm5hbWUsIHBpbikge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7XG5cdFx0XHRcdG06ICd1c2VyX2NvbmZpcm0nLFxuXHRcdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXG5cdFx0XHRcdHBpbjogcGluXG5cdFx0XHQgICAgfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfaW5mbzogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2luZm8nfSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9sb3N0X3Bhc3N3b3JkOiBmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICd1c2VyX2xvc3RfcGFzc3dvcmQnLFxuXHRcdFx0XHQgIHVzZXJfaWRlbnRpZmljYXRpb246IHVzZXJcblx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfcmVzZXRfcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJfaWRlbnRpZmljYXRpb24sIHBhc3N3b3JkLCBjb2RlKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHtcblx0XHRcdFx0bTogJ3VzZXJfcmVzZXRfcGFzc3dvcmQnLFxuXHRcdFx0XHR1c2VyX2lkZW50aWZpY2F0aW9uOiB1c2VyX2lkZW50aWZpY2F0aW9uLFxuXHRcdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXG5cdFx0XHRcdGNvZGU6IGNvZGVcblx0XHRcdCAgICB9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9jaGFuZ2VfcGFzc3dvcmQ6IGZ1bmN0aW9uKG9sZF9wYXNzd29yZCwgbmV3X3Bhc3N3b3JkKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe1xuXHRcdFx0XHRtOiAndXNlcl9jaGFuZ2VfcGFzc3dvcmQnLFxuXHRcdFx0XHRvbGRfcGFzc3dvcmQ6IG9sZF9wYXNzd29yZCxcblx0XHRcdFx0bmV3X3Bhc3N3b3JkOiBuZXdfcGFzc3dvcmRcblx0XHRcdCAgICB9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9sb2dpbjogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICd1c2VyX2xvZ2luJyxcblx0XHRcdFx0ICB1c2VybmFtZTogdXNlcm5hbWUsXG5cdFx0XHRcdCAgcGFzc3dvcmQ6IHBhc3N3b3JkXG5cdFx0XHRcdH0sIGZhbHNlKVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdCAgICBzZXNzaW9uRGF0YS5zZXRUb2tlbihkYXRhKTtcblxuXHRcdFx0XHQgICAgLy9uZWVkZWQgZm9yIGNoYWluaW5nIG9mIHByb21pc2VzLCBzaG91bGQgYmUgZG9uZSBzb21lIG90aGVyIHdheSBwZXJoYXBzP1xuXHRcdFx0XHQgICAgcmV0dXJuIGRhdGE7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9sb2dvdXQnfSwgZmFsc2UpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0ICAgIHNlc3Npb25EYXRhLmRlbGV0ZVRva2VuKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfcHJvZHVjdHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9wcm9kdWN0cyd9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2Zpc2hlczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2Zpc2hlcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfdGVjaG5pcXVlczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3RlY2huaXF1ZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2JhaXRzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfYmFpdHMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X29yZ2FuaXphdGlvbnM6IGZ1bmN0aW9uKG9yZ2lkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfb3JnYW5pemF0aW9ucycsXG5cdFx0XHRcdCAgb3JnaWQ6IG9yZ2lkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9vcmdfbW9kaWZpZWQ6IGZ1bmN0aW9uKG9yZ2lkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfb3JnX21vZGlmaWVkJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2FyZWFzOiBmdW5jdGlvbihhcmVhaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9hcmVhcycsXG5cdFx0XHRcdCAgYXJlYWlkOiBhcmVhaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2FyZWFzX21vZGlmaWVkOiBmdW5jdGlvbihhcmVhaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9hcmVhc19tb2RpZmllZCcsXG5cdFx0XHRcdCAgYXJlYWlkOiBhcmVhaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3Byb2R1Y3RzOiBmdW5jdGlvbihhcmVhaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9wcm9kdWN0cycsXG5cdFx0XHRcdCAgYXJlYWlkOiBhcmVhaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3J1bGVzOiBmdW5jdGlvbihydWxlaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9ydWxlcycsXG5cdFx0XHRcdCAgcnVsZWlkOiBydWxlaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3Bob3RvczogZnVuY3Rpb24ob3JnaWQsIGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X3Bob3RvcycsXG5cdFx0XHRcdCAgb3JnaWQ6IG9yZ2lkLFxuXHRcdFx0XHQgIGFyZWFpZDogYXJlYWlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9tYXBfcG9pczogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9tYXBfcG9pcycsXG5cdFx0XHRcdCAgb3JnaWQ6IG9yZ2lkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9tYXBfcG9pX3R5cGVzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X21hcF9wb2lfdHlwZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X21hcF9wb2x5Z29uczogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9tYXBfcG9seWdvbnMnLFxuXHRcdFx0XHQgIG9yZ2lkOiBvcmdpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2dldF9mYXZvcml0ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9nZXRfZmF2b3JpdGVzJ30sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfdGVybXNfb2Zfc2VydmljZTogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3Rlcm1zX29mX3NlcnZpY2UnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2NvbnRhY3RfaW5mbzogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2NvbnRhY3RfaW5mbyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfZW5naW5lX3BvbGljaWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfZW5naW5lX3BvbGljaWVzJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9zbXNfdGVybXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9zbXNfdGVybXMnfSk7XG5cdFx0XHR9XG5cdFx0ICAgIH07XG5cdFx0fV07XG5cdH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGInLCBbXSlcbiAgICAucHJvdmlkZXIoJ0RCJywgZnVuY3Rpb24gREJQcm92aWRlcigpIHtcblxuICAgICAgICB0aGlzLiRnZXQgPSBbXG4gICAgICAgICAgICAnJGNvcmRvdmFTUUxpdGUnLFxuICAgICAgICAgICAgJ0FQSScsXG4gICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgZnVuY3Rpb24oJGNvcmRvdmFTUUxpdGUsIEFQSSwgJHEpIHtcblxuICAgICAgICAgICAgICAgIHZhciBkYjtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNxbGl0ZVBsdWdpbikge1xuICAgICAgICAgICAgICAgICAgICBkYiA9ICRjb3Jkb3ZhU1FMaXRlLm9wZW5EQignZmlza2ViYXNlbi5kYicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm9wZW5EYXRhYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICBkYiA9IHdpbmRvdy5vcGVuRGF0YWJhc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmlza2ViYXNlbi5kYicsICcxLjAnLCAnZmlza2ViYXNlbicsIDEwICogMTAyNCAqIDEwMjQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlLCBzb3JyeScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB0YWJsZURlZiA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ0FyZWEnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydrdycsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ25vdGUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYzEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2MyJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjMycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbTEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ20yJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtMycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbGF0JywgICAncmVhbCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsbmcnLCAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3pvb20nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncG50JywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NhcicsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydlbmcnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaGNwJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21hcCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnd3NjJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ0FyZWFfRmlzaCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydhaWQnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZmlkJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2Ftb3VudCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjb21tZW50JywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1Byb2R1Y3QnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndDInLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbm8nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW0nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncGYnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYWknLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydyaScsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NoJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncHJpY2UnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaGwnLCAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnQ291bnR5JzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdNdW5pY2lwYWxpdHknOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjSUQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbmFtZScsICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdGaXNoJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbWF4JywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ljb24nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW1nJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbicsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2dlbycsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc2l6ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsYXQnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3JlYycsICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUnVsZSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndmVyJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdVc2VyX1Byb2R1Y3QnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYXQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjb2RlJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ZyJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZnVsbG5hbWUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnb3QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncmVmMScsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydyZWYyJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3RvJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncGlkJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwZGYnLCAgICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdVc2VyX0luZm8nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndXNlcm5hbWUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbG9nZ2VkaW4nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSVAxJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSVAyJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbmFtZScsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZW1haWwnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZCcsICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnVXNlcl9OdW1iZXInOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ251bWJlcicsICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1RlY2huaXF1ZSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZGUnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkYScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ljb24nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW1nMScsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbWcyJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltZzMnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsneW91dHViZScsICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdPcmdhbml6YXRpb24nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY3AnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndXJsJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY28nLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ZhdCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZHAnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydmdmEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ29yZycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbWwnLCAgICAgJ2ludCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdQb2knOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnb3JnaWQnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0eXBlJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbGEnLCAgICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbG8nLCAgICAgJ3JlYWwnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUG9pX1R5cGUnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1BvbHlnb24nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnb3JnaWQnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd2ZXInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncG9seScsICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHZhbCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucm93cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dmFsLnB1c2goZGF0YS5yb3dzLml0ZW0oaSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR2YWw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlVGFibGU6IGZ1bmN0aW9uKHRhYmxlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gJyArIHRhYmxlICsgJzsnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2luZ2xlRGF0YSA9IGRhdGFbaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydERhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGVEZWZbdGFibGVdLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RGF0YS5wdXNoKHNpbmdsZURhdGFbdGFibGVEZWZbdGFibGVdW2ldWzBdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0lOU0VSVCBJTlRPJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVkFMVUVTKD8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsPycucmVwZWF0KGluc2VydERhdGEubGVuZ3RoIC0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChxdWVyeSwgaW5zZXJ0RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYW5UYWJsZTogZnVuY3Rpb24odGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERyb3BzIGFsbCB0YWJsZXMgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgY2xlYW5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNsZWFuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRhYmxlIGluIHRhYmxlRGVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnRFJPUCBUQUJMRSBJRiBFWElTVFMgJyArIHRhYmxlICsgJzsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCBhbGwgdGFibGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSW5pdGlhbGllcyB0aGUgdGFibGVzIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgaW4gdGFibGVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IHRhYmxlRGVmW3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlVmFsdWVzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBCdWlsZHMgYSBzdHJpbmcgd2l0aCBcIlwiIGFyb3VuZCBhbGwgbmFtZXMsIHNvIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGl0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBTUUwgVGFibGUgd2l0b3V0IGhhdmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdG8gd29ycnkgYWJvdXQgdXNpbmcgcmVzZXJ2ZWQga2V5d29yZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5wdXNoKCdcIicgKyB0YWJsZVtpXVswXSArICdcIiAnICsgdGFibGVbaV1bMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMgPSB0YWJsZVZhbHVlcy5qb2luKCcsICcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLCBQUklNQVJZIEtFWSgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIicgKyB0YWJsZVswXVswXSArICdcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJykpOydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG5cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhbiBhcmVhXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGlkXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBnZXRBcmVhOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oYXJlYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gY3JlYXRlT2JqZWN0KGFyZWEpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IERCIHNob3VsZCBub3QgbmVlZCBBUElcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9waG90b3Mob2JqZWN0Lm9yZ2lkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbWFnZXMgPSBpbWFnZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRBcmVhRmlzaGVzOiBmdW5jdGlvbihhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWFfRmlzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIEZpc2ggT04gQXJlYV9GaXNoLmZpZCA9IEZpc2guSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgQXJlYV9GaXNoLmFpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFthaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogU2VhcmNoZXMgdGhlIGRhdGFiYXNlIHVzaW5nIGEgcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIHF1ZXJ5IGlzIG1hdGNoZWQgdG8gYSBuYW1lIGFuZC9vciBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2Qgc2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaDogZnVuY3Rpb24oc2VhcmNoc3RyaW5nLCBjb3VudHlfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgdCBMSUtFID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY291bnR5X2lkID8gJ0FORCBjMSA9ID8nIDogJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHlfaWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJyUnICsgc2VhcmNoc3RyaW5nICsgJyUnLCBjb3VudHlfaWRdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyclJyArIHNlYXJjaHN0cmluZyArICclJ10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IGEgcHJvZHVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldFByb2R1Y3RcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBwcm9kdWN0X2lkXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbihwcm9kdWN0X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIFByb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgc28nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Byb2R1Y3RfaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogR2V0cyBhbGwgcHJvZHVjdHMgZnJvbSBhbiBhcmVhXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0UHJvZHVjdHNCeUFyZWFcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBhcmVhX2lkXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBnZXRQcm9kdWN0c0J5QXJlYTogZnVuY3Rpb24oYXJlYV9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBESVNUSU5DVCBQcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgYWkgPSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHNvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthcmVhX2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0Q291bnRpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBESVNUSU5DVCBDb3VudHkuKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIENvdW50eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIEFyZWEgT04gQXJlYS5jMSA9IENvdW50eS5JRCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBDb3VudHkudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0VXNlclByb2R1Y3RzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgVXNlcl9Qcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gVXNlcl9Qcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xFRlQgSk9JTiBQcm9kdWN0IE9OIFByb2R1Y3QuSUQgPSBVc2VyX1Byb2R1Y3QucGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xFRlQgSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRGaXNoZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gRmlzaCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0RmlzaDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIEZpc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRUZWNobmlxdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIFRlY2huaXF1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFRlY2huaXF1ZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIFRlY2huaXF1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRPcmdhbml6YXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBPcmdhbml6YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgSUQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gVXNlcl9JbmZvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QodXNlcilbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VXNlck51bWJlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gVXNlcl9OdW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFBvaXM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQb2knLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgb3JnaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRQb2lUeXBlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQb2lfVHlwZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9seWdvbnM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIG9yZ2lkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5maWx0ZXJzJywgW10pXG4uZmlsdGVyKCdvbmVicicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvKDxicj5cXHMqKSsvZywgJzxicj4nKTtcbiAgICB9O1xufSlcbi5maWx0ZXIoJ25vYnJzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8oPGJyKFxccypcXC8pKj4pKy9nLCAnJyk7XG4gICAgfTtcbn0pXG4uZmlsdGVyKCdjbGVhbnRhYmxlcycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8XFwvP3RhYmxlPikrL2csICcnKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oPFxcLz90cj4pKy9nLCAnJyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDxcXC8/dGg+KSsvZywgJycpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8KFxcLz8pdGQuKj8+KSs/L2csICc8JDJwPicpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLzxwPlxccyo8XFwvcD4vZywgJycpO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTtcbn0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UudXBkYXRlJywgWydpZmlza2UuYXBpJywgJ2lmaXNrZS5kYicsICdpZmlza2UudXRpbHMnXSlcbiAgICAucHJvdmlkZXIoJ1VwZGF0ZScsIGZ1bmN0aW9uIFVwZGF0ZVByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICdBUEknLFxuICAgICAgICAgICAgJ0RCJyxcbiAgICAgICAgICAgICdsb2NhbFN0b3JhZ2UnLFxuICAgICAgICAgICAgJyRxJyxcbiAgICAgICAgICAgICckaW9uaWNMb2FkaW5nJyxcbiAgICAgICAgICAgICdzZXNzaW9uRGF0YScsXG4gICAgICAgICAgICBmdW5jdGlvbihBUEksIERCLCBsb2NhbFN0b3JhZ2UsICRxLCAkaW9uaWNMb2FkaW5nLCBzZXNzaW9uRGF0YSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIExBU1RfVVBEQVRFID0gJ2xhc3RfdXBkYXRlJztcblxuICAgICAgICAgICAgICAgIHZhciBwb3B1bGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfYXJlYXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXNoQXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpc2hlcyA9IGRhdGFba2V5XS5maXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBmaXNoS2V5IGluIGZpc2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlzaEFyci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSUQnOiBrZXkgKyAnXycgKyBmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZDogZmlzaEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhaWQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZpc2hlc1tmaXNoS2V5XVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBmaXNoZXNbZmlzaEtleV1bMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdBcmVhJywgZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ0FyZWFfRmlzaCcsIGZpc2hBcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBBcmVhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9wcm9kdWN0cygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1Byb2R1Y3QnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFByb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvdW50aWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnQ291bnR5JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBDb3VudHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X211bmljaXBhbGl0aWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnTXVuaWNpcGFsaXR5JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBNdW5pY2lwYWxpdHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2Zpc2hlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ0Zpc2gnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEZpc2gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3J1bGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUnVsZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUnVsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfdGVjaG5pcXVlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1RlY2huaXF1ZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVGVjaG5pcXVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9vcmdhbml6YXRpb25zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnT3JnYW5pemF0aW9uJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBPcmdhbml6YXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X21hcF9wb2lzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUG9pJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQb2knKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X21hcF9wb2lfdHlwZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQb2lfVHlwZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUG9pX1R5cGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X21hcF9wb2x5Z29ucygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1BvbHlnb24nLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFBvbHlnb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBwb3B1bGF0ZVVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9wcm9kdWN0cygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1VzZXJfUHJvZHVjdCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9Qcm9kdWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlcnMgPSBkYXRhLm51bWJlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bUFyciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1BcnIucHVzaCh7J251bWJlcic6IG51bWJlcnNbaV19KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ1VzZXJfSW5mbycsIFtkYXRhXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFVzZXJfSW5mbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ1VzZXJfTnVtYmVyJywgbnVtQXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9OdW1iZXJzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsZWFuVXNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmNsZWFuVGFibGUoJ1VzZXJfUHJvZHVjdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9OdW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmNsZWFuVGFibGUoJ1VzZXJfSW5mbycpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlbW92ZWQgdXNlciBpbmZvIGZyb20gZGF0YWJhc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ291bGQgbm90IHJlbW92ZSB1c2VyIGRhdGEgZnJvbSBkYXRhYmFzZSEnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbihmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFVwZGF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VXBkYXRlID0gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYVdlZWsgPSAxMDAwICogMzYwMCAqIDI0ICogNztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gbGFzdFVwZGF0ZSA+IGFXZWVrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsYXN0VXBkYXRlLCBjdXJyZW50VGltZSwgZm9yY2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLmluaXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdWxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBhbGwgdGhlIHRoaW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KExBU1RfVVBEQVRFLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmVycm9yX2NvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFNob3cgdG8gdXNlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5Vc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdHb3QgYW4gZXJyb3IsIHdpbGwgdHJ5IHRvIHJlY3JlYXRlIGFsbCB0YWJsZXM6JywgZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLmNsZWFuKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdWxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgYWxsIHRoZSB0aGluZ3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KExBU1RfVVBEQVRFLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RpbGwgZXJyb3IsIGhhbmRsZSBpdCEnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Rlcm1zX29mX3NlcnZpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgndG9zJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9zbXNfdGVybXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHRlcm1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Ntc190ZXJtcycsIHRlcm1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvbnRhY3RfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdjb250YWN0SW5mbycsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlVXNlcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vX3VwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEud2hlbignTm8gdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZm9yY2VkVXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVGdW5jKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2xvZ2luOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBUEkudXNlcl9sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdF91cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXQoTEFTVF9VUERBVEUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS51dGlscycsIFtdKVxuXG4uZmFjdG9yeSgnbG9jYWxTdG9yYWdlJywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4uc2VydmljZSgnc2Vzc2lvbkRhdGEnLCBbJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKGxvY2FsU3RvcmFnZSkge1xuICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzZXNzaW9uJyk7XG5cbiAgICB0aGlzLnNldFRva2VuID0gZnVuY3Rpb24odCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdzZXNzaW9uJywgdCk7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0O1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gc2V0Jyk7XG4gICAgfTtcbiAgICB0aGlzLmRlbGV0ZVRva2VuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmUoJ3Nlc3Npb24nKTtcbiAgICAgICAgdGhpcy50b2tlbiA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiB1bnNldCcpO1xuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnbmdDb3Jkb3ZhU21zJywgW10pXG4uZGlyZWN0aXZlKCduZ0NvcmRvdmFTbXMnLCBbJyRjb3Jkb3ZhU21zJywgJyRpb25pY1BvcHVwJywgZnVuY3Rpb24oJGNvcmRvdmFTbXMsICRpb25pY1BvcHVwKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRpb25pY1BvcHVwLnByb21wdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2tyaXYgaW4gZGl0dCBuYW1uJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUeXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnRklTS0EgJyArIGF0dHJzLm5nQ29yZG92YVNtcyArICcgJyArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU21zLnNlbmQoJzcyNDU2JywgbWVzc2FnZSwgJ0lOVEVOVCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2N1ZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRpcmVjdGl2ZXMnKVxuICAgIC5kaXJlY3RpdmUoJ2lmaXNrZUlucHV0JywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgdHJhbnNjbHVkZTogdHJ1ZSxcblxuXHQgICAgc2NvcGU6IHtcblx0XHRuYW1lOiAnQCcsXG5cdFx0aWQ6ICdAJyxcblx0XHRsYWJlbDogJ0AnLFxuXHRcdHBsYWNlaG9sZGVyOiAnQCcsXG5cdFx0dHlwZTogJ0AnLFxuXHRcdG5nUGF0dGVybjogJ0AnLFxuXHRcdG5nTW9kZWw6ICc9PydcblxuXHQgICAgfSxcblx0ICAgIHRlbXBsYXRlVXJsOiAnZGlyZWN0aXZlcy9pbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUpIHtcblx0XHQkc2NvcGUuaWQgPSAkc2NvcGUuaWQgfHwgJHNjb3BlLm5hbWU7XG5cdFx0JHNjb3BlLnR5cGUgPSAkc2NvcGUudHlwZSB8fCAndGV4dCc7XG5cdCAgICB9XG5cdH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ3N5c3RlbUJyb3dzZXInLCBbXSlcbi5kaXJlY3RpdmUoJ3N5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGVsWzBdLmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4uZGlyZWN0aXZlKCdnbG9iYWxTeXN0ZW1Ccm93c2VyJywgWyckY29yZG92YUluQXBwQnJvd3NlcicsIGZ1bmN0aW9uKCRjb3Jkb3ZhSW5BcHBCcm93c2VyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmhyZWYgJiYgZS50YXJnZXQuaG9zdCAhPT0gd2luZG93LmxvY2F0aW9uLmhvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3BlbihlLnRhcmdldC5ocmVmLCAnX3N5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9