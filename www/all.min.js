angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive","tabSlideBox"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&window.StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!1,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/app/login";window.localStorage.getItem("session")&&(r="/app/home"),t.otherwise(r),e.state("app",{url:"/app",templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("app.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("app.recover",{url:"/recover",templateUrl:"components/recover/recover.html",controller:"RecoverCtrl"}).state("app.recover.lostpassword",{url:"/lostpassword",templateUrl:"components/recover/lostpassword.html"}).state("app.recover.resetpassword",{url:"/resetpassword",templateUrl:"components/recover/resetpassword.html"}).state("app.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("app.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("app.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("app.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("app.info",{url:"/info",templateUrl:"components/info/info.html"}).state("app.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("app.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("app.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("app.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("app.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("app.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("app.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("app.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("app.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("app.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("app.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("app.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("app.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("app.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("app.area",{url:"/area/:id",views:{"@app":{templateUrl:"components/area/area.html",controller:"AreaCtrl"},"info@app.area":{templateUrl:"components/area/info.html",controller:"AreaInfoCtrl"},"map@app.area":{templateUrl:"components/area/map.html",controller:"AreaMapCtrl"},"fishinfo@app.area":{templateUrl:"components/area/fish.html",controller:"AreaFishCtrl"},"cards@app.area":{templateUrl:"components/area/cards.html",controller:"AreaCardsCtrl"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Okänt",e.update=o,n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log("iFiske version:",t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCardsCtrl",["$scope","$ionicModal","localStorage",function(e,t,n){e.$on("$ionicView.beforeEnter",function(){e.smsterms=n.get("sms_terms"),e.predicate="so",t.fromTemplateUrl("components/area/sms_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,t.fromTemplateUrl("components/area/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){e.image_endpoint="http://www.ifiske.se/",n.getArea(t.id).then(function(t){e.area=t,e.$broadcast("ifiske-area"),e.images=t.images,o.$getByHandle("tabs").update(),n.getOrganization(t.orgid).then(function(t){e.org=t})},function(e){console.log(e)}),n.getAreaFishes(t.id).then(function(t){e.fishes=t,o.$getByHandle("tabs").update()},function(e){console.log(e)}),n.getProductsByArea(t.id).then(function(t){e.products=t,o.$getByHandle("tabs").update()},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("AreaFishCtrl",["$scope",function(e){e.sortorder="-amount",e.$on("$ionicView.beforeEnter",function(){})}]),angular.module("ifiske.controllers").controller("AreaInfoCtrl",["$scope","$ionicSlideBoxDelegate",function(e,t){e.gotoProducts=function(){t.$getByHandle("tabs").slide(1)},e.$on("$ionicView.beforeEnter",function(){})}]),angular.module("ifiske.controllers").controller("AreaMapCtrl",["$scope","DB","leafletEvents","$ionicPlatform","$cordovaGeolocation","$cordovaDeviceOrientation","$timeout",function(e,t,n,o,r,i,a){function s(t){e.map.markers.mypos2?(angular.extend(e.map.markers.mypos2,t),e.map.markers.mypos=e.map.markers.mypos2,delete e.map.markers.mypos2):(angular.extend(e.map.markers.mypos,t),e.map.markers.mypos2=e.map.markers.mypos,delete e.map.markers.mypos)}var l={},u="http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",c="pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg";angular.extend(e,{map:{center:{},paths:{},markers:{mypos:{lat:0,lng:0,iconAngle:0,message:"This is you!"}},layers:{baselayers:{outdoors:{name:"Utomhus",type:"xyz",url:u,layerOptions:{maptype:"mapbox.outdoors",apikey:c}},satellite:{name:"Satellit",type:"xyz",url:u,layerOptions:{maptype:"mapbox.satellite",apikey:c}}},overlays:{pois:{name:"Ställen",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}}}),e.$on("$ionicView.beforeEnter",function(){e.$on("ifiske-area",function(){e.map.center={lat:e.area.lat,lng:e.area.lng,zoom:Number(e.area.zoom)?Number(e.area.zoom):9},t.getPoiTypes().then(function(n){for(var o=0;o<n.length;++o){var r=n[o];l[r.ID]={iconUrl:e.image_endpoint+r.icon,iconAnchor:[16,37],popupAnchor:[0,-35]}}t.getPois(e.area.orgid).then(function(t){for(var n=0;n<t.length;++n){var o=t[n];e.map.markers["poi"+n]={layer:"pois",lat:o.la,lng:o.lo,icon:l[o.type],message:o.t}}e.map.markers.area={layer:"pois",lat:e.area.lat,lng:e.area.lng,message:e.area.t}},function(e){console.error(e)}),t.getPolygons(e.area.orgid).then(function(t){e.map.paths=t.map(function(e){return{latlngs:JSON.parse("["+e.poly+"]"),color:e.c,weight:2,opacity:.5,fillColor:e.c,type:"polygon"}})},function(e){console.error(e)})})}),o.ready(function(){r.watchPosition({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({lat:e.coords.latitude,lng:e.coords.longitude})})}),i.watchHeading({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({iconAngle:e.trueHeading})})})}),e.navigate=function(){console.log(e),window.launchnavigator.navigate([e.navto.lat,e.navto.lng],null,function(){console.log("Opening navigator")},function(e){alert("Navigation failed!",e)})};var n=["popupopen","popupclose"];e.events={enabled:n},e.$on("leafletDirectiveMarker.popupopen",function(t,n){e.navto=n.model}),e.$on("leafletDirectiveMarker.popupclose",function(){e.navto=null})})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){var r=t.search;e.search=r,e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){e.search=""},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("app.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading","$ionicHistory","$ionicViewSwitcher",function(e,t,n,o,r,i){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),i.nextDirection("forward"),t.go("app.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})},e.skip=function(){i.nextDirection("forward"),r.nextViewOptions({disableBack:!0,historyRoot:!0}),t.go("app.home")}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","$ionicPlatform","DB","$cordovaGeolocation","$cordovaDeviceOrientation","$timeout",function(e,t,n,o,r,i,a){function s(t){e.markers.mypos2?(angular.extend(e.markers.mypos2,t),e.markers.mypos=e.markers.mypos2,delete e.markers.mypos2):(angular.extend(e.markers.mypos,t),e.markers.mypos2=e.markers.mypos,delete e.markers.mypos)}angular.extend(e,{center:{lat:62,lng:15,zoom:5},layers:{baselayers:{outdoors:{name:"Utomhuskarta",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}},satellite:{name:"Satellit",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.satellite",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{fishareas:{name:"Fiskeområden",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}},markers:{mypos:{lat:0,lng:0,iconAngle:0,message:"hi!"}}}),n.ready(function(){r.watchPosition({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({lat:e.coords.latitude,lng:e.coords.longitude})})}),i.watchHeading({frequency:3e3}).then(null,function(e){console.error(e)},function(e){a(function(){s({iconAngle:e.trueHeading})})})}),e.$on("$ionicView.beforeEnter",function(){console.log("hi!"),o.search("").then(function(t){for(var n=0;n<t.length;++n){var o=t[n];e.markers["area"+n]={layer:"fishareas",lat:o.lat,lng:o.lng,getMessageScope:function(){var t=e.$new();return t.area=o,t},message:'<a ui-sref="app.area({id: area.ID })">{{area.t}}</a>'}}})})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicViewSwitcher","$ionicPopover","sessionData","Update",function(e,t,n,o,r,i){e.sessionData=r,o.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("app.userinfo")},e.logout=function(){e.popover.hide(),i.user_logout(),t.go("app.login")},e.login=function(){e.popover.hide(),n.nextDirection("back"),t.go("app.login")},e.register=function(){e.popover.hide(),t.go("app.register.details")},e.forcedUpdate=function(){i.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RecoverCtrl",["$scope","$state","$ionicHistory","$ionicPlatform","$ionicLoading","$cordovaToast","API",function(e,t,n,o,r,i,a){"use strict";var s="";e.skip=function(){e.info="",t.go("^.resetpassword")},e.lostPassword=function(n){r.show(),s=n.user.$viewValue,a.user_lost_password(s).then(function(n){e.info="En återställningskod kommer skickas till dig inom kort, via ",n.mailed&&(e.info+="e-mail",n.texted&&(e.info+=" och ")),n.texted&&(e.info+="sms"),e.info+=".",t.go("^.resetpassword")},function(){n.user.$setValidity("invalidUser",!1)})["finally"](r.hide)},e.resetPassword=function(e){r.show(),a.user_reset_password(s,e.password.$viewValue,e.code.$viewValue).then(function(e){console.log(e),o.ready(function(){i.showLongBottom("Ditt lösenord har ändrats")}),n.goToHistoryRoot(n.currentView().historyId)},function(e){console.log(e)})["finally"](r.hide)}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,r,i,a){var s;e.checkUsername=function(e){i.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t)})},e.checkEmail=function(e){i.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,s=o.username.$viewValue;var a=o.password.$viewValue,l=o.fullname.$viewValue,u=o.email.$viewValue;i.user_register(s,l,a,u,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,r.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;i.user_confirm(s,o.$viewValue).then(function(){o.$setValidity("verified",!0),t.go("app.login")},function(){o.$setValidity("verified",!1)})["finally"](n.hide())},e.tos=a.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","Update","$ionicModal",function(e,t,n,o,r){e.pred="-to",e.endpoint="https://www.ifiske.se";var i=function(){e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)})};e.$on("$ionicView.beforeEnter",i),r.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()}),e.update=function(){o.update()["finally"](function(){e.$broadcast("scroll.refreshComplete"),i()})}}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,a=function(n,o){return r(function(r,a){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:o!==!1}).success(function(e){"error"===e.status?a(e.message):e.data?r(e.data.response):a(e)}).error(function(e,t){a(0===t?new Error("Request timeout"):e)})})},s=function(t,o){var r=n.token;return a(e.extend(t,{s:r}),o)};return{get_municipalities:function(){return a({m:"get_municipalities"})},get_counties:function(){return a({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return e&&"string"==typeof e&&(n.username=e),t&&"string"==typeof t&&(n.email=t),a(n,!1)},user_register:function(e,t,n,o,r){return a({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r},!1)},user_confirm:function(e,t){return a({m:"user_confirm",username:e,pin:t},!1)},user_info:function(){return s({m:"user_info"})},user_lost_password:function(e){return a({m:"user_lost_password",user_identification:e},!1)},user_reset_password:function(e,t,n){return a({m:"user_reset_password",user_identification:e,password:t,code:n},!1)},user_change_password:function(e,t){return s({m:"user_change_password",old_password:e,new_password:t},!1)},user_login:function(e,t){return a({m:"user_login",username:e,password:t},!1).then(function(e){return n.setToken(e),e})},user_logout:function(){s({m:"user_logout"},!1).then(function(){n.deleteToken()})},user_products:function(){return s({m:"user_products"},!1)},get_fishes:function(){return a({m:"get_fishes"})},get_techniques:function(){return a({m:"get_techniques"})},get_baits:function(){return a({m:"get_baits"})},get_organizations:function(e){return a({m:"get_organizations",orgid:e})},get_org_modified:function(e){return a({m:"get_org_modified",orgid:e})},get_areas:function(e){return a({m:"get_areas",areaid:e})},get_areas_modified:function(e){return a({m:"get_areas_modified",areaid:e})},get_products:function(e){return a({m:"get_products",areaid:e})},get_rules:function(e){return a({m:"get_rules",ruleid:e})},get_photos:function(e,t){return a({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return a({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return a({m:"get_map_poi_types"})},get_map_polygons:function(e){return a({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return s({m:"user_get_favorites"},!1)},get_terms_of_service:function(){return a({m:"get_terms_of_service"})},get_contact_info:function(){return a({m:"get_contact_info"})},get_engine_policies:function(){return a({m:"get_engine_policies"})},get_sms_terms:function(){return a({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]],Poi:[["ID","int"],["orgid","int"],["type","int"],["price","int"],["t","text"],["d","text"],["la","real"],["lo","real"]],Poi_Type:[["ID","int"],["t","text"],["icon","text"]],Polygon:[["ID","int"],["orgid","int"],["t","text"],["c","text"],["ver","int"],["mod","int"],["poly","text"]]},a=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],a=[],s=0;s<i[e].length;++s)a.push(r[i[e][s][0]]);var l=["INSERT INTO",e,"VALUES(?",",?".repeat(a.length-1),")"].join(" ");n.executeSql(l,a)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){for(var n=i[t],o=[],r=0;r<n.length;++r)o.push('"'+n[r][0]+'" '+n[r][1]);o=o.join(", ");var a=["CREATE TABLE IF NOT EXISTS",t,"(",o,", PRIMARY KEY(",'"'+n[0][0]+'"',"));"].join(" ");e.executeSql(a)}},t,e)})},getArea:function(t){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=a(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e,o(t)},function(e){console.warn(e),o(t)})},i)})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(a(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(a(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(a(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(a(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(a(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(a(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(a(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(a(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(a(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(a(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(a(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(a(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(a(e))},n)})},getPois:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Poi","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(a(e))},o)})},getPoiTypes:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM Poi_Type"].join(" ")).then(function(e){t(a(e))},n)})},getPolygons:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Polygon","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(a(e))},o)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("onebr",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}).filter("nobrs",function(){return function(e){return e.replace(/(<br(\s*\/)*>)+/g,"")}}).filter("cleantables",function(){return function(e){return e=e.replace(/(<\/?table>)+/g,""),e=e.replace(/(<\/?tr>)+/g,""),e=e.replace(/(<\/?th>)+/g,""),e=e.replace(/(<(\/?)td.*?>)+?/g,"<$2p>"),e=e.replace(/<p>\s*<\/p>/g,"")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var a="last_update",s=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e){var i=e[r].fish;for(var a in i)n.push({ID:r+"_"+a,fid:a,aid:r,amount:i[a][0],comment:i[a][1]})}return o.all([t.populateTable("Area",e),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})}),e.get_map_pois().then(function(e){return t.populateTable("Poi",e).then(function(){console.log("Populated Poi")},function(e){return console.log(e),o.reject(e)})}),e.get_map_poi_types().then(function(e){return t.populateTable("Poi_Type",e).then(function(){console.log("Populated Poi_Type")},function(e){return console.log(e),o.reject(e)})}),e.get_map_polygons().then(function(e){return t.populateTable("Polygon",e).then(function(){console.log("Populated Polygon")},function(e){return console.log(e),o.reject(e)})})])},l=function(){return o.all([e.user_products().then(function(e){return console.log(e),t.populateTable("User_Product",e).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},u=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){r.show();var p=Date.now(),f=0;c||(f=n.get(a));var m=6048e5;return p-f>m?(console.log(f,p,c),o.all([t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([l(),s()]):s()}).then(function(){console.log("Populated all the things"),n.set(a,p),r.hide()},function(o){return 7!==o.error_code?(console.warn("Got an error, will try to recreate all tables:",o),t.clean().then(function(){return t.init()}).then(function(){return s()}).then(function(){console.log("Populated all the things"),n.set(a,p),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(u(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e)}),e.get_contact_info().then(function(e){n.set("contactInfo",e)})])):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&l().then(function(){r.hide()},function(e){console.error(e),r.hide()}),r.hide()}):(console.log("no_update"),r.hide(),o.when("No update"))};return{update:function(){return c()},forcedUpdate:function(){return c(!0)},user_logout:function(){return u(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(a)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";
return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfY2FyZHNfY29udHJvbGxlci5qcyIsImFyZWEvYXJlYV9jb250cm9sbGVyLmpzIiwiYXJlYS9hcmVhX2Zpc2hfY29udHJvbGxlci5qcyIsImFyZWEvYXJlYV9pbmZvX2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfbWFwX2NvbnRyb2xsZXIuanMiLCJhcmVhX2xpc3QvYXJlYV9saXN0X2NvbnRyb2xsZXIuanMiLCJjb250YWN0L2NvbnRhY3RfY29udHJvbGxlci5qcyIsImNvdW50aWVzL2NvdW50aWVzX2NvbnRyb2xsZXIuanMiLCJmaXNoX2RldGFpbC9maXNoX2RldGFpbF9jb250cm9sbGVyLmpzIiwiZmlzaGVzL2Zpc2hlc19jb250cm9sbGVyLmpzIiwiaG9tZS9ob21lX2NvbnRyb2xsZXIuanMiLCJsZWdhbC9sZWdhbF9jb250cm9sbGVyLmpzIiwibG9naW4vbG9naW5fY29udHJvbGxlci5qcyIsIm1hcC9tYXBfY29udHJvbGxlci5qcyIsIm1lbnUvbWVudV9jb250cm9sbGVyLmpzIiwicmVjb3Zlci9yZWNvdmVyX2NvbnRyb2xsZXIuanMiLCJyZWdpc3Rlci9yZWdpc3Rlcl9jb250cm9sbGVyLmpzIiwidGVjaG5pcXVlX2RldGFpbC90ZWNobmlxdWVfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVzL3RlY2huaXF1ZXNfY29udHJvbGxlci5qcyIsInVzZXIvdXNlcl9jb250cm9sbGVyLmpzIiwidXNlcl9jYXJkcy91c2VyX2NhcmRzX2NvbnRyb2xsZXIuanMiLCJhcGkuanMiLCJkYi5qcyIsImZpbHRlci5qcyIsInVwZGF0ZS5qcyIsInV0aWxzLmpzIiwiaWZpc2tlX3Ntcy9pZmlza2Vfc21zLmpzIiwiaW5wdXRfZmllbGQvaWZpc2tlX2lucHV0LmpzIiwic3lzdGVtX2Jyb3dzZXIvc3lzdGVtX2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidGVtcGxhdGUiLCJydW4iLCIkaW9uaWNQbGF0Zm9ybSIsIlVwZGF0ZSIsIkltZ0NhY2hlIiwicmVhZHkiLCJ3aW5kb3ciLCJpb25pYyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0IiwiJGluaXQiLCJ1cGRhdGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiSW1nQ2FjaGVQcm92aWRlciIsInNldE9wdGlvbnMiLCJkZWJ1ZyIsInVzZVBlcnNpc3RlbnRDYWNoZSIsIm1hbnVhbEluaXQiLCJ2aWV3cyIsImZvcndhcmRDYWNoZSIsImJhY2tCdXR0b24iLCJwcmV2aW91c1RpdGxlVGV4dCIsInRleHQiLCJ0YWJzIiwicG9zaXRpb24iLCJkZWZhdWx0VXJsIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicGFyYW1zIiwiaWQiLCJjb3VudHkiLCJzZWFyY2giLCJmaXNoIiwidGVjaCIsIkBhcHAiLCJpbmZvQGFwcC5hcmVhIiwibWFwQGFwcC5hcmVhIiwiZmlzaGluZm9AYXBwLmFyZWEiLCJjYXJkc0BhcHAuYXJlYSIsIiRzY29wZSIsIiRjb3Jkb3ZhQXBwVmVyc2lvbiIsInZlcnNpb24iLCJkYkRhdGUiLCJjb3Jkb3ZhIiwiZ2V0QXBwVmVyc2lvbiIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiJGlvbmljTW9kYWwiLCIkb24iLCJzbXN0ZXJtcyIsImdldCIsInByZWRpY2F0ZSIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiYW5pbWF0aW9uIiwibW9kYWwiLCJzbXNfbW9kYWwiLCJvcGVuTW9kYWwiLCJwcm9kdWN0Iiwic2hvdyIsImNsb3NlTW9kYWwiLCJoaWRlIiwic2hvd1Rlcm1zIiwic2hvd2luZ3Rlcm1zIiwicnVsZXNfbW9kYWwiLCJvcGVuUnVsZXNNb2RhbCIsImNsb3NlUnVsZXNNb2RhbCIsInJlbW92ZSIsIiRzdGF0ZVBhcmFtcyIsIkRCIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsImltYWdlX2VuZHBvaW50IiwiZ2V0QXJlYSIsImFyZWEiLCIkYnJvYWRjYXN0IiwiaW1hZ2VzIiwiJGdldEJ5SGFuZGxlIiwiZ2V0T3JnYW5pemF0aW9uIiwib3JnaWQiLCJvcmciLCJlcnIiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsImdvdG9Qcm9kdWN0cyIsInNsaWRlIiwibGVhZmxldEV2ZW50cyIsIiRjb3Jkb3ZhR2VvbG9jYXRpb24iLCIkY29yZG92YURldmljZU9yaWVudGF0aW9uIiwiJHRpbWVvdXQiLCJ1cGRhdGVNeXBvcyIsIm9iaiIsIm1hcCIsIm1hcmtlcnMiLCJteXBvczIiLCJleHRlbmQiLCJteXBvcyIsImljb25zIiwibWFwYm94VXJsIiwiYXBpa2V5IiwiY2VudGVyIiwicGF0aHMiLCJsYXQiLCJsbmciLCJpY29uQW5nbGUiLCJtZXNzYWdlIiwibGF5ZXJzIiwiYmFzZWxheWVycyIsIm91dGRvb3JzIiwibmFtZSIsInR5cGUiLCJsYXllck9wdGlvbnMiLCJtYXB0eXBlIiwic2F0ZWxsaXRlIiwib3ZlcmxheXMiLCJwb2lzIiwidmlzaWJsZSIsInNob3dPblNlbGVjdG9yIiwiZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb20iLCJjaHVua2VkTG9hZGluZyIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJyZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kcyIsInpvb20iLCJOdW1iZXIiLCJnZXRQb2lUeXBlcyIsInBvaV90eXBlcyIsImkiLCJsZW5ndGgiLCJJRCIsImljb25VcmwiLCJpY29uIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwiZ2V0UG9pcyIsInBvaSIsImxheWVyIiwibGEiLCJsbyIsInQiLCJlcnJvciIsImdldFBvbHlnb25zIiwicG9seWdvbnMiLCJwb2x5IiwibGF0bG5ncyIsIkpTT04iLCJwYXJzZSIsImNvbG9yIiwiYyIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsQ29sb3IiLCJ3YXRjaFBvc2l0aW9uIiwiZnJlcXVlbmN5IiwicG9zIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ3YXRjaEhlYWRpbmciLCJoZWFkaW5nIiwidHJ1ZUhlYWRpbmciLCJuYXZpZ2F0ZSIsImxhdW5jaG5hdmlnYXRvciIsIm5hdnRvIiwiYWxlcnQiLCJlbmFibGVkRXZlbnRzIiwiZXZlbnRzIiwiZW5hYmxlZCIsImV2ZW50IiwiYXJncyIsIm1vZGVsIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJjb3B5IiwiZGF0YSIsImFyZWFzIiwiY2xlYXJTZWFyY2giLCJzY3JvbGxUb3AiLCIkc3RhdGUiLCJjb250YWN0SW5mbyIsImdldENvdW50aWVzIiwiY291bnRpZXMiLCJnZXRGaXNoIiwiZ2V0RmlzaGVzIiwiZGVmYXVsdF9pbWciLCJpbWciLCIkaW9uaWNIaXN0b3J5Iiwic2Vzc2lvbkRhdGEiLCJsb2dnZWRJbiIsInNldCIsImN1cnJlbnRIaXN0b3J5SWQiLCJteUZ1bmMiLCIkZXZlbnQiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJnbyIsInNyY0VsZW1lbnQiLCJ2YWx1ZSIsInRvcyIsIiRpb25pY0xvYWRpbmciLCIkaW9uaWNWaWV3U3dpdGNoZXIiLCJzaWduSW4iLCJsb2dpbkZvcm0iLCJ1c2VyX2xvZ2luIiwidXNlcm5hbWUiLCIkdmlld1ZhbHVlIiwicGFzc3dvcmQiLCIkc2V0VmFsaWRpdHkiLCJuZXh0RGlyZWN0aW9uIiwicmVzcG9uc2UiLCJza2lwIiwibmV4dFZpZXdPcHRpb25zIiwiZGlzYWJsZUJhY2siLCJoaXN0b3J5Um9vdCIsImxlYWZsZXREYXRhIiwiZmlzaGFyZWFzIiwiYSIsImdldE1lc3NhZ2VTY29wZSIsIm5ld19zY29wZSIsIiRuZXciLCIkaW9uaWNQb3BvdmVyIiwicG9wb3ZlciIsInVzZXJpbmZvIiwibG9nb3V0IiwidXNlcl9sb2dvdXQiLCJsb2dpbiIsInJlZ2lzdGVyIiwiZm9yY2VkVXBkYXRlIiwiJGNvcmRvdmFUb2FzdCIsIkFQSSIsInVzZXIiLCJpbmZvIiwibG9zdFBhc3N3b3JkIiwiZm9ybSIsInVzZXJfbG9zdF9wYXNzd29yZCIsIm1haWxlZCIsInRleHRlZCIsInJlc2V0UGFzc3dvcmQiLCJ1c2VyX3Jlc2V0X3Bhc3N3b3JkIiwiY29kZSIsInNob3dMb25nQm90dG9tIiwiZ29Ub0hpc3RvcnlSb290IiwiY3VycmVudFZpZXciLCJoaXN0b3J5SWQiLCJjaGVja1VzZXJuYW1lIiwiaW5wdXQiLCJ1c2VyX2V4aXN0cyIsImNoZWNrRW1haWwiLCJmb3JtRXJyb3JzIiwicGhvbmUiLCJmdWxsbmFtZSIsImVtYWlsIiwidXNlcl9yZWdpc3RlciIsInJlZ2lzdHJhdGlvbkVycm9yIiwiZXJyb3JfY29kZSIsInZlcmlmeSIsInZlcmNvZGUiLCJ1c2VyX2NvbmZpcm0iLCJldWxhIiwic2hvd0V1bGEiLCJjbG9zZUV1bGEiLCJpbWcxIiwiaW1nMiIsImltZzMiLCJmaWx0ZXIiLCJlbCIsInRlc3QiLCJnZXRUZWNobmlxdWUiLCJnZXRUZWNobmlxdWVzIiwidGVjaG5pcXVlcyIsImdldFVzZXJJbmZvIiwiZ2V0VXNlck51bWJlcnMiLCJudW1iZXJzIiwicHJlZCIsImVuZHBvaW50IiwiaW5pdGlsaXplIiwibm93IiwiRGF0ZSIsImdldFVzZXJQcm9kdWN0cyIsInByb3ZpZGVyIiwidGhpcyIsImJhc2VfdXJsIiwiJGdldCIsIiRodHRwIiwiJHEiLCJhcGlfY2FsbCIsImNhY2hlIiwiZnVsZmlsbCIsInJlamVjdCIsIm1ldGhvZCIsImtleSIsInRpbWVvdXQiLCJzdWNjZXNzIiwic3RhdHVzIiwiRXJyb3IiLCJzZXNzaW9uX2FwaV9jYWxsIiwic2Vzc2lvbiIsInRva2VuIiwicyIsImdldF9tdW5pY2lwYWxpdGllcyIsIm0iLCJnZXRfY291bnRpZXMiLCJwaW4iLCJ1c2VyX2luZm8iLCJ1c2VyX2lkZW50aWZpY2F0aW9uIiwidXNlcl9jaGFuZ2VfcGFzc3dvcmQiLCJvbGRfcGFzc3dvcmQiLCJuZXdfcGFzc3dvcmQiLCJzZXRUb2tlbiIsImRlbGV0ZVRva2VuIiwidXNlcl9wcm9kdWN0cyIsImdldF9maXNoZXMiLCJnZXRfdGVjaG5pcXVlcyIsImdldF9iYWl0cyIsImdldF9vcmdhbml6YXRpb25zIiwiZ2V0X29yZ19tb2RpZmllZCIsImdldF9hcmVhcyIsImFyZWFpZCIsImdldF9hcmVhc19tb2RpZmllZCIsImdldF9wcm9kdWN0cyIsImdldF9ydWxlcyIsInJ1bGVpZCIsImdldF9waG90b3MiLCJnZXRfbWFwX3BvaXMiLCJnZXRfbWFwX3BvaV90eXBlcyIsImdldF9tYXBfcG9seWdvbnMiLCJ1c2VyX2dldF9mYXZvcml0ZXMiLCJnZXRfdGVybXNfb2Zfc2VydmljZSIsImdldF9jb250YWN0X2luZm8iLCJnZXRfZW5naW5lX3BvbGljaWVzIiwiZ2V0X3Ntc190ZXJtcyIsInVuZGVmaW5lZCIsIiRjb3Jkb3ZhU1FMaXRlIiwiZGIiLCJzcWxpdGVQbHVnaW4iLCJvcGVuREIiLCJvcGVuRGF0YWJhc2UiLCJ0YWJsZURlZiIsIkFyZWEiLCJBcmVhX0Zpc2giLCJQcm9kdWN0IiwiQ291bnR5IiwiTXVuaWNpcGFsaXR5IiwiRmlzaCIsIlJ1bGUiLCJVc2VyX1Byb2R1Y3QiLCJVc2VyX0luZm8iLCJVc2VyX051bWJlciIsIlRlY2huaXF1ZSIsIk9yZ2FuaXphdGlvbiIsIlBvaSIsIlBvaV9UeXBlIiwiUG9seWdvbiIsImNyZWF0ZU9iamVjdCIsInJldHZhbCIsInJvd3MiLCJwdXNoIiwiaXRlbSIsInBvcHVsYXRlVGFibGUiLCJ0YWJsZSIsInRyYW5zYWN0aW9uIiwidHgiLCJleGVjdXRlU3FsIiwic2luZ2xlRGF0YSIsImluc2VydERhdGEiLCJxdWVyeSIsInJlcGVhdCIsImpvaW4iLCJjbGVhblRhYmxlIiwiY2xlYW4iLCJpbml0IiwidGFibGVWYWx1ZXMiLCJleGVjdXRlIiwib2JqZWN0Iiwid2FybiIsImFpZCIsInNlYXJjaHN0cmluZyIsImNvdW50eV9pZCIsImdldFByb2R1Y3QiLCJwcm9kdWN0X2lkIiwiYXJlYV9pZCIsInJlcGxhY2UiLCJMQVNUX1VQREFURSIsInBvcHVsYXRlIiwiYWxsIiwiZmlzaEFyciIsImZpc2hLZXkiLCJmaWQiLCJhbW91bnQiLCJjb21tZW50IiwicG9wdWxhdGVVc2VyIiwibnVtQXJyIiwibnVtYmVyIiwiY2xlYW5Vc2VyIiwidXBkYXRlRnVuYyIsImZvcmNlZCIsImN1cnJlbnRUaW1lIiwibGFzdFVwZGF0ZSIsImFXZWVrIiwidGVybXMiLCJ3aGVuIiwibGFzdF91cGRhdGUiLCJmYWN0b3J5IiwiJHdpbmRvdyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2VydmljZSIsImRpcmVjdGl2ZSIsIiRjb3Jkb3ZhU21zIiwiJGlvbmljUG9wdXAiLCJyZXN0cmljdCIsImxpbmsiLCJhdHRycyIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvbXB0IiwidGl0bGUiLCJpbnB1dFR5cGUiLCJuZ0NvcmRvdmFTbXMiLCJzZW5kIiwidHJhbnNjbHVkZSIsImxhYmVsIiwicGxhY2Vob2xkZXIiLCJuZ1BhdHRlcm4iLCJuZ01vZGVsIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuIiwiaHJlZiIsInRhcmdldCIsImhvc3QiLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6IkFBS0FBLFFBQUFDLE9BQUEsVUFDQSxRQUNBLHFCQUNBLG9CQUNBLGFBQ0EsWUFDQSxlQUNBLGdCQUNBLGlCQUNBLHlCQUNBLFlBQ0EsZ0JBQ0EsZUFDQSxhQUNBLFdBQ0Esb0JBQ0EsZ0JBR0FDLFNBQUEsdUJBQ0FDLFNBQUEsZ0NBR0FDLEtBQUEsaUJBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FGLEVBQUFHLE1BQUEsV0FFQUMsT0FBQUMsT0FBQUQsT0FBQUMsTUFBQUMsVUFDQUYsT0FBQUMsTUFBQUMsU0FBQUMsMEJBQUEsR0FFQUgsT0FBQUksV0FFQUosT0FBQUksVUFBQUMsZUFH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QSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsTUFBQSxRQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsT0FBQSxTQUNBLE1BQUEsU0FDQSxLQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxNQUFBLFNBQ0EsTUFBQSxTQUVBQyxPQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FFQUMsZUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLE9BQUEsUUFDQSxLQUFBLFFBQ0EsV0FBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFFBQ0EsT0FBQSxRQUNBLElBQUEsU0FDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsU0FFQUMsWUFDQSxLQUFBLFFBQ0EsV0FBQSxTQUNBLFdBQUEsU0FDQSxNQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxRQUFBLFNBQ0EsVUFBQSxTQUVBQyxjQUNBLFNBQUEsU0FFQUMsWUFDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxLQUFBLFFBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFNBQ0EsT0FBQSxTQUNBLE9BQUEsU0FDQSxPQUFBLFNBQ0EsVUFBQSxTQUVBQyxlQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxNQUFBLFNBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsS0FBQSxRQUVBQyxNQUNBLEtBQUEsUUFDQSxRQUFBLFFBQ0EsT0FBQSxRQUNBLFFBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBRUFDLFdBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxPQUFBLFNBRUFDLFVBQ0EsS0FBQSxRQUNBLFFBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsT0FBQSxVQUtBQyxFQUFBLFNBQUFuTCxHQUVBLElBQUEsR0FEQW9MLE1BQ0FsTyxFQUFBLEVBQUFBLEVBQUE4QyxFQUFB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QUFBaVQsRUFBQU8sYUFBQSxJQUFBcFQsQ0FDQXlTLEdBQUFZLEtBQUEsUUFBQXpULEVBQUEsU0FBQSxXQUNBOUQsUUFBQUMsSUFBQSxhQUNBLFNBQUFrQyxHQUNBbkMsUUFBQUMsSUFBQWtDLGNDaEJBOUYsUUFBQUMsT0FBQSxxQkFDQW9hLFVBQUEsY0FBQSxXQUNBLE9BQ0FHLFNBQUEsSUFDQVcsWUFBQSxFQUVBaFgsT0FDQTBELEtBQUEsSUFDQW5GLEdBQUEsSUFDQTBZLE1BQUEsSUFDQUMsWUFBQSxJQUNBdlQsS0FBQSxJQUNBd1QsVUFBQSxJQUNBQyxRQUFBLE1BR0FoWixZQUFBLDJDQUNBQyxXQUFBLFNBQUFZLEdBQ0FBLEVBQUFWLEdBQUFVLEVBQUFWLElBQUFVLEVBQUF5RSxLQUNBekUsRUFBQTBFLEtBQUExRSxFQUFBMEUsTUFBQSxXQ25CQTlILFFBQUFDLE9BQUEsb0JBQ0FvYSxVQUFBLGlCQUFBLHVCQUFBLFNBQUFtQixHQUNBLFlBQ0EsUUFDQWhCLFNBQUEsSUFDQUMsS0FBQSxTQUFBdFcsRUFBQW9OLEdBQ0FBLEVBQUFvSixHQUFBLFFBQUEsU0FBQUMsR0FDQVksRUFBQUMsS0FBQWxLLEVBQUEsR0FBQW1LLEtBQUEsV0FDQWQsRUFBQUMsd0JBS0FSLFVBQUEsdUJBQUEsdUJBQUEsU0FBQW1CLEdBQ0EsWUFDQSxRQUNBaEIsU0FBQSxJQUNBQyxLQUFBLFNBQUF0VyxFQUFBb04sR0FDQUEsRUFBQW9KLEdBQUEsUUFBQSxTQUFBQyxHQUNBQSxFQUFBZSxPQUFBRCxNQUFBZCxFQUFBZSxPQUFBQyxPQUFBbmIsT0FBQW9iLFNBQUFELE9BQ0FKLEVBQUFDLEtBQUFiLEVBQUFlLE9BQUFELEtBQUEsV0FDQWQsRUFBQUMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAnaWZpc2tlJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIChhbHNvIHNldCBpbiBhIDxib2R5PiBhdHRyaWJ1dGUgaW4gaW5kZXguaHRtbClcbi8vIHRoZSAybmQgcGFyYW1ldGVyIGlzIGFuIGFycmF5IG9mICdyZXF1aXJlcydcbi8vICdpZmlza2UuY29udHJvbGxlcnMnIGlzIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UnLCBbXG4gICAgJ2lvbmljJyxcbiAgICAnaWZpc2tlLmNvbnRyb2xsZXJzJyxcbiAgICAnaWZpc2tlLmRpcmVjdGl2ZXMnLFxuICAgICdpZmlza2UuYXBpJyxcbiAgICAnaWZpc2tlLmRiJyxcbiAgICAnaWZpc2tlLnV0aWxzJyxcbiAgICAnaWZpc2tlLnVwZGF0ZScsXG4gICAgJ2lmaXNrZS5maWx0ZXJzJyxcbiAgICAnaW9uaWMuaW9uLmhlYWRlclNocmluaycsXG4gICAgJ25nQ29yZG92YScsXG4gICAgJ3N5c3RlbUJyb3dzZXInLFxuICAgICduZ0NvcmRvdmFTbXMnLFxuICAgICduZ01lc3NhZ2VzJyxcbiAgICAnSW1nQ2FjaGUnLFxuICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgJ3RhYlNsaWRlQm94J1xuXSlcblxuLmNvbnN0YW50KCckaW9uaWNMb2FkaW5nQ29uZmlnJywge1xuICAgIHRlbXBsYXRlOiAnPGlvbi1zcGlubmVyPjwvaW9uLXNwaW5uZXI+J1xuICAgIC8vIGhpZGVPblN0YXRlQ2hhbmdlOiB0cnVlXG59KVxuLnJ1bihbJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsICdJbWdDYWNoZScsIGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCBVcGRhdGUsIEltZ0NhY2hlKSB7XG4gICAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkIGZvciBmb3JtIGlucHV0c1xuICAgICAgICBpZiAod2luZG93LmlvbmljICYmIHdpbmRvdy5pb25pYy5LZXlib2FyZCkge1xuICAgICAgICAgICAgd2luZG93LmlvbmljLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuICAgICAgICAgICAgLy8gb3JnLmFwYWNoZS5jb3Jkb3ZhLnN0YXR1c2JhciByZXF1aXJlZFxuICAgICAgICAgICAgd2luZG93LlN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEltZ0NhY2hlLiRpbml0KCk7XG4gICAgICAgIFVwZGF0ZS51cGRhdGUoKTtcbiAgICB9KTtcbn1dKVxuXG4uY29uZmlnKFtcbiAgICAnJHN0YXRlUHJvdmlkZXInLFxuICAgICckdXJsUm91dGVyUHJvdmlkZXInLFxuICAgICckaW9uaWNDb25maWdQcm92aWRlcicsXG4gICAgJ0ltZ0NhY2hlUHJvdmlkZXInLFxuICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyLCBJbWdDYWNoZVByb3ZpZGVyKSB7XG5cbiAgICAgICAgSW1nQ2FjaGVQcm92aWRlci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZVBlcnNpc3RlbnRDYWNoZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgSW1nQ2FjaGVQcm92aWRlci5tYW51YWxJbml0ID0gdHJ1ZTtcblxuICAgICAgICAvLyBDYWNoZSB2aWV3cyBpbiB0aGUgZm9yd2FyZCBzdGFja1xuICAgICAgICAkaW9uaWNDb25maWdQcm92aWRlci52aWV3cy5mb3J3YXJkQ2FjaGUodHJ1ZSk7XG5cbiAgICAgICAgLy8gQ2xlYXIgYmFjayBidXR0b24gZGVmYXVsdCB0ZXh0XG4gICAgICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLmJhY2tCdXR0b24ucHJldmlvdXNUaXRsZVRleHQoZmFsc2UpLnRleHQoJycpO1xuXG4gICAgICAgIC8vIFRhYnMgcG9zaXRpb25cbiAgICAgICAgJGlvbmljQ29uZmlnUHJvdmlkZXIudGFicy5wb3NpdGlvbignYm90dG9tJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlci4gTGVhcm4gbW9yZSBoZXJlOlxuICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIGRlZmF1bHRVcmwgPSAnL2FwcC9sb2dpbic7XG4gICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb24nKSkge1xuICAgICAgICAgICAgZGVmYXVsdFVybCA9ICcvYXBwL2hvbWUnO1xuICAgICAgICB9XG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoZGVmYXVsdFVybCk7XG5cbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcblxuICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcbiAgICAgICAgICAgIHVybDogJy9hcHAnLFxuICAgICAgICAgICAgLy9hYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tZW51L21lbnUuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTWVudUN0cmwnXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAubG9naW4nLCB7XG4gICAgICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xvZ2luL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBY2NvdW50IHJlY292ZXJ5XG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlY292ZXInLCB7XG4gICAgICAgICAgICB1cmw6ICcvcmVjb3ZlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVjb3Zlci9yZWNvdmVyLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1JlY292ZXJDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5yZWNvdmVyLmxvc3RwYXNzd29yZCcsIHtcbiAgICAgICAgICAgIHVybDogJy9sb3N0cGFzc3dvcmQnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlY292ZXIvbG9zdHBhc3N3b3JkLmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlY292ZXIucmVzZXRwYXNzd29yZCcsIHtcbiAgICAgICAgICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWNvdmVyL3Jlc2V0cGFzc3dvcmQuaHRtbCdcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBY2NvdW50IHJlZ2lzdHJhdGlvblxuICAgICAgICAuc3RhdGUoJ2FwcC5yZWdpc3RlcicsIHtcbiAgICAgICAgICAgIHVybDogJy9yZWdpc3RlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5yZWdpc3Rlci5kZXRhaWxzJywge1xuICAgICAgICAgICAgdXJsOiAnL2RldGFpbHMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyX2RldGFpbHMuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAucmVnaXN0ZXIudmVyaWZ5Jywge1xuICAgICAgICAgICAgdXJsOiAnL3ZlcmlmeScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfdmVyaWZ5Lmh0bWwnXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy9cbiAgICAgICAgLnN0YXRlKCdhcHAuaG9tZScsIHtcbiAgICAgICAgICAgIHVybDogJy9ob21lJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lL2hvbWUuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnSG9tZUN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLmluZm8nLCB7XG4gICAgICAgICAgICB1cmw6ICcvaW5mbycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaW5mby9pbmZvLmh0bWwnXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAuYnVncycsIHtcbiAgICAgICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tZW51L3JlcG9ydC5odG1sJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5jb250YWN0Jywge1xuICAgICAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2NvbnRhY3QvY29udGFjdC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb250YWN0Q3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAubGVnYWwnLCB7XG4gICAgICAgICAgICB1cmw6ICcvbGVnYWwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xlZ2FsL2xlZ2FsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0xlZ2FsQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuYWJvdXQnLCB7XG4gICAgICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Fib3V0L2Fib3V0Lmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Fib3V0Q3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAudXNlcmluZm8nLCB7XG4gICAgICAgICAgICB1cmw6ICcvdXNlcmluZm8nLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJDdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyL3VzZXIuaHRtbCcsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAuY291bnRpZXMnLCB7XG4gICAgICAgICAgICB1cmw6ICcvY291bnRpZXMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2NvdW50aWVzL2NvdW50aWVzLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvdW50aWVzQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuYXJlYXMnLCB7XG4gICAgICAgICAgICB1cmw6ICcvYXJlYXMnLFxuICAgICAgICAgICAgcGFyYW1zOiB7J2lkJzogZmFsc2UsICdjb3VudHknOiBmYWxzZSwgJ3NlYXJjaCc6ICcnfSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhX2xpc3QvYXJlYV9saXN0Lmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0FyZWFzQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuY2FyZHMnLCB7XG4gICAgICAgICAgICB1cmw6ICcvY2FyZHMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3VzZXJfY2FyZHMvdXNlcl9jYXJkcy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ2FyZHNDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2FwcC5mYXZvcml0ZXMnLCB7XG4gICAgICAgICAgICB1cmw6ICcvZmF2b3JpdGVzJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9mYXZvcml0ZXMvZmF2b3JpdGVzLmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLmZpc2hlcycsIHtcbiAgICAgICAgICAgIHVybDogJy9maXNoZXMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hlcy9maXNoZXMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRmlzaGVzQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuZmlzaGRldGFpbCcsIHtcbiAgICAgICAgICAgIHVybDogJy9maXNoZGV0YWlsLzppZCcsXG4gICAgICAgICAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ2Zpc2gnOiBmYWxzZX0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvZmlzaF9kZXRhaWwvZmlzaF9kZXRhaWwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRmlzaERldGFpbEN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICAgICAgICAgIHVybDogJy9tYXAnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21hcC9tYXAuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAudGVjaG5pcXVlcycsIHtcbiAgICAgICAgICAgIHVybDogJy90ZWNobmlxdWVzJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVzL3RlY2huaXF1ZXMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnVGVjaG5pcXVlc0N0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYXBwLnRlY2huaXF1ZWRldGFpbCcsIHtcbiAgICAgICAgICAgIHVybDogJy90ZWNobmlxdWVkZXRhaWwvOmlkJyxcbiAgICAgICAgICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAndGVjaCc6IGZhbHNlfSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnVGVjaG5pcXVlRGV0YWlsQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhcHAuYXJlYScsIHtcbiAgICAgICAgICAgIHVybDogJy9hcmVhLzppZCcsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdAYXBwJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9hcmVhLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQXJlYUN0cmwnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2luZm9AYXBwLmFyZWEnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2luZm8uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBcmVhSW5mb0N0cmwnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWFwQGFwcC5hcmVhJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9tYXAuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBcmVhTWFwQ3RybCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdmaXNoaW5mb0BhcHAuYXJlYSc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvZmlzaC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FyZWFGaXNoQ3RybCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdjYXJkc0BhcHAuYXJlYSc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvY2FyZHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBcmVhQ2FyZHNDdHJsJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJywgW10pO1xuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kaXJlY3RpdmVzJywgW10pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIFsnJHNjb3BlJywnJGNvcmRvdmFBcHBWZXJzaW9uJywgJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJGNvcmRvdmFBcHBWZXJzaW9uLCAkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlKSB7XG5cdCRzY29wZS52ZXJzaW9uID0gJHNjb3BlLmRiRGF0ZSA9ICdPa8OkbnQnO1xuICAgICRzY29wZS51cGRhdGUgPSBVcGRhdGU7XG5cblx0JGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAod2luZG93LmNvcmRvdmEpIHtcblx0XHQkY29yZG92YUFwcFZlcnNpb24uZ2V0QXBwVmVyc2lvbigpLnRoZW4oZnVuY3Rpb24odmVyc2lvbikge1xuXHRcdCAgICBjb25zb2xlLmxvZygnaUZpc2tlIHZlcnNpb246JywgdmVyc2lvbik7XG5cdFx0ICAgICRzY29wZS52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHR9KTtcblx0ICAgIH1cblx0fSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhQ2FyZHNDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckaW9uaWNNb2RhbCcsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkaW9uaWNNb2RhbCwgbG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuYmVmb3JlRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vQXJlYV9DYXJkc1xuICAgICAgICAgICAgJHNjb3BlLnNtc3Rlcm1zID0gbG9jYWxTdG9yYWdlLmdldCgnc21zX3Rlcm1zJyk7XG4gICAgICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gJ3NvJztcblxuICAgICAgICAgICAgLy9TTVMtbW9kYWxcbiAgICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhL3Ntc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUub3Blbk1vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUuY2xvc2VNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5zaG93VGVybXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gISRzY29wZS5zaG93aW5ndGVybXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLnNob3dpbmd0ZXJtcyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvL1J1bGVzIG1vZGFsXG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvYXJlYS9ydWxlc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS5vcGVuUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLmhpZGUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlUGFyYW1zJyxcbiAgICAnREInLFxuICAgICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY1NsaWRlQm94RGVsZWdhdGUpIHtcbiAgICAgICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlLyc7XG5cbiAgICAgICAgREIuZ2V0QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGFyZWEpIHtcbiAgICAgICAgICAgICRzY29wZS5hcmVhID0gYXJlYTtcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdpZmlza2UtYXJlYScpO1xuXG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2VzID0gYXJlYS5pbWFnZXM7XG5cbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUuJGdldEJ5SGFuZGxlKCd0YWJzJykudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIERCLmdldE9yZ2FuaXphdGlvbihhcmVhLm9yZ2lkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob3JnKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZyA9IG9yZztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIERCLmdldEFyZWFGaXNoZXMoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihmaXNoZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5maXNoZXMgPSBmaXNoZXM7XG4gICAgICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLiRnZXRCeUhhbmRsZSgndGFicycpLnVwZGF0ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIERCLmdldFByb2R1Y3RzQnlBcmVhKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0cyA9IHByb2R1Y3RzO1xuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ3RhYnMnKS51cGRhdGUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYUZpc2hDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUuc29ydG9yZGVyID0gJy1hbW91bnQnO1xuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYUluZm9DdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRpb25pY1NsaWRlQm94RGVsZWdhdGUpIHtcbiAgICAgICAgJHNjb3BlLmdvdG9Qcm9kdWN0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ3RhYnMnKS5zbGlkZSgxKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5iZWZvcmVFbnRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFNYXBDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICdEQicsXG4gICAgJ2xlYWZsZXRFdmVudHMnLFxuICAgICckaW9uaWNQbGF0Zm9ybScsXG4gICAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAgICckY29yZG92YURldmljZU9yaWVudGF0aW9uJyxcbiAgICAnJHRpbWVvdXQnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgREIsIGxlYWZsZXRFdmVudHMsICRpb25pY1BsYXRmb3JtLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkY29yZG92YURldmljZU9yaWVudGF0aW9uLCAkdGltZW91dCkge1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVNeXBvcyhvYmopIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IG5hbWVkIGVsZW1lbnQgaW4gb3JkZXIgZm9yIHRoZSB1cGRhdGUgdG8gcmVnaXN0ZXJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLm1hcC5tYXJrZXJzLm15cG9zMiwgb2JqKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MgPSAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MsIG9iaik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm15cG9zMiA9ICRzY29wZS5tYXAubWFya2Vycy5teXBvcztcbiAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm1hcC5tYXJrZXJzLm15cG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIG1pZ2h0IG5lZWQgZm9yIGlvc1xuICAgICAgICAgICBmdW5jdGlvbiBnZXRNeXBvcygpIHtcbiAgICAgICAgICAgcmV0dXJuICRzY29wZS5tYXAubWFya2Vycy5teXBvcyB8fCAkc2NvcGUubWFwLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICB9XG4gICAgICAgICAgICovXG5cbiAgICAgICAgdmFyIGljb25zID0ge307XG4gICAgICAgIHZhciBtYXBib3hVcmwgPSAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JztcbiAgICAgICAgLy9UT0RPOiBHZXQgYXBpa2V5IGZyb20gaWZpc2tlLWFwaVxuICAgICAgICB2YXIgYXBpa2V5ID0gJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJztcblxuICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgICAgIGNlbnRlcjoge30sXG4gICAgICAgICAgICAgICAgcGF0aHM6IHt9LFxuXG4gICAgICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgICAgICBteXBvczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuZ2xlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoaXMgaXMgeW91IScsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGRvb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1V0b21odXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogbWFwYm94VXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXB0eXBlOiAnbWFwYm94Lm91dGRvb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiBhcGlrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2F0ZWxsaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NhdGVsbGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG1hcGJveFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5zYXRlbGxpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6IGFwaWtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU3TDpGxsZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtYXJrZXJjbHVzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T25TZWxlY3RvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiA5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua2VkTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdpZmlza2UtYXJlYScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6ICRzY29wZS5hcmVhLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiAkc2NvcGUuYXJlYS5sbmcsXG4gICAgICAgICAgICAgICAgICAgIHpvb206IE51bWJlcigkc2NvcGUuYXJlYS56b29tKSA/IE51bWJlcigkc2NvcGUuYXJlYS56b29tKSA6IDlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgREIuZ2V0UG9pVHlwZXMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvaV90eXBlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaV90eXBlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBwb2lfdHlwZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uc1t0eXBlLklEXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgKyB0eXBlLmljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE2LCAzN10sIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLTM1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgREIuZ2V0UG9pcygkc2NvcGUuYXJlYS5vcmdpZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9pcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2lzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaSA9IHBvaXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnNbJ3BvaScgKyBpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdwb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwb2kubGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcG9pLmxvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29uc1twb2kudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBvaS50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAubWFya2Vycy5hcmVhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAncG9pcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiAkc2NvcGUuYXJlYS5sYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAkc2NvcGUuYXJlYS5sbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJHNjb3BlLmFyZWEudFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBEQi5nZXRQb2x5Z29ucygkc2NvcGUuYXJlYS5vcmdpZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9seWdvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAucGF0aHMgPSBwb2x5Z29ucy5tYXAoZnVuY3Rpb24ocG9seSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGxuZ3M6IEpTT04ucGFyc2UoJ1snICsgcG9seS5wb2x5ICsgJ10nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHBvbHkuYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogcG9seS5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWdvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwMFxuICAgICAgICAgICAgICAgIH0pLnRoZW4obnVsbCwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTXlwb3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9zLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHBvcy5jb29yZHMubG9uZ2l0dWRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkY29yZG92YURldmljZU9yaWVudGF0aW9uLndhdGNoSGVhZGluZyh7XG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwMFxuICAgICAgICAgICAgICAgIH0pLnRoZW4obnVsbCwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU15cG9zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5nbGU6IGhlYWRpbmcudHJ1ZUhlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUubmF2aWdhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUpO1xuICAgICAgICAgICAgICAgIC8vdmFyIHBvcyA9IGdldE15cG9zKCk7IC8vbWlnaHQgbmVlZCBmb3IgaW9zXG4gICAgICAgICAgICAgICAgd2luZG93LmxhdW5jaG5hdmlnYXRvci5uYXZpZ2F0ZShcbiAgICAgICAgICAgICAgICAgICAgWyRzY29wZS5uYXZ0by5sYXQsICRzY29wZS5uYXZ0by5sbmddLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPcGVuaW5nIG5hdmlnYXRvcicpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ05hdmlnYXRpb24gZmFpbGVkIScsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZW5hYmxlZEV2ZW50cyA9IFsncG9wdXBvcGVuJywgJ3BvcHVwY2xvc2UnXTtcbiAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZEV2ZW50c1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcmtlci5wb3B1cG9wZW4nLCBmdW5jdGlvbihldmVudCwgYXJncykge1xuICAgICAgICAgICAgICAgIC8vc2hvdyBuYXZ0b2J1dHRvblxuICAgICAgICAgICAgICAgICRzY29wZS5uYXZ0byA9IGFyZ3MubW9kZWw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcmtlci5wb3B1cGNsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy9oaWRlIG5hdnRvYnV0dG9uXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5hdnRvID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScgLCdEQicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSAsREIpIHtcblxuICAgIHZhciBjb3B5ID0gJHN0YXRlUGFyYW1zLnNlYXJjaDtcbiAgICAkc2NvcGUuc2VhcmNoID0gY29weTtcbiAgICAkc2NvcGUuY291bnR5ID0gJHN0YXRlUGFyYW1zLmNvdW50eTtcbiAgICBEQi5zZWFyY2goJycsICRzdGF0ZVBhcmFtcy5pZClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuYXJlYXMgPSBkYXRhO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICAgICRzY29wZS5jbGVhclNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuc2VhcmNoID0gJyc7XG4gICAgfTtcbiAgICAkc2NvcGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbFRvcCgpO1xuICAgIH07XG5cbn1dKTtcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ29udGFjdEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICAkc2NvcGUuY29udGFjdEluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdjb250YWN0SW5mbycpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ291bnRpZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0Q291bnRpZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmNvdW50aWVzID0gZGF0YTtcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0Zpc2hEZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCKSB7XG4gICAgJHNjb3BlLmZpc2ggPSAkc3RhdGVQYXJhbXMuZmlzaDtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgIGlmKCEkc2NvcGUuZmlzaCkge1xuICAgICAgICBEQi5nZXRGaXNoKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmZpc2ggPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKCRzY29wZS5maXNoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJHNjb3BlLmZpc2gpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignRmlzaGVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgREIuZ2V0RmlzaGVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRzY29wZS5maXNoZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGVmYXVsdF9pbWcgPSBkYXRhWzBdLmltZztcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNIaXN0b3J5JyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNIaXN0b3J5LCBsb2NhbFN0b3JhZ2UsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAgICAgLy8gQ3VycmVudCBoaXN0b3J5IHN0YWNrIElkLiBTZWUgYXJlYV9jb250cm9sbGVyIGZvciB1c2FnZS5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnaG9tZUhpc3RvcnlJZCcsICRpb25pY0hpc3RvcnkuY3VycmVudEhpc3RvcnlJZCgpKTtcblxuICAgICAgICAkc2NvcGUubXlGdW5jID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICBpZigkZXZlbnQua2V5Q29kZSA9PSAxMyAmJiAhJGV2ZW50LnNoaWZ0S2V5KSB7IC8vaWYgZW50ZXIta2V5XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJlYXMnLCB7c2VhcmNoOiAkZXZlbnQuc3JjRWxlbWVudC52YWx1ZX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdMZWdhbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICRzY29wZS50b3MgPSBsb2NhbFN0b3JhZ2UuZ2V0KCd0b3MnKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBbXG5cdCckc2NvcGUnLCBcblx0JyRzdGF0ZScsIFxuXHQnVXBkYXRlJywgXG5cdCckaW9uaWNMb2FkaW5nJywgXG5cdCckaW9uaWNIaXN0b3J5JywgXG5cdCckaW9uaWNWaWV3U3dpdGNoZXInLCBcblx0ZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIFVwZGF0ZSwgJGlvbmljTG9hZGluZywgJGlvbmljSGlzdG9yeSwgJGlvbmljVmlld1N3aXRjaGVyKSB7XG5cblx0ICAgIC8qKlxuXHQgICAgICogc2lnbkluXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgbG9naW4gZm9ybS4gVmFsaWRhdGVzIGxvZ2luIGlucHV0LiBcblx0ICAgICAqIE1vdmVzIHRvIGhvbWUgdmlldyBvbiBzdWNjZXNzZnVsIGxvZ2luLlxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24obG9naW5Gb3JtKSB7XG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0XHRVcGRhdGUudXNlcl9sb2dpbihsb2dpbkZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZSwgbG9naW5Gb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdFx0bG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgdHJ1ZSk7XG5cdFx0XHQkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignZm9yd2FyZCcpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuaG9tZScpO1xuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0XHRsb2dpbkZvcm0uJHNldFZhbGlkaXR5KFwibG9naW5FcnJvclwiLCBmYWxzZSk7XG5cdFx0XHQkc2NvcGUuZXJyb3IgPSBlcnJvci5yZXNwb25zZTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cdCAgICAvKiogXG5cdCAgICAgKiBza2lwXG5cdCAgICAgKiBTa2lwcyB0byB0aGUgaG9tZSB2aWV3LiBGb3JjZXMgZm9yd2FyZCB0cmFuc2l0aW9uIGFuZCBzZXRzIGhvbWUgYXMgcm9vdCB2aWV3LlxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2tpcCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRpb25pY1ZpZXdTd2l0Y2hlci5uZXh0RGlyZWN0aW9uKCdmb3J3YXJkJyk7XG5cdFx0JGlvbmljSGlzdG9yeS5uZXh0Vmlld09wdGlvbnMoXG5cdFx0ICAgIHtcblx0XHRcdGRpc2FibGVCYWNrOiB0cnVlLFxuXHRcdFx0aGlzdG9yeVJvb3Q6IHRydWVcblx0XHQgICAgfSk7XG5cdFx0JHN0YXRlLmdvKCdhcHAuaG9tZScpO1xuXHQgICAgfTtcblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWFwQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnbGVhZmxldERhdGEnLFxuICAgICckaW9uaWNQbGF0Zm9ybScsXG4gICAgJ0RCJyxcbiAgICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICAgJyRjb3Jkb3ZhRGV2aWNlT3JpZW50YXRpb24nLFxuICAgICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgJGlvbmljUGxhdGZvcm0sIERCLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkY29yZG92YURldmljZU9yaWVudGF0aW9uLCAkdGltZW91dCkge1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU15cG9zKG9iaikge1xuICAgICAgICAgICAgLyogSGFja2ZpeCB0byBtYWtlIGl0IHVwZGF0ZSA9KCAqL1xuICAgICAgICAgICAgaWYoJHNjb3BlLm1hcmtlcnMubXlwb3MyKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLm1hcmtlcnMubXlwb3MyLCBvYmopO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLm15cG9zID0gJHNjb3BlLm1hcmtlcnMubXlwb3MyO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUubWFya2Vycy5teXBvczI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZS5tYXJrZXJzLm15cG9zLCBvYmopO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLm15cG9zMiA9ICRzY29wZS5tYXJrZXJzLm15cG9zO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUubWFya2Vycy5teXBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICAgICAgbGF0OiA2Mi4wLFxuICAgICAgICAgICAgICAgIGxuZzogMTUuMCxcbiAgICAgICAgICAgICAgICB6b29tOiA1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgYmFzZWxheWVyczoge1xuICAgICAgICAgICAgICAgICAgICBvdXRkb29yczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1V0b21odXNrYXJ0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97bWFwdHlwZX0ve3p9L3t4fS97eX1AMngucG5nP2FjY2Vzc190b2tlbj17YXBpa2V5fScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXB0eXBlOiAnbWFwYm94Lm91dGRvb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2F0ZWxsaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2F0ZWxsaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3h5eicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQve21hcHR5cGV9L3t6fS97eH0ve3l9QDJ4LnBuZz9hY2Nlc3NfdG9rZW49e2FwaWtleX0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5zYXRlbGxpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaWtleTogJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdmVybGF5czoge1xuICAgICAgICAgICAgICAgICAgICBmaXNoYXJlYXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdGaXNrZW9tcsOlZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtYXJrZXJjbHVzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T25TZWxlY3RvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIG15cG9zOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogMCxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBpY29uQW5nbGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdoaSEnLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oe1xuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwMFxuICAgICAgICAgICAgfSkudGhlbihudWxsLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTXlwb3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwb3MuY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBwb3MuY29vcmRzLmxvbmdpdHVkZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkY29yZG92YURldmljZU9yaWVudGF0aW9uLndhdGNoSGVhZGluZyh7XG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiAzMDAwXG4gICAgICAgICAgICB9KS50aGVuKG51bGwsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihoZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTXlwb3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuZ2xlOiBoZWFkaW5nLnRydWVIZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuYmVmb3JlRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdoaSEnKTtcbiAgICAgICAgICAgIERCLnNlYXJjaCgnJykudGhlbihmdW5jdGlvbihhcmVhcykge1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhcmVhcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGFyZWFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vyc1snYXJlYScgKyBpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnZmlzaGFyZWFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGEubG5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWVzc2FnZVNjb3BlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3X3Njb3BlID0gJHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdfc2NvcGUuYXJlYSA9IGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld19zY29wZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGEgdWktc3JlZj1cImFwcC5hcmVhKHtpZDogYXJlYS5JRCB9KVwiPnt7YXJlYS50fX08L2E+J1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01lbnVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNWaWV3U3dpdGNoZXInLFxuICAgICckaW9uaWNQb3BvdmVyJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgICdVcGRhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNWaWV3U3dpdGNoZXIsICRpb25pY1BvcG92ZXIsIHNlc3Npb25EYXRhLCBVcGRhdGUpIHtcblxuICAgICAgICAkc2NvcGUuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uRGF0YTtcblxuICAgICAgICAkaW9uaWNQb3BvdmVyLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9tZW51L3BvcG92ZXIuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGVcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihwb3BvdmVyKSB7XG4gICAgICAgICAgICAkc2NvcGUucG9wb3ZlciA9IHBvcG92ZXI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS51c2VyaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAudXNlcmluZm8nKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuICAgICAgICAgICAgVXBkYXRlLnVzZXJfbG9nb3V0KCk7XG5cbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmxvZ2luJyk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuICAgICAgICAgICAgJGlvbmljVmlld1N3aXRjaGVyLm5leHREaXJlY3Rpb24oJ2JhY2snKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmxvZ2luJyk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXIuZGV0YWlscycpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5mb3JjZWRVcGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFVwZGF0ZS5mb3JjZWRVcGRhdGUoKTtcbiAgICAgICAgfTtcblxuICAgIH1cbl0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignUmVjb3ZlckN0cmwnLCBbXG5cdCckc2NvcGUnLFxuXHQnJHN0YXRlJyxcblx0JyRpb25pY0hpc3RvcnknLFxuXHQnJGlvbmljUGxhdGZvcm0nLFxuXHQnJGlvbmljTG9hZGluZycsXG5cdCckY29yZG92YVRvYXN0Jyxcblx0J0FQSScsXG5cdGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNIaXN0b3J5LCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljTG9hZGluZywgJGNvcmRvdmFUb2FzdCwgQVBJKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIFxuXHQgICAgdmFyIHVzZXIgPSBcIlwiO1xuXHQgICAgXG5cdCAgICAvKipcblx0ICAgICAqIHNraXBcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciBza2lwIGJ1dHRvblxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2tpcCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5pbmZvID0gXCJcIjtcblx0XHQkc3RhdGUuZ28oJ14ucmVzZXRwYXNzd29yZCcpO1xuXHQgICAgfTtcblx0ICAgIFxuXG5cdCAgICAvKipcblx0ICAgICAqIGxvc3RQYXNzd29yZFxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIGZpcnN0IGZvcm1cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLmxvc3RQYXNzd29yZCA9IGZ1bmN0aW9uKGZvcm0pIHtcblxuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXHRcdFxuXHRcdHVzZXIgPSBmb3JtLnVzZXIuJHZpZXdWYWx1ZTtcblx0XHRBUEkudXNlcl9sb3N0X3Bhc3N3b3JkKHVzZXIpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFxuXHRcdFx0Ly8gU2V0IGluZm8gbWVzc2FnZSBmb3IgbmV4dCB2aWV3XG5cdFx0XHQkc2NvcGUuaW5mbyA9ICdFbiDDpXRlcnN0w6RsbG5pbmdza29kIGtvbW1lciBza2lja2FzIHRpbGwgZGlnIGlub20ga29ydCwgdmlhICc7XHRcdFx0XG5cdFx0XHRpZiAoZGF0YS5tYWlsZWQpIHtcblx0XHRcdCAgICAkc2NvcGUuaW5mbyArPSAnZS1tYWlsJztcblx0XHRcdCAgICBpZiAoZGF0YS50ZXh0ZWQpIHtcblx0XHRcdFx0JHNjb3BlLmluZm8gKz0gJyBvY2ggJztcblx0XHRcdCAgICB9XG5cdFx0XHR9XG5cdFx0XHRpZiAoZGF0YS50ZXh0ZWQpIHtcblx0XHRcdCAgICAkc2NvcGUuaW5mbyArPSAnc21zJztcblx0XHRcdH1cblx0XHRcdCRzY29wZS5pbmZvICs9ICcuJztcblx0XHRcblx0XHRcdCRzdGF0ZS5nbygnXi5yZXNldHBhc3N3b3JkJyk7XG5cblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdC8vVG9EbzogaGFuZGxlIHRpbWVvdXQ/XG5cdFx0XHQvL1RvRG86IGNoZWNrIGVycm9yIGNvZGVzXG5cdFx0XHRmb3JtLnVzZXIuJHNldFZhbGlkaXR5KCdpbnZhbGlkVXNlcicsIGZhbHNlKTtcblx0XHQgICAgfSlcblx0XHQgICAgLmZpbmFsbHkoJGlvbmljTG9hZGluZy5oaWRlKTtcblx0ICAgIH07XG5cblxuXHQgICAgLyoqXG5cdCAgICAgKiByZXNldFBhc3N3b3JkXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3Igc2Vjb25kIGZvcm1cblx0ICAgICAqXG5cdCAgICAgKiBUb0RvOiBsb2cgaW4gaW1tZWRpYXRlbHk/XG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24oZm9ybSkge1xuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG5cdFx0QVBJLnVzZXJfcmVzZXRfcGFzc3dvcmQodXNlciwgZm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlLCBmb3JtLmNvZGUuJHZpZXdWYWx1ZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHQvLyBTdWNjZXNzIHRvYXN0XG5cdFx0XHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHRcdCAgICAkY29yZG92YVRvYXN0LnNob3dMb25nQm90dG9tKCdEaXR0IGzDtnNlbm9yZCBoYXIgw6RuZHJhdHMnKTtcblx0XHRcdH0pO1xuXHRcdFx0Ly8gTmF2aWdhdGUgdG8gY3VycmVudCBoaXN0b3J5IHJvb3Rcblx0XHRcdCRpb25pY0hpc3RvcnkuZ29Ub0hpc3RvcnlSb290KCRpb25pY0hpc3RvcnkuY3VycmVudFZpZXcoKS5oaXN0b3J5SWQpO1x0XG5cdFx0ICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0XHQvL1RvRG86IGNoZWNrIGVycm9yIGNvZGVcblx0XHRcdC8vIDU6IG5vIHN1Y2ggdXNlclxuXHRcdFx0Ly8gMTM6IHBhc3N3b3JkIGxlbmd0aFxuXHRcdFx0Ly8gMTY6IGludmFsaWQvZXhwaXJlZCByZXNldCBjb2RlXG5cdFx0ICAgIH0pXG5cdFx0ICAgIC5maW5hbGx5KCRpb25pY0xvYWRpbmcuaGlkZSk7XG5cdCAgICB9O1xuXHR9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRpb25pY0xvYWRpbmcnLFxuICAgICckaW9uaWNNb2RhbCcsXG4gICAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgICAnQVBJJyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljTG9hZGluZywgJGlvbmljTW9kYWwsICRpb25pY1Njcm9sbERlbGVnYXRlLCBBUEksIGxvY2FsU3RvcmFnZSkge1xuXG4gICAgICAgIHZhciB1c2VybmFtZTtcblxuICAgICAgICAvLyBMaXZlIGNoZWNrIGZvciB1c2VybmFtZSBhdmFpbGFiaWxpdHlcbiAgICAgICAgJHNjb3BlLmNoZWNrVXNlcm5hbWUgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICAgICAgQVBJLnVzZXJfZXhpc3RzKGlucHV0LiR2aWV3VmFsdWUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuJHNldFZhbGlkaXR5KCduYW1lVGFrZW4nLCAhZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMaXZlIGNoZWNrIGZvciBlbWFpbCBhdmFpbGFiaWxpdHlcbiAgICAgICAgJHNjb3BlLmNoZWNrRW1haWwgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICAgICAgQVBJLnVzZXJfZXhpc3RzKG51bGwsIGlucHV0LiR2aWV3VmFsdWUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuJHNldFZhbGlkaXR5KCdlbWFpbFRha2VuJywgIWRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyBWYWxpZGF0aW9uIGVycm9ycyBub3QgdGllZCB0byBpbnB1dCBmaWVsZFxuICAgICAgICAkc2NvcGUuZm9ybUVycm9ycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZWdpc3RlclxuICAgICAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgdGhlIHJlZ2lzdHJhdGlvbiBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICAgICAkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuICAgICAgICAgICAgLy8gU2F2ZSBwaG9uZSBudW1iZXIgZm9yIG5leHQgdmlld1xuICAgICAgICAgICAgJHNjb3BlLnBob25lID0gZm9ybS5waG9uZS4kdmlld1ZhbHVlO1xuXG4gICAgICAgICAgICAvLyBTYXZlIHVzZXJuYW1lIGZvciB2ZXJpZnkgc3VibWl0IGhhbmRsZXJcbiAgICAgICAgICAgIHVzZXJuYW1lID0gZm9ybS51c2VybmFtZS4kdmlld1ZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgcGFzc3dvcmQgPSBmb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWU7XG4gICAgICAgICAgICB2YXIgZnVsbG5hbWUgPSBmb3JtLmZ1bGxuYW1lLiR2aWV3VmFsdWU7XG4gICAgICAgICAgICB2YXIgZW1haWwgPSBmb3JtLmVtYWlsLiR2aWV3VmFsdWU7XG5cbiAgICAgICAgICAgIEFQSS51c2VyX3JlZ2lzdGVyKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCAkc2NvcGUucGhvbmUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gU3VjY2VzczogR28gdG8gdmVyaWZ5IGFjY291bnQgdmlld1xuICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnXi52ZXJpZnknKTtcblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFcnJvcjogSW5mb3JtIHRoZSB1c2VyIGFib3V0IGZhaWxlZCByZWdpc3RyYXRpb25cbiAgICAgICAgICAgICAgICAgKiBTZWUgQVBJIGRvY3VtZW50YXRpb24gZm9yIGVycm9yIGNvZGVzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBUb0RvOiBIYW5kbGUgdGltZW91dFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtRXJyb3JzLnJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUb3AodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBJbnZhbGlkIEVtYWlsXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yX2NvZGUgPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmVtYWlsLiRzZXRWYWxpZGl0eSgnaW52YWxpZEVtYWlsJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVc2VybmFtZSBvciBFbWFpbCBhbHJlYWR5IHJlZ2lzdGVyZWRcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja1VzZXJuYW1lKGZvcm0udXNlcm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tFbWFpbChmb3JtLmVtYWlsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW52YWxpZCBwaG9uZSBudW1iZXJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtLnBob25lLiRzZXRWYWxpZGl0eSgnaW52YWxpZFBob25lJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogdmVyaWZ5XG4gICAgICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciB0aGUgdmVyaWZpY2F0aW9uIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgICRzY29wZS52ZXJpZnkgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICAgICAkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuICAgICAgICAgICAgdmFyIHZlcmNvZGUgPSBmb3JtLnZlcmNvZGU7XG5cbiAgICAgICAgICAgIEFQSS51c2VyX2NvbmZpcm0odXNlcm5hbWUsIHZlcmNvZGUuJHZpZXdWYWx1ZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmxvZ2luJyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZlcmNvZGUuJHNldFZhbGlkaXR5KFwidmVyaWZpZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KCRpb25pY0xvYWRpbmcuaGlkZSgpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9zID0gbG9jYWxTdG9yYWdlLmdldCgndG9zJyk7XG4gICAgICAgIC8vTW9kYWwgd2l0aCB0aGUgRVVMQVxuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvcmVnaXN0ZXIvZXVsYS5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXVsYSA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnNob3dFdWxhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXVsYS5zaG93KCk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZUV1bGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ldWxhLmhpZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ldWxhLnJlbW92ZSgpO1xuICAgICAgICB9KTtcblxuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1RlY2huaXF1ZURldGFpbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnREInLCAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSkge1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgJHNjb3BlLnRlY2ggPSAkc3RhdGVQYXJhbXMudGVjaDtcbiAgICAkc2NvcGUuaW1hZ2VzID0gW107XG5cbiAgICBpZighJHNjb3BlLnRlY2gpIHtcbiAgICAgICAgREIuZ2V0VGVjaG5pcXVlKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmltYWdlcyA9IFtkYXRhLmltZzEsIGRhdGEuaW1nMiwgZGF0YS5pbWczXS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIS9cXC8kLy50ZXN0KGVsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgJHNjb3BlLnRlY2ggPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS50ZWNoO1xuICAgICAgICAkc2NvcGUuaW1hZ2VzID0gW2RhdGEuaW1nMSwgZGF0YS5pbWcyLCBkYXRhLmltZzNdLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgcmV0dXJuICEvXFwvJC8udGVzdChlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgfVxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVGVjaG5pcXVlc0N0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICBEQi5nZXRUZWNobmlxdWVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAkc2NvcGUudGVjaG5pcXVlcyA9IGRhdGE7XG4gICAgfSk7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICAkc2NvcGUuc29ydG9yZGVyID0gJ3NvJztcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVXNlckN0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICBEQi5nZXRVc2VySW5mbygpXG4gICAgLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICAkc2NvcGUudXNlciA9IHVzZXI7XG4gICAgfSk7XG4gICAgREIuZ2V0VXNlck51bWJlcnMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKG51bWJlcnMpIHtcbiAgICAgICAgJHNjb3BlLm51bWJlcnMgPSBudW1iZXJzO1xuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVXNlckNhcmRzQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlUGFyYW1zJyxcbiAgICAnREInLFxuICAgICdVcGRhdGUnLFxuICAgICckaW9uaWNNb2RhbCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCLCBVcGRhdGUsICRpb25pY01vZGFsKSB7XG4gICAgICAgICRzY29wZS5wcmVkID0gJy10byc7XG4gICAgICAgICRzY29wZS5lbmRwb2ludCA9ICdodHRwczovL3d3dy5pZmlza2Uuc2UnO1xuXG4gICAgICAgIHZhciBpbml0aWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgREIuZ2V0VXNlclByb2R1Y3RzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZHVjdHMgPSBkYXRhO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuYmVmb3JlRW50ZXInLCBpbml0aWxpemUpO1xuICAgICAgICAvL3VzZSB0aGUgc2FtZSBtb2RhbCBhcyBpbiBhcmVhX2NhcmRzXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBVcGRhdGUudXBkYXRlKClcbiAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgaW5pdGlsaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5dKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmFwaScsIFsnaWZpc2tlLnV0aWxzJ10pXG5cdC5wcm92aWRlcignQVBJJywgZnVuY3Rpb24gQVBJUHJvdmlkZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZV91cmwgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlL2FwaS92Mi9hcGkucGhwJztcblxuICAgICAgICAgICAgdGhpcy4kZ2V0ID0gW1xuXHRcdCckaHR0cCcsXG5cdFx0J3Nlc3Npb25EYXRhJyxcblx0XHQnbG9jYWxTdG9yYWdlJyxcblx0XHQnJHEnLFxuXHRcdGZ1bmN0aW9uKCRodHRwLCBzZXNzaW9uRGF0YSwgbG9jYWxTdG9yYWdlLCAkcSkge1xuXHRcdCAgICB2YXIgYmFzZV91cmwgPSB0aGlzLmJhc2VfdXJsO1xuXG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiAjIGFwaV9jYWxsICNcblx0XHQgICAgICogaGFuZGxlcyBodHRwIHJlcXVlc3RzXG5cdFx0ICAgICAqIHJldHVybnMgYSAkaHR0cCBvYmplY3QgZm9yIHRoZSByZXF1ZXN0ZWQgYXBpIGNhbGxcblx0XHQgICAgICovXG5cdFx0ICAgIHZhciBhcGlfY2FsbCA9IGZ1bmN0aW9uKHBhcmFtcywgY2FjaGUpIHtcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcblx0XHRcdCAgICAkaHR0cChcblx0XHRcdFx0e1xuXHRcdFx0XHQgICAgbWV0aG9kOidnZXQnLFxuXHRcdFx0XHQgICAgdXJsOiBiYXNlX3VybCxcblx0XHRcdFx0ICAgIHBhcmFtczogYW5ndWxhci5leHRlbmQocGFyYW1zLCB7J2tleSc6ICcwMTIzNDU2Nzg5YWJjZGVmJ30pLFxuXHRcdFx0XHQgICAgdGltZW91dDogNTAwMCxcblx0XHRcdFx0ICAgIGNhY2hlOiAoY2FjaGUgIT09IGZhbHNlKVxuXHRcdFx0XHR9XG5cdFx0XHQgICAgKVxuXHRcdFx0ICAgIC8vIFRvRG86IFByb3BlciBsb2dnaW5nXG5cdFx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0ICAgIGlmKGRhdGEuc3RhdHVzID09PSAnZXJyb3InKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGRhdGEubWVzc2FnZSk7XG5cdFx0XHRcdCAgICB9IGVsc2Uge1xuXHRcdFx0XHRcdGlmKGRhdGEuZGF0YSkge1xuXHRcdFx0XHRcdCAgICBmdWxmaWxsKGRhdGEuZGF0YS5yZXNwb25zZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQgICAgcmVqZWN0KGRhdGEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fSlcblx0XHRcdFx0LmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnLCBzdGF0dXNUZXh0KSB7XG5cdFx0XHRcdCAgICBpZiAoc3RhdHVzID09PSAwKSB7XG5cdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB0aW1lb3V0JykpO1xuXHRcdFx0XHQgICAgfSBlbHNlIHtcblx0XHRcdFx0XHRyZWplY3QoZGF0YSk7XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0ICAgIH07XG5cblx0XHQgICAgLyoqXG5cdFx0ICAgICAqICMgc2Vzc2lvbl9hcGlfY2FsbCAjXG5cdFx0ICAgICAqIHdyYXBwZXIgZm9yIGFwaV9jYWxsIC0gaW5zZXJ0cyB0aGUgc2Vzc2lvbiB0b2tlbiBpbnRvIHBhcmFtc1xuXHRcdCAgICAgKi9cblx0XHQgICAgdmFyIHNlc3Npb25fYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMsIGNhY2hlKSB7XG5cdFx0XHR2YXIgc2Vzc2lvbiA9IHNlc3Npb25EYXRhLnRva2VuO1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKGFuZ3VsYXIuZXh0ZW5kKHBhcmFtcywge3M6IHNlc3Npb259KSwgY2FjaGUpO1xuXHRcdCAgICB9O1xuXG5cdFx0ICAgIHJldHVybiB7XG5cdFx0XHRnZXRfbXVuaWNpcGFsaXRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9tdW5pY2lwYWxpdGllcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfY291bnRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9jb3VudGllcyd9KTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2V4aXN0czogZnVuY3Rpb24odXNlcm5hbWUsIGVtYWlsKSB7XG5cdFx0XHQgICAgdmFyIGFyZ3MgPSB7bTogJ3VzZXJfZXhpc3RzJ307XG5cblx0XHRcdCAgICBpZiAodXNlcm5hbWUgJiYgdHlwZW9mIHVzZXJuYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRhcmdzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG5cdFx0XHQgICAgfVxuXHRcdFx0ICAgIGlmIChlbWFpbCAmJiB0eXBlb2YgZW1haWwgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGFyZ3MuZW1haWwgPSBlbWFpbDtcblx0XHRcdCAgICB9XG5cblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoYXJncywgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfcmVnaXN0ZXI6IGZ1bmN0aW9uKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCBwaG9uZSkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAndXNlcl9yZWdpc3RlcicsXG5cdFx0XHRcdCAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0XHQgIGZ1bGxuYW1lOiBmdWxsbmFtZSxcblx0XHRcdFx0ICBwYXNzd29yZDogcGFzc3dvcmQsXG5cdFx0XHRcdCAgZW1haWw6IGVtYWlsLFxuXHRcdFx0XHQgIHBob25lOiBwaG9uZVxuXHRcdFx0XHR9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9jb25maXJtOiBmdW5jdGlvbih1c2VybmFtZSwgcGluKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHtcblx0XHRcdFx0bTogJ3VzZXJfY29uZmlybScsXG5cdFx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdFx0cGluOiBwaW5cblx0XHRcdCAgICB9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9pbmZvOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfaW5mbyd9KTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2xvc3RfcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ3VzZXJfbG9zdF9wYXNzd29yZCcsXG5cdFx0XHRcdCAgdXNlcl9pZGVudGlmaWNhdGlvbjogdXNlclxuXHRcdFx0XHR9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9yZXNldF9wYXNzd29yZDogZnVuY3Rpb24odXNlcl9pZGVudGlmaWNhdGlvbiwgcGFzc3dvcmQsIGNvZGUpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe1xuXHRcdFx0XHRtOiAndXNlcl9yZXNldF9wYXNzd29yZCcsXG5cdFx0XHRcdHVzZXJfaWRlbnRpZmljYXRpb246IHVzZXJfaWRlbnRpZmljYXRpb24sXG5cdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZCxcblx0XHRcdFx0Y29kZTogY29kZVxuXHRcdFx0ICAgIH0sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2NoYW5nZV9wYXNzd29yZDogZnVuY3Rpb24ob2xkX3Bhc3N3b3JkLCBuZXdfcGFzc3dvcmQpIHtcblx0XHRcdCAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7XG5cdFx0XHRcdG06ICd1c2VyX2NoYW5nZV9wYXNzd29yZCcsXG5cdFx0XHRcdG9sZF9wYXNzd29yZDogb2xkX3Bhc3N3b3JkLFxuXHRcdFx0XHRuZXdfcGFzc3dvcmQ6IG5ld19wYXNzd29yZFxuXHRcdFx0ICAgIH0sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2xvZ2luOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ3VzZXJfbG9naW4nLFxuXHRcdFx0XHQgIHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdFx0ICBwYXNzd29yZDogcGFzc3dvcmRcblx0XHRcdFx0fSwgZmFsc2UpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0ICAgIHNlc3Npb25EYXRhLnNldFRva2VuKGRhdGEpO1xuXG5cdFx0XHRcdCAgICAvL25lZWRlZCBmb3IgY2hhaW5pbmcgb2YgcHJvbWlzZXMsIHNob3VsZCBiZSBkb25lIHNvbWUgb3RoZXIgd2F5IHBlcmhhcHM/XG5cdFx0XHRcdCAgICByZXR1cm4gZGF0YTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9sb2dvdXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2xvZ291dCd9LCBmYWxzZSlcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHQgICAgc2Vzc2lvbkRhdGEuZGVsZXRlVG9rZW4oKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9wcm9kdWN0czogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX3Byb2R1Y3RzJ30sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfZmlzaGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfZmlzaGVzJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF90ZWNobmlxdWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVjaG5pcXVlcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfYmFpdHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9iYWl0cyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfb3JnYW5pemF0aW9uczogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9vcmdhbml6YXRpb25zJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X29yZ19tb2RpZmllZDogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9vcmdfbW9kaWZpZWQnLFxuXHRcdFx0XHQgIG9yZ2lkOiBvcmdpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfYXJlYXM6IGZ1bmN0aW9uKGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X2FyZWFzJyxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfYXJlYXNfbW9kaWZpZWQ6IGZ1bmN0aW9uKGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X2FyZWFzX21vZGlmaWVkJyxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfcHJvZHVjdHM6IGZ1bmN0aW9uKGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X3Byb2R1Y3RzJyxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfcnVsZXM6IGZ1bmN0aW9uKHJ1bGVpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X3J1bGVzJyxcblx0XHRcdFx0ICBydWxlaWQ6IHJ1bGVpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfcGhvdG9zOiBmdW5jdGlvbihvcmdpZCwgYXJlYWlkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfcGhvdG9zJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWQsXG5cdFx0XHRcdCAgYXJlYWlkOiBhcmVhaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X21hcF9wb2lzOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X21hcF9wb2lzJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X21hcF9wb2lfdHlwZXMgOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbWFwX3BvaV90eXBlcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfbWFwX3BvbHlnb25zOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X21hcF9wb2x5Z29ucycsXG5cdFx0XHRcdCAgb3JnaWQ6IG9yZ2lkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfZ2V0X2Zhdm9yaXRlczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2dldF9mYXZvcml0ZXMnfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdGdldF90ZXJtc19vZl9zZXJ2aWNlOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVybXNfb2Zfc2VydmljZSd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfY29udGFjdF9pbmZvOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY29udGFjdF9pbmZvJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9lbmdpbmVfcG9saWNpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9lbmdpbmVfcG9saWNpZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3Ntc190ZXJtczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3Ntc190ZXJtcyd9KTtcblx0XHRcdH1cblx0XHQgICAgfTtcblx0XHR9XTtcblx0fSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kYicsIFtdKVxuICAgIC5wcm92aWRlcignREInLCBmdW5jdGlvbiBEQlByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICckY29yZG92YVNRTGl0ZScsXG4gICAgICAgICAgICAnQVBJJyxcbiAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICBmdW5jdGlvbigkY29yZG92YVNRTGl0ZSwgQVBJLCAkcSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRiO1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc3FsaXRlUGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiID0gJGNvcmRvdmFTUUxpdGUub3BlbkRCKCdmaXNrZWJhc2VuLmRiJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cub3BlbkRhdGFiYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiID0gd2luZG93Lm9wZW5EYXRhYmFzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdmaXNrZWJhc2VuLmRiJywgJzEuMCcsICdmaXNrZWJhc2VuJywgMTAgKiAxMDI0ICogMTAyNCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UsIHNvcnJ5Jyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlRGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAnQXJlYSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ29yZ2lkJywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2t3JywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbm90ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjMScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYzInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2MzJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtMScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbTInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ20zJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsYXQnLCAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xuZycsICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnem9vbScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwbnQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY2FyJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2VuZycsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydoY3AnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbWFwJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd3c2MnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnQXJlYV9GaXNoJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2FpZCcsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydmaWQnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYW1vdW50JywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NvbW1lbnQnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0MicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydubycsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbScsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwZicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydhaScsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3JpJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY2gnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwcmljZScsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydobCcsICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdDb3VudHknOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3MnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ011bmljaXBhbGl0eSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyduYW1lJywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtYXgnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbWcnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2luJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZ2VvJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzaXplJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncmVjJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdSdWxlJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd2ZXInLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1VzZXJfUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydhdCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NvZGUnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZnInLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydmdWxsbmFtZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvdCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydyZWYxJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3JlZjInLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndG8nLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwaWQnLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3BkZicsICAgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1VzZXJfSW5mbyc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd1c2VybmFtZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsb2dnZWRpbicsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydJUDEnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydJUDInLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyduYW1lJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydlbWFpbCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjcmVhdGVkJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdVc2VyX051bWJlcic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbnVtYmVyJywgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnVGVjaG5pcXVlJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkZScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2RhJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbWcxJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltZzInLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW1nMycsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd5b3V0dWJlJywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ09yZ2FuaXphdGlvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjcCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd1cmwnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjbycsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndmF0JywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkcCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2Z2YScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnb3JnJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtbCcsICAgICAnaW50J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1BvaSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3R5cGUnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncHJpY2UnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsYScsICAgICAncmVhbCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsbycsICAgICAncmVhbCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdQb2lfVHlwZSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUG9seWdvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2MnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ZlcicsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwb2x5JywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dmFsID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5yb3dzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR2YWwucHVzaChkYXRhLnJvd3MuaXRlbShpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVUYWJsZTogZnVuY3Rpb24odGFibGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgdGFibGUgKyAnOycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW5nbGVEYXRhID0gZGF0YVtpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0RGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZURlZlt0YWJsZV0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnREYXRhLnB1c2goc2luZ2xlRGF0YVt0YWJsZURlZlt0YWJsZV1baV1bMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSU5TRVJUIElOVE8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWQUxVRVMoPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyw/Jy5yZXBlYXQoaW5zZXJ0RGF0YS5sZW5ndGggLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5LCBpbnNlcnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBjbGVhblRhYmxlOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRHJvcHMgYWxsIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBjbGVhblxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY2xlYW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdGFibGUgaW4gdGFibGVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIGFsbCB0YWJsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJbml0aWFsaWVzIHRoZSB0YWJsZXMgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCBpbiB0YWJsZURlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gdGFibGVEZWZbdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVWYWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEJ1aWxkcyBhIHN0cmluZyB3aXRoIFwiXCIgYXJvdW5kIGFsbCBuYW1lcywgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIFNRTCBUYWJsZSB3aXRvdXQgaGF2aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB0byB3b3JyeSBhYm91dCB1c2luZyByZXNlcnZlZCBrZXl3b3Jkcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLnB1c2goJ1wiJyArIHRhYmxlW2ldWzBdICsgJ1wiICcgKyB0YWJsZVtpXVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcyA9IHRhYmxlVmFsdWVzLmpvaW4oJywgJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJygnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIFBSSU1BUlkgS0VZKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyArIHRhYmxlWzBdWzBdICsgJ1wiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSk7J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cblxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IGFuIGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gaWRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGdldEFyZWE6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihhcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBjcmVhdGVPYmplY3QoYXJlYSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETzogREIgc2hvdWxkIG5vdCBuZWVkIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Bob3RvcyhvYmplY3Qub3JnaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlcyA9IGltYWdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEFyZWFGaXNoZXM6IGZ1bmN0aW9uKGFpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYV9GaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gRmlzaCBPTiBBcmVhX0Zpc2guZmlkID0gRmlzaC5JRCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBBcmVhX0Zpc2guYWlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2FpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBTZWFyY2hlcyB0aGUgZGF0YWJhc2UgdXNpbmcgYSBxdWVyeVxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGUgcXVlcnkgaXMgbWF0Y2hlZCB0byBhIG5hbWUgYW5kL29yIGtleXdvcmRcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBzZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBmdW5jdGlvbihzZWFyY2hzdHJpbmcsIGNvdW50eV9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSB0IExJS0UgPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb3VudHlfaWQgPyAnQU5EIGMxID0gPycgOiAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSB0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eV9pZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnJScgKyBzZWFyY2hzdHJpbmcgKyAnJScsIGNvdW50eV9pZF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJyUnICsgc2VhcmNoc3RyaW5nICsgJyUnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYSBwcm9kdWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0UHJvZHVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHByb2R1Y3RfaWRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGdldFByb2R1Y3Q6IGZ1bmN0aW9uKHByb2R1Y3RfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFByb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBzbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcHJvZHVjdF9pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBHZXRzIGFsbCBwcm9kdWN0cyBmcm9tIGFuIGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRQcm9kdWN0c0J5QXJlYVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGFyZWFfaWRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGdldFByb2R1Y3RzQnlBcmVhOiBmdW5jdGlvbihhcmVhX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIFByb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBhaSA9ID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgc28nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FyZWFfaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRDb3VudGllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIENvdW50eS4qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQ291bnR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gQXJlYSBPTiBBcmVhLmMxID0gQ291bnR5LklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIENvdW50eS50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRVc2VyUHJvZHVjdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBVc2VyX1Byb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX1Byb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTEVGVCBKT0lOIFByb2R1Y3QgT04gUHJvZHVjdC5JRCA9IFVzZXJfUHJvZHVjdC5waWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTEVGVCBKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEZpc2hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRGaXNoOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gRmlzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFRlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VGVjaG5pcXVlOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldE9yZ2FuaXphdGlvbjogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIE9yZ2FuaXphdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX0luZm8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdCh1c2VyKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRVc2VyTnVtYmVyczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX051bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9pczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBvcmdpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFBvaVR5cGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvaV9UeXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRQb2x5Z29uczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgb3JnaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmZpbHRlcnMnLCBbXSlcbi5maWx0ZXIoJ29uZWJyJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8oPGJyPlxccyopKy9nLCAnPGJyPicpO1xuICAgIH07XG59KVxuLmZpbHRlcignbm9icnMnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLyg8YnIoXFxzKlxcLykqPikrL2csICcnKTtcbiAgICB9O1xufSlcbi5maWx0ZXIoJ2NsZWFudGFibGVzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDxcXC8/dGFibGU+KSsvZywgJycpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8XFwvP3RyPikrL2csICcnKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oPFxcLz90aD4pKy9nLCAnJyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDwoXFwvPyl0ZC4qPz4pKz8vZywgJzwkMnA+Jyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvPHA+XFxzKjxcXC9wPi9nLCAnJyk7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9O1xufSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS51cGRhdGUnLCBbJ2lmaXNrZS5hcGknLCAnaWZpc2tlLmRiJywgJ2lmaXNrZS51dGlscyddKVxuICAgIC5wcm92aWRlcignVXBkYXRlJywgZnVuY3Rpb24gVXBkYXRlUHJvdmlkZXIoKSB7XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJ0FQSScsXG4gICAgICAgICAgICAnREInLFxuICAgICAgICAgICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgJyRpb25pY0xvYWRpbmcnLFxuICAgICAgICAgICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKEFQSSwgREIsIGxvY2FsU3RvcmFnZSwgJHEsICRpb25pY0xvYWRpbmcsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgTEFTVF9VUERBVEUgPSAnbGFzdF91cGRhdGUnO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9hcmVhcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpc2hBcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlzaGVzID0gZGF0YVtrZXldLmZpc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGZpc2hLZXkgaW4gZmlzaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXNoQXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJRCc6IGtleSArICdfJyArIGZpc2hLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlkOiBmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFpZDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmlzaGVzW2Zpc2hLZXldWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGZpc2hlc1tmaXNoS2V5XVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ0FyZWEnLCBkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnQXJlYV9GaXNoJywgZmlzaEFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEFyZWEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUHJvZHVjdCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUHJvZHVjdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfY291bnRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdDb3VudHknLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIENvdW50eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbXVuaWNpcGFsaXRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdNdW5pY2lwYWxpdHknLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE11bmljaXBhbGl0eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfZmlzaGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnRmlzaCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgRmlzaCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcnVsZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdSdWxlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBSdWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF90ZWNobmlxdWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVGVjaG5pcXVlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBUZWNobmlxdWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X29yZ2FuaXphdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdPcmdhbml6YXRpb24nLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE9yZ2FuaXphdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvaXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQb2knLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFBvaScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvaV90eXBlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1BvaV9UeXBlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQb2lfVHlwZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvbHlnb25zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUG9seWdvbicsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUG9seWdvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlVXNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVXNlcl9Qcm9kdWN0JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX1Byb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9pbmZvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVycyA9IGRhdGEubnVtYmVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bUFyci5wdXNoKHsnbnVtYmVyJzogbnVtYmVyc1tpXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9JbmZvJywgW2RhdGFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9JbmZvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9OdW1iZXInLCBudW1BcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX051bWJlcnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xlYW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9Qcm9kdWN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX051bWJlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9JbmZvJylcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCB1c2VyIGluZm8gZnJvbSBkYXRhYmFzZScpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgcmVtb3ZlIHVzZXIgZGF0YSBmcm9tIGRhdGFiYXNlIScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRnVuYyA9IGZ1bmN0aW9uKGZvcmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0VXBkYXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0KExBU1RfVVBEQVRFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhV2VlayA9IDEwMDAgKiAzNjAwICogMjQgKiA3O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBsYXN0VXBkYXRlID4gYVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxhc3RVcGRhdGUsIGN1cnJlbnRUaW1lLCBmb3JjZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXplZCBEQiBzeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVVzZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIGFsbCB0aGUgdGhpbmdzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIuZXJyb3JfY29kZSA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aGVudGljYXRpb24gZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdyB0byB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhblVzZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0dvdCBhbiBlcnJvciwgd2lsbCB0cnkgdG8gcmVjcmVhdGUgYWxsIHRhYmxlczonLCBlcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIuY2xlYW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBhbGwgdGhlIHRoaW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGlsbCBlcnJvciwgaGFuZGxlIGl0IScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfdGVybXNfb2Zfc2VydmljZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCd0b3MnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Ntc190ZXJtcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odGVybXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnc21zX3Rlcm1zJywgdGVybXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfY29udGFjdF9pbmZvKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2NvbnRhY3RJbmZvJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5pbml0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXplZCBEQiBzeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm9fdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKCdObyB1cGRhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBmb3JjZWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgdXNlcl9sb2dvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5Vc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQVBJLnVzZXJfbG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQSS51c2VyX2xvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsYXN0X3VwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfV07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLnV0aWxzJywgW10pXG5cbi5mYWN0b3J5KCdsb2NhbFN0b3JhZ2UnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5zZXJ2aWNlKCdzZXNzaW9uRGF0YScsIFsnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24obG9jYWxTdG9yYWdlKSB7XG4gICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXQoJ3Nlc3Npb24nKTtcblxuICAgIHRoaXMuc2V0VG9rZW4gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Nlc3Npb24nLCB0KTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBzZXQnKTtcbiAgICB9O1xuICAgIHRoaXMuZGVsZXRlVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZSgnc2Vzc2lvbicpO1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHVuc2V0Jyk7XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCduZ0NvcmRvdmFTbXMnLCBbXSlcbi5kaXJlY3RpdmUoJ25nQ29yZG92YVNtcycsIFsnJGNvcmRvdmFTbXMnLCAnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkY29yZG92YVNtcywgJGlvbmljUG9wdXApIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGlvbmljUG9wdXAucHJvbXB0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTa3JpdiBpbiBkaXR0IG5hbW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdGSVNLQSAnICsgYXR0cnMubmdDb3Jkb3ZhU21zICsgJyAnICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTbXMuc2VuZCgnNzI0NTYnLCBtZXNzYWdlLCAnSU5URU5UJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY3Vlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGlyZWN0aXZlcycpXG4gICAgLmRpcmVjdGl2ZSgnaWZpc2tlSW5wdXQnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICB0cmFuc2NsdWRlOiB0cnVlLFxuXG5cdCAgICBzY29wZToge1xuXHRcdG5hbWU6ICdAJyxcblx0XHRpZDogJ0AnLFxuXHRcdGxhYmVsOiAnQCcsXG5cdFx0cGxhY2Vob2xkZXI6ICdAJyxcblx0XHR0eXBlOiAnQCcsXG5cdFx0bmdQYXR0ZXJuOiAnQCcsXG5cdFx0bmdNb2RlbDogJz0/J1xuXG5cdCAgICB9LFxuXHQgICAgdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmVzL2lucHV0X2ZpZWxkL2lmaXNrZV9pbnB1dC5odG1sJyxcblx0ICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSkge1xuXHRcdCRzY29wZS5pZCA9ICRzY29wZS5pZCB8fCAkc2NvcGUubmFtZTtcblx0XHQkc2NvcGUudHlwZSA9ICRzY29wZS50eXBlIHx8ICd0ZXh0Jztcblx0ICAgIH1cblx0fVxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnc3lzdGVtQnJvd3NlcicsIFtdKVxuLmRpcmVjdGl2ZSgnc3lzdGVtQnJvd3NlcicsIFsnJGNvcmRvdmFJbkFwcEJyb3dzZXInLCBmdW5jdGlvbigkY29yZG92YUluQXBwQnJvd3Nlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4oZWxbMF0uaHJlZiwgJ19zeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5kaXJlY3RpdmUoJ2dsb2JhbFN5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuaHJlZiAmJiBlLnRhcmdldC5ob3N0ICE9PSB3aW5kb3cubG9jYXRpb24uaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGUudGFyZ2V0LmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=