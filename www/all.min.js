angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive","tabSlideBox"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&window.StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!0,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/app/login";window.localStorage.getItem("session")&&(r="/app/home"),t.otherwise(r),e.state("app",{url:"/app",templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("app.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("app.recover",{url:"/recover",templateUrl:"components/recover/recover.html",controller:"RecoverCtrl"}).state("app.recover.lostpassword",{url:"/lostpassword",templateUrl:"components/recover/lostpassword.html"}).state("app.recover.resetpassword",{url:"/resetpassword",templateUrl:"components/recover/resetpassword.html"}).state("app.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("app.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("app.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("app.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("app.info",{url:"/info",templateUrl:"components/info/info.html"}).state("app.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("app.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("app.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("app.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("app.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("app.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("app.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("app.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("app.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("app.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("app.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("app.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("app.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("app.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("app.area",{url:"/area/:id",views:{"@app":{templateUrl:"components/area/area.html",controller:"AreaCtrl"},"info@app.area":{templateUrl:"components/area/info.html"},"map@app.area":{templateUrl:"components/area/map.html"},"fishinfo@app.area":{templateUrl:"components/area/fish.html"},"cards@app.area":{templateUrl:"components/area/cards.html"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Okänt",e.update=o,n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log("iFiske version:",t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$ionicHistory","localStorage","$stateParams","DB","$ionicSlideBoxDelegate","$ionicModal",function(e,t,n,o,r,i,s){e.map={center:{}},e.image_endpoint="http://www.ifiske.se";var l={};r.getArea(o.id).then(function(t){e.map.center={lat:t.lat,lng:t.lng,zoom:Number(t.zoom)?Number(t.zoom):9},e.images=t.images,i.update(),e.area=t,r.getOrganization(t.orgid).then(function(t){e.org=t}),r.getPoiTypes().then(function(n){for(var o=0;o<n.length;++o){var i=n[o];l[i.ID]={iconUrl:"http://www.ifiske.se/"+i.icon,iconAnchor:[16,37],popupAnchor:[0,-35]}}r.getPois(t.orgid).then(function(n){e.map.markers=n.map(function(e){return{layer:"pois",lat:e.la,lng:e.lo,icon:l[e.type],message:e.t}}),e.map.markers.push({layer:"pois",lat:t.lat,lng:t.lng,message:t.t})},function(e){console.error(e)}),r.getPolygons(t.orgid).then(function(t){e.map.paths=t.map(function(e){return{latlngs:JSON.parse("["+e.poly+"]"),color:e.c,weight:2,opacity:.5,fillColor:e.c,type:"polygon"}}),console.log(e)},function(e){console.error(e)})})},function(e){console.log(e)}),r.getAreaFishes(o.id).then(function(t){e.fishes=t},function(e){console.log(e)}),r.getProductsByArea(o.id).then(function(t){e.products=t},function(e){console.log(e)}),e.sortorder="-amount",e.smsterms=n.get("sms_terms"),e.predicate="so",s.fromTemplateUrl("components/area/sms_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,s.fromTemplateUrl("components/area/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()}),angular.extend(e.map,{layers:{baselayers:{outdoors:{name:"Utomhuskarta",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}},satellite:{name:"Satellit",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.satellite",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{pois:{name:"Ställen",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}},paths:{}})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){var r=t.search;e.search=r,e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){e.search=""},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("app.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading","$ionicHistory","$ionicViewSwitcher",function(e,t,n,o,r,i){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),i.nextDirection("forward"),t.go("app.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})},e.skip=function(){i.nextDirection("forward"),r.nextViewOptions({disableBack:!0,historyRoot:!0}),t.go("app.home")}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","DB",function(e,t,n){n.search("").then(function(t){e.markers=t.map(function(t){return{layer:"fishareas",lat:t.lat,lng:t.lng,getMessageScope:function(){var n=e.$new();return n.area=t,n},message:'<a ui-sref="menu.area({id: area.ID })">{{area.t}}</a>'}})}),angular.extend(e,{center:{lat:62,lng:15,zoom:5},layers:{baselayers:{outdoors:{name:"Utomhuskarta",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}},satellite:{name:"Satellit",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.satellite",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{fishareas:{name:"Fiskeområden",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicViewSwitcher","$ionicPopover","sessionData","Update",function(e,t,n,o,r,i){e.sessionData=r,o.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("app.userinfo")},e.logout=function(){e.popover.hide(),i.user_logout(),t.go("app.login")},e.login=function(){e.popover.hide(),n.nextDirection("back"),t.go("app.login")},e.register=function(){e.popover.hide(),t.go("app.register.details")},e.update=function(){i.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RecoverCtrl",["$scope","$state","$ionicHistory","$ionicPlatform","$ionicLoading","$cordovaToast","API",function(e,t,n,o,r,i,s){"use strict";var l="";e.skip=function(){e.info="",t.go("^.resetpassword")},e.lostPassword=function(n){r.show(),l=n.user.$viewValue,s.user_lost_password(l).then(function(n){e.info="En återställningskod kommer skickas till dig inom kort, via ",n.mailed&&(e.info+="e-mail",n.texted&&(e.info+=" och ")),n.texted&&(e.info+="sms"),e.info+=".",t.go("^.resetpassword")},function(){n.user.$setValidity("invalidUser",!1)})["finally"](r.hide)},e.resetPassword=function(e){r.show(),s.user_reset_password(l,e.password.$viewValue,e.code.$viewValue).then(function(e){console.log(e),o.ready(function(){i.showLongBottom("Ditt lösenord har ändrats")}),n.goToHistoryRoot(n.currentView().historyId)},function(e){console.log(e)})["finally"](r.hide)}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,r,i,s){var l;e.checkUsername=function(e){i.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t)})},e.checkEmail=function(e){i.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,l=o.username.$viewValue;var s=o.password.$viewValue,a=o.fullname.$viewValue,u=o.email.$viewValue;i.user_register(l,a,s,u,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,r.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;i.user_confirm(l,o.$viewValue).then(function(){o.$setValidity("verified",!0),t.go("start.login")},function(){o.$setValidity("verified",!1)})["finally"](n.hide())},e.tos=s.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","$ionicModal",function(e,t,n,o){e.pred="-to",e.endpoint="https://www.ifiske.se",e.$on("$ionicView.beforeEnter",function(){e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)})}),o.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()})}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,s=function(n,o){return r(function(r,s){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:o!==!1}).success(function(e){"error"===e.status?s(e.message):e.data?r(e.data.response):s(e)}).error(function(e,t){s(0===t?new Error("Request timeout"):e)})})},l=function(t){var o=n.token;return s(e.extend(t,{s:o}))};return{get_municipalities:function(){return s({m:"get_municipalities"})},get_counties:function(){return s({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return e&&"string"==typeof e&&(n.username=e),t&&"string"==typeof t&&(n.email=t),s(n,!1)},user_register:function(e,t,n,o,r){return s({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r},!1)},user_confirm:function(e,t){return s({m:"user_confirm",username:e,pin:t},!1)},user_info:function(){return l({m:"user_info"})},user_lost_password:function(e){return s({m:"user_lost_password",user_identification:e},!1)},user_reset_password:function(e,t,n){return s({m:"user_reset_password",user_identification:e,password:t,code:n},!1)},user_change_password:function(e,t){return l({m:"user_change_password",old_password:e,new_password:t},!1)},user_login:function(e,t){return s({m:"user_login",username:e,password:t},!1).then(function(e){return n.setToken(e),e})},user_logout:function(){l({m:"user_logout"},!1).then(function(){n.deleteToken()})},user_products:function(){return l({m:"user_products"},!1)},get_fishes:function(){return s({m:"get_fishes"})},get_techniques:function(){return s({m:"get_techniques"})},get_baits:function(){return s({m:"get_baits"})},get_organizations:function(e){return s({m:"get_organizations",orgid:e})},get_org_modified:function(e){return s({m:"get_org_modified",orgid:e})},get_areas:function(e){return s({m:"get_areas",areaid:e})},get_areas_modified:function(e){return s({m:"get_areas_modified",areaid:e})},get_products:function(e){return s({m:"get_products",areaid:e})},get_rules:function(e){return s({m:"get_rules",ruleid:e})},get_photos:function(e,t){return s({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return s({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return s({m:"get_map_poi_types"})},get_map_polygons:function(e){return s({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return l({m:"user_get_favorites"},!1)},get_terms_of_service:function(){return s({m:"get_terms_of_service"})},get_contact_info:function(){return s({m:"get_contact_info"})},get_engine_policies:function(){return s({m:"get_engine_policies"})},get_sms_terms:function(){return s({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]],Poi:[["ID","int"],["orgid","int"],["type","int"],["price","int"],["t","text"],["d","text"],["la","real"],["lo","real"]],Poi_Type:[["ID","int"],["t","text"],["icon","text"]],Polygon:[["ID","int"],["orgid","int"],["t","text"],["c","text"],["ver","int"],["mod","int"],["poly","text"]]},s=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],s=[],l=0;l<i[e].length;++l)s.push(r[i[e][l][0]]);var a=["INSERT INTO",e,"VALUES(?",",?".repeat(s.length-1),")"].join(" ");n.executeSql(a,s)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){for(var n=i[t],o=[],r=0;r<n.length;++r)o.push('"'+n[r][0]+'" '+n[r][1]);o=o.join(", ");var s=["CREATE TABLE IF NOT EXISTS",t,"(",o,", PRIMARY KEY(",'"'+n[0][0]+'"',"));"].join(" ");e.executeSql(s)}},t,e)})},getArea:function(t){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=s(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e,o(t)},function(e){console.warn(e),o(t)})},i)})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(s(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(s(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(s(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(s(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(s(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(s(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(s(e))},n)})},getPois:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Poi","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},getPoiTypes:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM Poi_Type"].join(" ")).then(function(e){t(s(e))},n)})},getPolygons:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Polygon","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("onebr",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}).filter("nobrs",function(){return function(e){return e.replace(/(<br(\s*\/)*>)+/g,"")}}).filter("cleantables",function(){return function(e){return e=e.replace(/(<\/?table>)+/g,""),e=e.replace(/(<\/?tr>)+/g,""),e=e.replace(/(<\/?th>)+/g,""),e=e.replace(/(<(\/?)td.*?>)+?/g,"<$2p>"),e=e.replace(/<p>\s*<\/p>/g,"")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var s="last_update",l=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e){var i=e[r].fish;for(var s in i)n.push({ID:r+"_"+s,fid:s,aid:r,amount:i[s][0],comment:i[s][1]})}return o.all([t.populateTable("Area",e),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})}),e.get_map_pois().then(function(e){return t.populateTable("Poi",e).then(function(){console.log("Populated Poi")},function(e){return console.log(e),o.reject(e)})}),e.get_map_poi_types().then(function(e){return t.populateTable("Poi_Type",e).then(function(){console.log("Populated Poi_Type")},function(e){return console.log(e),o.reject(e)})}),e.get_map_polygons().then(function(e){return t.populateTable("Polygon",e).then(function(){console.log("Populated Polygon")},function(e){return console.log(e),o.reject(e)})})])},a=function(){return o.all([e.user_products().then(function(e){return console.log(e),t.populateTable("User_Product",e).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},u=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){r.show();var p=Date.now(),f=0;c||(f=n.get(s));var m=6048e5;p-f>m?(t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([a(),l()]):l()}).then(function(){console.log("Populated all the things"),n.set(s,p),r.hide()},function(o){return 7!==o.error_code?(console.warn("Got an error, will try to recreate all tables:",o),t.clean().then(function(){return t.init()}).then(function(){return l()}).then(function(){console.log("Populated all the things"),n.set(s,p),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(u(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e)}),e.get_contact_info().then(function(e){n.set("contactInfo",e)})):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&a().then(function(){r.hide()},function(e){console.err(e),r.hide()}),r.hide()}):(console.log("no_update"),r.hide())};return{update:function(){c()},forcedUpdate:function(){c(!0)},user_logout:function(){u(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(s)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfY29udHJvbGxlci5qcyIsImFyZWFfbGlzdC9hcmVhX2xpc3RfY29udHJvbGxlci5qcyIsImNvbnRhY3QvY29udGFjdF9jb250cm9sbGVyLmpzIiwiY291bnRpZXMvY291bnRpZXNfY29udHJvbGxlci5qcyIsImZpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJmaXNoZXMvZmlzaGVzX2NvbnRyb2xsZXIuanMiLCJob21lL2hvbWVfY29udHJvbGxlci5qcyIsImxlZ2FsL2xlZ2FsX2NvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dpbl9jb250cm9sbGVyLmpzIiwibWFwL21hcF9jb250cm9sbGVyLmpzIiwibWVudS9tZW51X2NvbnRyb2xsZXIuanMiLCJyZWNvdmVyL3JlY292ZXJfY29udHJvbGxlci5qcyIsInJlZ2lzdGVyL3JlZ2lzdGVyX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWxfY29udHJvbGxlci5qcyIsInRlY2huaXF1ZXMvdGVjaG5pcXVlc19jb250cm9sbGVyLmpzIiwidXNlci91c2VyX2NvbnRyb2xsZXIuanMiLCJ1c2VyX2NhcmRzL3VzZXJfY2FyZHNfY29udHJvbGxlci5qcyIsImFwaS5qcyIsImRiLmpzIiwiZmlsdGVyLmpzIiwidXBkYXRlLmpzIiwidXRpbHMuanMiLCJpZmlza2Vfc21zL2lmaXNrZV9zbXMuanMiLCJpbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuanMiLCJzeXN0ZW1fYnJvd3Nlci9zeXN0ZW1fYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZSIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiVXBkYXRlIiwiSW1nQ2FjaGUiLCJyZWFkeSIsIndpbmRvdyIsImlvbmljIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCIkaW5pdCIsInVwZGF0ZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJJbWdDYWNoZVByb3ZpZGVyIiwic2V0T3B0aW9ucyIsImRlYnVnIiwidXNlUGVyc2lzdGVudENhY2hlIiwibWFudWFsSW5pdCIsInZpZXdzIiwiZm9yd2FyZENhY2hlIiwiYmFja0J1dHRvbiIsInByZXZpb3VzVGl0bGVUZXh0IiwidGV4dCIsInRhYnMiLCJwb3NpdGlvbiIsImRlZmF1bHRVcmwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJwYXJhbXMiLCJpZCIsImNvdW50eSIsInNlYXJjaCIsImZpc2giLCJ0ZWNoIiwiQGFwcCIsImluZm9AYXBwLmFyZWEiLCJtYXBAYXBwLmFyZWEiLCJmaXNoaW5mb0BhcHAuYXJlYSIsImNhcmRzQGFwcC5hcmVhIiwiJHNjb3BlIiwiJGNvcmRvdmFBcHBWZXJzaW9uIiwidmVyc2lvbiIsImRiRGF0ZSIsImNvcmRvdmEiLCJnZXRBcHBWZXJzaW9uIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCIkaW9uaWNIaXN0b3J5IiwiJHN0YXRlUGFyYW1zIiwiREIiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljTW9kYWwiLCJtYXAiLCJjZW50ZXIiLCJpbWFnZV9lbmRwb2ludCIsImljb25zIiwiZ2V0QXJlYSIsImFyZWEiLCJsYXQiLCJsbmciLCJ6b29tIiwiTnVtYmVyIiwiaW1hZ2VzIiwiZ2V0T3JnYW5pemF0aW9uIiwib3JnaWQiLCJvcmciLCJnZXRQb2lUeXBlcyIsInBvaV90eXBlcyIsImkiLCJsZW5ndGgiLCJ0eXBlIiwiSUQiLCJpY29uVXJsIiwiaWNvbiIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsImdldFBvaXMiLCJwb2lzIiwibWFya2VycyIsInBvaSIsImxheWVyIiwibGEiLCJsbyIsIm1lc3NhZ2UiLCJ0IiwicHVzaCIsImVyciIsImVycm9yIiwiZ2V0UG9seWdvbnMiLCJwb2x5Z29ucyIsInBhdGhzIiwicG9seSIsImxhdGxuZ3MiLCJKU09OIiwicGFyc2UiLCJjb2xvciIsImMiLCJ3ZWlnaHQiLCJvcGFjaXR5IiwiZmlsbENvbG9yIiwiZ2V0QXJlYUZpc2hlcyIsImZpc2hlcyIsImdldFByb2R1Y3RzQnlBcmVhIiwicHJvZHVjdHMiLCJzb3J0b3JkZXIiLCJzbXN0ZXJtcyIsImdldCIsInByZWRpY2F0ZSIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiYW5pbWF0aW9uIiwibW9kYWwiLCJzbXNfbW9kYWwiLCJvcGVuTW9kYWwiLCJwcm9kdWN0Iiwic2hvdyIsImNsb3NlTW9kYWwiLCJoaWRlIiwic2hvd1Rlcm1zIiwic2hvd2luZ3Rlcm1zIiwicnVsZXNfbW9kYWwiLCJvcGVuUnVsZXNNb2RhbCIsImNsb3NlUnVsZXNNb2RhbCIsIiRvbiIsInJlbW92ZSIsImV4dGVuZCIsImxheWVycyIsImJhc2VsYXllcnMiLCJvdXRkb29ycyIsIm5hbWUiLCJsYXllck9wdGlvbnMiLCJtYXB0eXBlIiwiYXBpa2V5Iiwic2F0ZWxsaXRlIiwib3ZlcmxheXMiLCJ2aXNpYmxlIiwic2hvd09uU2VsZWN0b3IiLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsImNodW5rZWRMb2FkaW5nIiwic2hvd0NvdmVyYWdlT25Ib3ZlciIsInJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJjb3B5IiwiZGF0YSIsImFyZWFzIiwiY2xlYXJTZWFyY2giLCJzY3JvbGxUb3AiLCIkc3RhdGUiLCJjb250YWN0SW5mbyIsImdldENvdW50aWVzIiwiY291bnRpZXMiLCJnZXRGaXNoIiwiZ2V0RmlzaGVzIiwiZGVmYXVsdF9pbWciLCJpbWciLCJzZXNzaW9uRGF0YSIsImxvZ2dlZEluIiwic2V0IiwiY3VycmVudEhpc3RvcnlJZCIsIm15RnVuYyIsIiRldmVudCIsImtleUNvZGUiLCJzaGlmdEtleSIsImdvIiwic3JjRWxlbWVudCIsInZhbHVlIiwidG9zIiwiJGlvbmljTG9hZGluZyIsIiRpb25pY1ZpZXdTd2l0Y2hlciIsInNpZ25JbiIsImxvZ2luRm9ybSIsInVzZXJfbG9naW4iLCJ1c2VybmFtZSIsIiR2aWV3VmFsdWUiLCJwYXNzd29yZCIsIiRzZXRWYWxpZGl0eSIsIm5leHREaXJlY3Rpb24iLCJyZXNwb25zZSIsInNraXAiLCJuZXh0Vmlld09wdGlvbnMiLCJkaXNhYmxlQmFjayIsImhpc3RvcnlSb290IiwibGVhZmxldERhdGEiLCJhIiwiZ2V0TWVzc2FnZVNjb3BlIiwibmV3X3Njb3BlIiwiJG5ldyIsImZpc2hhcmVhcyIsIiRpb25pY1BvcG92ZXIiLCJwb3BvdmVyIiwidXNlcmluZm8iLCJsb2dvdXQiLCJ1c2VyX2xvZ291dCIsImxvZ2luIiwicmVnaXN0ZXIiLCJmb3JjZWRVcGRhdGUiLCIkY29yZG92YVRvYXN0IiwiQVBJIiwidXNlciIsImluZm8iLCJsb3N0UGFzc3dvcmQiLCJmb3JtIiwidXNlcl9sb3N0X3Bhc3N3b3JkIiwibWFpbGVkIiwidGV4dGVkIiwicmVzZXRQYXNzd29yZCIsInVzZXJfcmVzZXRfcGFzc3dvcmQiLCJjb2RlIiwic2hvd0xvbmdCb3R0b20iLCJnb1RvSGlzdG9yeVJvb3QiLCJjdXJyZW50VmlldyIsImhpc3RvcnlJZCIsImNoZWNrVXNlcm5hbWUiLCJpbnB1dCIsInVzZXJfZXhpc3RzIiwiY2hlY2tFbWFpbCIsImZvcm1FcnJvcnMiLCJwaG9uZSIsImZ1bGxuYW1lIiwiZW1haWwiLCJ1c2VyX3JlZ2lzdGVyIiwicmVnaXN0cmF0aW9uRXJyb3IiLCJlcnJvcl9jb2RlIiwidmVyaWZ5IiwidmVyY29kZSIsInVzZXJfY29uZmlybSIsImV1bGEiLCJzaG93RXVsYSIsImNsb3NlRXVsYSIsImltZzEiLCJpbWcyIiwiaW1nMyIsImZpbHRlciIsImVsIiwidGVzdCIsImdldFRlY2huaXF1ZSIsImdldFRlY2huaXF1ZXMiLCJ0ZWNobmlxdWVzIiwiZ2V0VXNlckluZm8iLCJnZXRVc2VyTnVtYmVycyIsIm51bWJlcnMiLCJwcmVkIiwiZW5kcG9pbnQiLCJub3ciLCJEYXRlIiwiZ2V0VXNlclByb2R1Y3RzIiwicHJvdmlkZXIiLCJ0aGlzIiwiYmFzZV91cmwiLCIkZ2V0IiwiJGh0dHAiLCIkcSIsImFwaV9jYWxsIiwiY2FjaGUiLCJmdWxmaWxsIiwicmVqZWN0IiwibWV0aG9kIiwia2V5IiwidGltZW91dCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJFcnJvciIsInNlc3Npb25fYXBpX2NhbGwiLCJzZXNzaW9uIiwidG9rZW4iLCJzIiwiZ2V0X211bmljaXBhbGl0aWVzIiwibSIsImdldF9jb3VudGllcyIsImFyZ3MiLCJwaW4iLCJ1c2VyX2luZm8iLCJ1c2VyX2lkZW50aWZpY2F0aW9uIiwidXNlcl9jaGFuZ2VfcGFzc3dvcmQiLCJvbGRfcGFzc3dvcmQiLCJuZXdfcGFzc3dvcmQiLCJzZXRUb2tlbiIsImRlbGV0ZVRva2VuIiwidXNlcl9wcm9kdWN0cyIsImdldF9maXNoZXMiLCJnZXRfdGVjaG5pcXVlcyIsImdldF9iYWl0cyIsImdldF9vcmdhbml6YXRpb25zIiwiZ2V0X29yZ19tb2RpZmllZCIsImdldF9hcmVhcyIsImFyZWFpZCIsImdldF9hcmVhc19tb2RpZmllZCIsImdldF9wcm9kdWN0cyIsImdldF9ydWxlcyIsInJ1bGVpZCIsImdldF9waG90b3MiLCJnZXRfbWFwX3BvaXMiLCJnZXRfbWFwX3BvaV90eXBlcyIsImdldF9tYXBfcG9seWdvbnMiLCJ1c2VyX2dldF9mYXZvcml0ZXMiLCJnZXRfdGVybXNfb2Zfc2VydmljZSIsImdldF9jb250YWN0X2luZm8iLCJnZXRfZW5naW5lX3BvbGljaWVzIiwiZ2V0X3Ntc190ZXJtcyIsInVuZGVmaW5lZCIsIiRjb3Jkb3ZhU1FMaXRlIiwiZGIiLCJzcWxpdGVQbHVnaW4iLCJvcGVuREIiLCJvcGVuRGF0YWJhc2UiLCJ0YWJsZURlZiIsIkFyZWEiLCJBcmVhX0Zpc2giLCJQcm9kdWN0IiwiQ291bnR5IiwiTXVuaWNpcGFsaXR5IiwiRmlzaCIsIlJ1bGUiLCJVc2VyX1Byb2R1Y3QiLCJVc2VyX0luZm8iLCJVc2VyX051bWJlciIsIlRlY2huaXF1ZSIsIk9yZ2FuaXphdGlvbiIsIlBvaSIsIlBvaV9UeXBlIiwiUG9seWdvbiIsImNyZWF0ZU9iamVjdCIsInJldHZhbCIsInJvd3MiLCJpdGVtIiwicG9wdWxhdGVUYWJsZSIsInRhYmxlIiwidHJhbnNhY3Rpb24iLCJ0eCIsImV4ZWN1dGVTcWwiLCJzaW5nbGVEYXRhIiwiaW5zZXJ0RGF0YSIsInF1ZXJ5IiwicmVwZWF0Iiwiam9pbiIsImNsZWFuVGFibGUiLCJjbGVhbiIsImluaXQiLCJ0YWJsZVZhbHVlcyIsImV4ZWN1dGUiLCJvYmplY3QiLCJ3YXJuIiwiYWlkIiwic2VhcmNoc3RyaW5nIiwiY291bnR5X2lkIiwiZ2V0UHJvZHVjdCIsInByb2R1Y3RfaWQiLCJhcmVhX2lkIiwicmVwbGFjZSIsIkxBU1RfVVBEQVRFIiwicG9wdWxhdGUiLCJhbGwiLCJmaXNoQXJyIiwiZmlzaEtleSIsImZpZCIsImFtb3VudCIsImNvbW1lbnQiLCJwb3B1bGF0ZVVzZXIiLCJudW1BcnIiLCJudW1iZXIiLCJjbGVhblVzZXIiLCJ1cGRhdGVGdW5jIiwiZm9yY2VkIiwiY3VycmVudFRpbWUiLCJsYXN0VXBkYXRlIiwiYVdlZWsiLCJ0ZXJtcyIsImxhc3RfdXBkYXRlIiwiZmFjdG9yeSIsIiR3aW5kb3ciLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsInNlcnZpY2UiLCJkaXJlY3RpdmUiLCIkY29yZG92YVNtcyIsIiRpb25pY1BvcHVwIiwicmVzdHJpY3QiLCJsaW5rIiwiYXR0cnMiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByb21wdCIsInRpdGxlIiwiaW5wdXRUeXBlIiwibmdDb3Jkb3ZhU21zIiwic2VuZCIsInRyYW5zY2x1ZGUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwibmdQYXR0ZXJuIiwibmdNb2RlbCIsIiRjb3Jkb3ZhSW5BcHBCcm93c2VyIiwib3BlbiIsImhyZWYiLCJ0YXJnZXQiLCJob3N0IiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiJBQUtBQSxRQUFBQyxPQUFBLFVBQ0EsUUFDQSxxQkFDQSxvQkFDQSxhQUNBLFlBQ0EsZUFDQSxnQkFDQSxpQkFDQSx5QkFDQSxZQUNBLGdCQUNBLGVBQ0EsYUFDQSxXQUNBLG9CQUNBLGdCQUdBQyxTQUFBLHVCQUNBQyxTQUFBLGdDQUdBQyxLQUFBLGlCQUFBLFNBQUEsV0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBRyxNQUFBLFdBRUFDLE9BQUFDLE9BQUFELE9BQUFDLE1BQUFDLFVBQ0FGLE9BQUFDLE1BQUFDLFNBQUFDLDBCQUFBLEdBRUFILE9BQUFJLFdBRUFKLE9BQUFJLFVBQUFDLGVBR0FQLEVBQUFRLFFBQ0FULEVBQUFVLGNBSUFDLFFBQ0EsaUJBQ0EscUJBQ0EsdUJBQ0EsbUJBQ0EsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUEsRUFBQUMsWUFDQUMsT0FBQSxFQUNBQyxvQkFBQSxJQUVBSCxFQUFBSSxZQUFBLEVBSUFMLEVBQUFNLE1BQUFDLGNBQUEsR0FHQVAsRUFBQVEsV0FBQUMsbUJBQUEsR0FBQUMsS0FBQSxJQUdBVixFQUFBVyxLQUFBQyxTQUFBLFNBT0EsSUFBQUMsR0FBQSxZQUNBeEIsUUFBQXlCLGFBQUFDLFFBQUEsYUFDQUYsRUFBQSxhQUVBZCxFQUFBaUIsVUFBQUgsR0FJQWYsRUFFQW1CLE1BQUEsT0FDQUMsSUFBQSxPQUVBQyxZQUFBLDRCQUNBQyxXQUFBLGFBR0FILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGNBSUFILE1BQUEsZUFDQUMsSUFBQSxXQUNBQyxZQUFBLGtDQUNBQyxXQUFBLGdCQUVBSCxNQUFBLDRCQUNBQyxJQUFBLGdCQUNBQyxZQUFBLHlDQUVBRixNQUFBLDZCQUNBQyxJQUFBLGlCQUNBQyxZQUFBLDBDQUlBRixNQUFBLGdCQUNBQyxJQUFBLFlBQ0FDLFlBQUEs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VCxPQUFBcVQsYUFLQSxNQURBblEsU0FBQUMsSUFBQSx1Q0FDQTZQLENBSkFFLEdBQUFsVCxPQUFBcVQsYUFDQSxnQkFBQSxNQUFBLGFBQUEsVUFNQSxHQUFBQyxJQUNBQyxPQUNBLEtBQUEsUUFDQSxRQUFBLFFBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsTUFBQSxTQUNBLE1BQUEsU0FDQSxPQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsU0FDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLElBQUEsU0FFQUMsWUFDQSxLQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxTQUFBLFFBQ0EsVUFBQSxTQUVBQyxVQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLFFBQUEsUUFDQSxNQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsU0FFQUMsU0FDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxJQUFBLFNBRUFDLGVBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxPQUFBLFNBRUFDLE9BQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsTUFBQSxRQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsT0FBQSxTQUNBLE1BQUEsU0FDQSxLQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxNQUFBLFNBQ0EsTUFBQSxTQUVBQyxPQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FFQUMsZUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLE9BQUEsUUFDQSxLQUFBLFFBQ0EsV0FBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFFBQ0EsT0FBQSxRQUNBLElBQUEsU0FDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEs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T0FBQSxvQkFDQWtZLFVBQUEsaUJBQUEsdUJBQUEsU0FBQW1CLEdBQ0EsWUFDQSxRQUNBaEIsU0FBQSxJQUNBQyxLQUFBLFNBQUE1USxFQUFBNEgsR0FDQUEsRUFBQWtKLEdBQUEsUUFBQSxTQUFBQyxHQUNBWSxFQUFBQyxLQUFBaEssRUFBQSxHQUFBaUssS0FBQSxXQUNBZCxFQUFBQyx3QkFLQVIsVUFBQSx1QkFBQSx1QkFBQSxTQUFBbUIsR0FDQSxZQUNBLFFBQ0FoQixTQUFBLElBQ0FDLEtBQUEsU0FBQTVRLEVBQUE0SCxHQUNBQSxFQUFBa0osR0FBQSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFlLE9BQUFELE1BQUFkLEVBQUFlLE9BQUFDLE9BQUFqWixPQUFBa1osU0FBQUQsT0FDQUosRUFBQUMsS0FBQWIsRUFBQWUsT0FBQUQsS0FBQSxXQUNBZCxFQUFBQyIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdpZmlza2UnIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ2lmaXNrZS5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcblxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZScsIFtcbiAgICAnaW9uaWMnLFxuICAgICdpZmlza2UuY29udHJvbGxlcnMnLFxuICAgICdpZmlza2UuZGlyZWN0aXZlcycsXG4gICAgJ2lmaXNrZS5hcGknLFxuICAgICdpZmlza2UuZGInLFxuICAgICdpZmlza2UudXRpbHMnLFxuICAgICdpZmlza2UudXBkYXRlJyxcbiAgICAnaWZpc2tlLmZpbHRlcnMnLFxuICAgICdpb25pYy5pb24uaGVhZGVyU2hyaW5rJyxcbiAgICAnbmdDb3Jkb3ZhJyxcbiAgICAnc3lzdGVtQnJvd3NlcicsXG4gICAgJ25nQ29yZG92YVNtcycsXG4gICAgJ25nTWVzc2FnZXMnLFxuICAgICdJbWdDYWNoZScsXG4gICAgJ2xlYWZsZXQtZGlyZWN0aXZlJyxcbiAgICAndGFiU2xpZGVCb3gnXG5dKVxuXG4gICAgLmNvbnN0YW50KCckaW9uaWNMb2FkaW5nQ29uZmlnJywge1xuXHR0ZW1wbGF0ZTogJzxpb24tc3Bpbm5lcj48L2lvbi1zcGlubmVyPidcblx0Ly8gaGlkZU9uU3RhdGVDaGFuZ2U6IHRydWVcbiAgICB9KVxuICAgIC5ydW4oWyckaW9uaWNQbGF0Zm9ybScsICdVcGRhdGUnLCAnSW1nQ2FjaGUnLCBmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlLCBJbWdDYWNoZSkge1xuXHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkIGZvciBmb3JtIGlucHV0c1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pb25pYyAmJiB3aW5kb3cuaW9uaWMuS2V5Ym9hcmQpIHtcblx0XHR3aW5kb3cuaW9uaWMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5TdGF0dXNCYXIpIHtcblx0XHQvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG5cdFx0d2luZG93LlN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgSW1nQ2FjaGUuJGluaXQoKTtcbiAgICAgICAgICAgIFVwZGF0ZS51cGRhdGUoKTtcblx0fSk7XG4gICAgfV0pXG5cbiAgICAuY29uZmlnKFtcblx0JyRzdGF0ZVByb3ZpZGVyJyxcblx0JyR1cmxSb3V0ZXJQcm92aWRlcicsXG5cdCckaW9uaWNDb25maWdQcm92aWRlcicsXG5cdCdJbWdDYWNoZVByb3ZpZGVyJyxcblx0ZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIEltZ0NhY2hlUHJvdmlkZXIpIHtcblxuXHQgICAgSW1nQ2FjaGVQcm92aWRlci5zZXRPcHRpb25zKHtcblx0XHRkZWJ1ZzogdHJ1ZSxcblx0XHR1c2VQZXJzaXN0ZW50Q2FjaGU6IHRydWVcblx0ICAgIH0pO1xuXHQgICAgSW1nQ2FjaGVQcm92aWRlci5tYW51YWxJbml0ID0gdHJ1ZTtcblxuXG5cdCAgICAvLyBDYWNoZSB2aWV3cyBpbiB0aGUgZm9yd2FyZCBzdGFja1xuXHQgICAgJGlvbmljQ29uZmlnUHJvdmlkZXIudmlld3MuZm9yd2FyZENhY2hlKHRydWUpO1xuXG5cdCAgICAvLyBDbGVhciBiYWNrIGJ1dHRvbiBkZWZhdWx0IHRleHRcblx0ICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLmJhY2tCdXR0b24ucHJldmlvdXNUaXRsZVRleHQoZmFsc2UpLnRleHQoJycpO1xuXG5cdCAgICAvLyBUYWJzIHBvc2l0aW9uXG5cdCAgICAkaW9uaWNDb25maWdQcm92aWRlci50YWJzLnBvc2l0aW9uKCdib3R0b20nKTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIuIExlYXJuIG1vcmUgaGVyZTpcblx0ICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuXHQgICAgICovXG5cblx0ICAgIHZhciBkZWZhdWx0VXJsID0gJy9hcHAvbG9naW4nO1xuXHQgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpKSB7XG5cdFx0ZGVmYXVsdFVybCA9ICcvYXBwL2hvbWUnO1xuXHQgICAgfVxuXHQgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShkZWZhdWx0VXJsKTtcblxuXG5cblx0ICAgICRzdGF0ZVByb3ZpZGVyXG5cblx0XHQuc3RhdGUoJ2FwcCcsIHtcblx0XHQgICAgdXJsOiAnL2FwcCcsXG5cdFx0ICAgIC8vYWJzdHJhY3Q6IHRydWUsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tZW51L21lbnUuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW51Q3RybCdcblx0XHR9KVxuXG5cdFx0LnN0YXRlKCdhcHAubG9naW4nLCB7XG5cdFx0ICAgIHVybDogJy9sb2dpbicsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sb2dpbi9sb2dpbi5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcblx0XHR9KVxuXG5cdCAgICAvLyBBY2NvdW50IHJlY292ZXJ5XG5cdFx0LnN0YXRlKCdhcHAucmVjb3ZlcicsIHtcblx0XHQgICAgdXJsOiAnL3JlY292ZXInLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVjb3Zlci9yZWNvdmVyLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnUmVjb3ZlckN0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5yZWNvdmVyLmxvc3RwYXNzd29yZCcsIHtcblx0XHQgICAgdXJsOiAnL2xvc3RwYXNzd29yZCcsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWNvdmVyL2xvc3RwYXNzd29yZC5odG1sJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAucmVjb3Zlci5yZXNldHBhc3N3b3JkJywge1xuXHRcdCAgICB1cmw6ICcvcmVzZXRwYXNzd29yZCcsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWNvdmVyL3Jlc2V0cGFzc3dvcmQuaHRtbCdcblx0XHR9KVxuXHQgICAgXG5cdCAgICAvLyBBY2NvdW50IHJlZ2lzdHJhdGlvblxuXHRcdC5zdGF0ZSgnYXBwLnJlZ2lzdGVyJywge1xuXHRcdCAgICB1cmw6ICcvcmVnaXN0ZXInLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5yZWdpc3Rlci5kZXRhaWxzJywge1xuXHRcdCAgICB1cmw6ICcvZGV0YWlscycsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlcl9kZXRhaWxzLmh0bWwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5yZWdpc3Rlci52ZXJpZnknLCB7XG5cdFx0ICAgIHVybDogJy92ZXJpZnknLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfdmVyaWZ5Lmh0bWwnXG5cdFx0fSlcblx0ICAgIFxuXHQgICAgLy9cblx0XHQuc3RhdGUoJ2FwcC5ob21lJywge1xuXHRcdCAgICB1cmw6ICcvaG9tZScsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lL2hvbWUuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdIb21lQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLmluZm8nLCB7XG5cdFx0ICAgIHVybDogJy9pbmZvJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2luZm8vaW5mby5odG1sJ1xuXHRcdH0pXG5cblx0XHQuc3RhdGUoJ2FwcC5idWdzJywge1xuXHRcdCAgICB1cmw6ICcvaW5mbycsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tZW51L3JlcG9ydC5odG1sJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuY29udGFjdCcsIHtcblx0XHQgICAgdXJsOiAnL2NvbnRhY3QnLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY29udGFjdC9jb250YWN0Lmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ29udGFjdEN0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5sZWdhbCcsIHtcblx0XHQgICAgdXJsOiAnL2xlZ2FsJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xlZ2FsL2xlZ2FsLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnTGVnYWxDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuYWJvdXQnLCB7XG5cdFx0ICAgIHVybDogJy9hYm91dCcsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hYm91dC9hYm91dC5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ0Fib3V0Q3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLnVzZXJpbmZvJywge1xuXHRcdCAgICB1cmw6ICcvdXNlcmluZm8nLFxuXHRcdCAgICBjb250cm9sbGVyOiAnVXNlckN0cmwnLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdXNlci91c2VyLmh0bWwnLFxuXHRcdH0pXG5cblx0XHQuc3RhdGUoJ2FwcC5jb3VudGllcycsIHtcblx0XHQgICAgdXJsOiAnL2NvdW50aWVzJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2NvdW50aWVzL2NvdW50aWVzLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ291bnRpZXNDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuYXJlYXMnLCB7XG5cdFx0ICAgIHVybDogJy9hcmVhcycsXG5cdFx0ICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAnY291bnR5JzogZmFsc2UsICdzZWFyY2gnOiAnJ30sXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhX2xpc3QvYXJlYV9saXN0Lmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQXJlYXNDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuY2FyZHMnLCB7XG5cdFx0ICAgIHVybDogJy9jYXJkcycsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyX2NhcmRzL3VzZXJfY2FyZHMuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdVc2VyQ2FyZHNDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuZmF2b3JpdGVzJywge1xuXHRcdCAgICB1cmw6ICcvZmF2b3JpdGVzJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zhdm9yaXRlcy9mYXZvcml0ZXMuaHRtbCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLmZpc2hlcycsIHtcblx0XHQgICAgdXJsOiAnL2Zpc2hlcycsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9maXNoZXMvZmlzaGVzLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnRmlzaGVzQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLmZpc2hkZXRhaWwnLCB7XG5cdFx0ICAgIHVybDogJy9maXNoZGV0YWlsLzppZCcsXG5cdFx0ICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAnZmlzaCc6IGZhbHNlfSxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnRmlzaERldGFpbEN0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5tYXAnLCB7XG5cdFx0ICAgIHVybDogJy9tYXAnLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWFwL21hcC5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ01hcEN0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC50ZWNobmlxdWVzJywge1xuXHRcdCAgICB1cmw6ICcvdGVjaG5pcXVlcycsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVzL3RlY2huaXF1ZXMuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVzQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLnRlY2huaXF1ZWRldGFpbCcsIHtcblx0XHQgICAgdXJsOiAnL3RlY2huaXF1ZWRldGFpbC86aWQnLFxuXHRcdCAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ3RlY2gnOiBmYWxzZX0sXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVEZXRhaWxDdHJsJ1xuXHRcdH0pXG5cdCAgICAvKi5zdGF0ZSgnYXBwLnJlcG9ydCcsIHtcblx0ICAgICAgdXJsOiAnL3JlcG9ydCcsXG5cdCAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZXBvcnQvcmVwb3J0Lmh0bWwnXG5cdCAgICAgIH0pKi9cblxuXHRcdC5zdGF0ZSgnYXBwLmFyZWEnLCB7XG5cdFx0ICAgIHVybDogJy9hcmVhLzppZCcsXG5cdFx0ICAgIHZpZXdzOiB7XG5cdFx0XHQnQGFwcCc6IHtcblx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9hcmVhLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdBcmVhQ3RybCcsXG5cdFx0XHR9LFxuXHRcdFx0J2luZm9AYXBwLmFyZWEnOiB7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvaW5mby5odG1sJ1xuXHRcdFx0fSxcblx0XHRcdCdtYXBAYXBwLmFyZWEnOiB7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvbWFwLmh0bWwnXG5cdFx0XHR9LFxuXHRcdFx0J2Zpc2hpbmZvQGFwcC5hcmVhJzoge1xuXHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2Zpc2guaHRtbCdcblx0XHRcdH0sXG5cdFx0XHQnY2FyZHNAYXBwLmFyZWEnOiB7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvY2FyZHMuaHRtbCdcblx0XHRcdH1cblx0XHQgICAgfVxuXHRcdH0pO1xuXHR9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnLCBbXSk7XG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRpcmVjdGl2ZXMnLCBbXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignQWJvdXRDdHJsJywgWyckc2NvcGUnLCckY29yZG92YUFwcFZlcnNpb24nLCAnJGlvbmljUGxhdGZvcm0nLCAnVXBkYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkY29yZG92YUFwcFZlcnNpb24sICRpb25pY1BsYXRmb3JtLCBVcGRhdGUpIHtcblx0JHNjb3BlLnZlcnNpb24gPSAkc2NvcGUuZGJEYXRlID0gJ09rw6RudCc7XG4gICAgJHNjb3BlLnVwZGF0ZSA9IFVwZGF0ZTtcblxuXHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcblx0ICAgIGlmICh3aW5kb3cuY29yZG92YSkge1xuXHRcdCRjb3Jkb3ZhQXBwVmVyc2lvbi5nZXRBcHBWZXJzaW9uKCkudGhlbihmdW5jdGlvbih2ZXJzaW9uKSB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKCdpRmlza2UgdmVyc2lvbjonLCB2ZXJzaW9uKTtcblx0XHQgICAgJHNjb3BlLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdH0pO1xuXHQgICAgfVxuXHR9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckaW9uaWNIaXN0b3J5JyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAnJHN0YXRlUGFyYW1zJyxcbiAgICAnREInLFxuICAgICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgICAnJGlvbmljTW9kYWwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGlvbmljSGlzdG9yeSwgbG9jYWxTdG9yYWdlLCAgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSwgJGlvbmljTW9kYWwpIHtcbiAgICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgICAgIGNlbnRlcjoge31cbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcblxuICAgICAgICB2YXIgaWNvbnMgPSB7fTtcblxuICAgICAgICAvLyBBcmVhaW5mb1xuICAgICAgICBEQi5nZXRBcmVhKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oYXJlYSkge1xuICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBhcmVhLmxhdCxcbiAgICAgICAgICAgICAgICBsbmc6IGFyZWEubG5nLFxuICAgICAgICAgICAgICAgIHpvb206IE51bWJlcihhcmVhLnpvb20pID8gTnVtYmVyKGFyZWEuem9vbSkgOiA5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLmltYWdlcyA9IGFyZWEuaW1hZ2VzO1xuXG4gICAgICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgJHNjb3BlLmFyZWEgPSBhcmVhO1xuXG4gICAgICAgICAgICBEQi5nZXRPcmdhbml6YXRpb24oYXJlYS5vcmdpZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKG9yZykge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcmcgPSBvcmc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIERCLmdldFBvaVR5cGVzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvaV90eXBlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pX3R5cGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcG9pX3R5cGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpY29uc1t0eXBlLklEXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdodHRwOi8vd3d3LmlmaXNrZS5zZS8nICsgdHlwZS5pY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE2LCAzN10sIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtMzVdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBEQi5nZXRQb2lzKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9pcykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMgPSBwb2lzLm1hcChmdW5jdGlvbihwb2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdwb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHBvaS5sYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHBvaS5sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29uc1twb2kudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcG9pLnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3BvaXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBhcmVhLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogYXJlYS5sbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBhcmVhLnRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBEQi5nZXRQb2x5Z29ucyhhcmVhLm9yZ2lkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvbHlnb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAucGF0aHMgPSBwb2x5Z29ucy5tYXAoZnVuY3Rpb24ocG9seSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRsbmdzOiBKU09OLnBhcnNlKCdbJyArIHBvbHkucG9seSArICddJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHBvbHkuYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogcG9seS5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5Z29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgREIuZ2V0QXJlYUZpc2hlcygkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpc2hlcykge1xuICAgICAgICAgICAgJHNjb3BlLmZpc2hlcyA9IGZpc2hlcztcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBEQi5nZXRQcm9kdWN0c0J5QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdHMgPSBwcm9kdWN0cztcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBcmVhIGZpc2hlc1xuICAgICAgICAkc2NvcGUuc29ydG9yZGVyID0gJy1hbW91bnQnO1xuXG4gICAgICAgIC8vQXJlYV9DYXJkc1xuICAgICAgICAkc2NvcGUuc21zdGVybXMgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzbXNfdGVybXMnKTtcbiAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9ICdzbyc7XG5cbiAgICAgICAgLy9TTVMtbW9kYWxcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL2FyZWEvc21zX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuTW9kYWwgPSBmdW5jdGlvbihwcm9kdWN0KSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmNsb3NlTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2hvd1Rlcm1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gISRzY29wZS5zaG93aW5ndGVybXM7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93aW5ndGVybXMgPSBmYWxzZTtcblxuICAgICAgICAvL1J1bGVzIG1vZGFsXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmNsb3NlUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9NYXBcbiAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLm1hcCwge1xuICAgICAgICAgICAgbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgYmFzZWxheWVyczoge1xuICAgICAgICAgICAgICAgICAgICBvdXRkb29yczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1V0b21odXNrYXJ0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97bWFwdHlwZX0ve3p9L3t4fS97eX1AMngucG5nP2FjY2Vzc190b2tlbj17YXBpa2V5fScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXB0eXBlOiAnbWFwYm94Lm91dGRvb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2F0ZWxsaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2F0ZWxsaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3h5eicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQve21hcHR5cGV9L3t6fS97eH0ve3l9QDJ4LnBuZz9hY2Nlc3NfdG9rZW49e2FwaWtleX0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5zYXRlbGxpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaWtleTogJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdmVybGF5czoge1xuICAgICAgICAgICAgICAgICAgICBwb2lzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU3TDpGxsZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21hcmtlcmNsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dPblNlbGVjdG9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbTogOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua2VkTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kczogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGhzOiB7fVxuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScgLCdEQicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSAsREIpIHtcblxuICAgIHZhciBjb3B5ID0gJHN0YXRlUGFyYW1zLnNlYXJjaDtcbiAgICAkc2NvcGUuc2VhcmNoID0gY29weTtcbiAgICAkc2NvcGUuY291bnR5ID0gJHN0YXRlUGFyYW1zLmNvdW50eTtcbiAgICBEQi5zZWFyY2goJycsICRzdGF0ZVBhcmFtcy5pZClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuYXJlYXMgPSBkYXRhO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICAgICRzY29wZS5jbGVhclNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuc2VhcmNoID0gJyc7XG4gICAgfTtcbiAgICAkc2NvcGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbFRvcCgpO1xuICAgIH07XG5cbn1dKTtcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ29udGFjdEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICAkc2NvcGUuY29udGFjdEluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdjb250YWN0SW5mbycpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ291bnRpZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0Q291bnRpZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmNvdW50aWVzID0gZGF0YTtcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0Zpc2hEZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCKSB7XG4gICAgJHNjb3BlLmZpc2ggPSAkc3RhdGVQYXJhbXMuZmlzaDtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgIGlmKCEkc2NvcGUuZmlzaCkge1xuICAgICAgICBEQi5nZXRGaXNoKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmZpc2ggPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKCRzY29wZS5maXNoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJHNjb3BlLmZpc2gpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignRmlzaGVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgREIuZ2V0RmlzaGVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRzY29wZS5maXNoZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGVmYXVsdF9pbWcgPSBkYXRhWzBdLmltZztcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNIaXN0b3J5JyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNIaXN0b3J5LCBsb2NhbFN0b3JhZ2UsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAgICAgLy8gQ3VycmVudCBoaXN0b3J5IHN0YWNrIElkLiBTZWUgYXJlYV9jb250cm9sbGVyIGZvciB1c2FnZS5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnaG9tZUhpc3RvcnlJZCcsICRpb25pY0hpc3RvcnkuY3VycmVudEhpc3RvcnlJZCgpKTtcblxuICAgICAgICAkc2NvcGUubXlGdW5jID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICBpZigkZXZlbnQua2V5Q29kZSA9PSAxMyAmJiAhJGV2ZW50LnNoaWZ0S2V5KSB7IC8vaWYgZW50ZXIta2V5XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJlYXMnLCB7c2VhcmNoOiAkZXZlbnQuc3JjRWxlbWVudC52YWx1ZX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdMZWdhbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICRzY29wZS50b3MgPSBsb2NhbFN0b3JhZ2UuZ2V0KCd0b3MnKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBbXG5cdCckc2NvcGUnLCBcblx0JyRzdGF0ZScsIFxuXHQnVXBkYXRlJywgXG5cdCckaW9uaWNMb2FkaW5nJywgXG5cdCckaW9uaWNIaXN0b3J5JywgXG5cdCckaW9uaWNWaWV3U3dpdGNoZXInLCBcblx0ZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIFVwZGF0ZSwgJGlvbmljTG9hZGluZywgJGlvbmljSGlzdG9yeSwgJGlvbmljVmlld1N3aXRjaGVyKSB7XG5cblx0ICAgIC8qKlxuXHQgICAgICogc2lnbkluXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgbG9naW4gZm9ybS4gVmFsaWRhdGVzIGxvZ2luIGlucHV0LiBcblx0ICAgICAqIE1vdmVzIHRvIGhvbWUgdmlldyBvbiBzdWNjZXNzZnVsIGxvZ2luLlxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24obG9naW5Gb3JtKSB7XG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0XHRVcGRhdGUudXNlcl9sb2dpbihsb2dpbkZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZSwgbG9naW5Gb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdFx0bG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgdHJ1ZSk7XG5cdFx0XHQkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignZm9yd2FyZCcpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuaG9tZScpO1xuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0XHRsb2dpbkZvcm0uJHNldFZhbGlkaXR5KFwibG9naW5FcnJvclwiLCBmYWxzZSk7XG5cdFx0XHQkc2NvcGUuZXJyb3IgPSBlcnJvci5yZXNwb25zZTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cdCAgICAvKiogXG5cdCAgICAgKiBza2lwXG5cdCAgICAgKiBTa2lwcyB0byB0aGUgaG9tZSB2aWV3LiBGb3JjZXMgZm9yd2FyZCB0cmFuc2l0aW9uIGFuZCBzZXRzIGhvbWUgYXMgcm9vdCB2aWV3LlxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2tpcCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRpb25pY1ZpZXdTd2l0Y2hlci5uZXh0RGlyZWN0aW9uKCdmb3J3YXJkJyk7XG5cdFx0JGlvbmljSGlzdG9yeS5uZXh0Vmlld09wdGlvbnMoXG5cdFx0ICAgIHtcblx0XHRcdGRpc2FibGVCYWNrOiB0cnVlLFxuXHRcdFx0aGlzdG9yeVJvb3Q6IHRydWVcblx0XHQgICAgfSk7XG5cdFx0JHN0YXRlLmdvKCdhcHAuaG9tZScpO1xuXHQgICAgfTtcblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWFwQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnbGVhZmxldERhdGEnLFxuICAgICdEQicsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgREIpIHtcbiAgICAgICAgREIuc2VhcmNoKCcnKS50aGVuKGZ1bmN0aW9uKGFyZWFzKSB7XG4gICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IGFyZWFzLm1hcChmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdmaXNoYXJlYXMnLFxuICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0LFxuICAgICAgICAgICAgICAgICAgICBsbmc6IGEubG5nLFxuICAgICAgICAgICAgICAgICAgICBnZXRNZXNzYWdlU2NvcGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld19zY29wZSA9ICRzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfc2NvcGUuYXJlYSA9IGE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3X3Njb3BlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGEgdWktc3JlZj1cIm1lbnUuYXJlYSh7aWQ6IGFyZWEuSUQgfSlcIj57e2FyZWEudH19PC9hPidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICAgIGxhdDogNjIuMCxcbiAgICAgICAgICAgICAgICBsbmc6IDE1LjAsXG4gICAgICAgICAgICAgICAgem9vbTogNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxheWVyczoge1xuICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ZG9vcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVdG9taHVza2FydGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3h5eicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQve21hcHR5cGV9L3t6fS97eH0ve3l9QDJ4LnBuZz9hY2Nlc3NfdG9rZW49e2FwaWtleX0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5vdXRkb29ycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiAncGsuZXlKMUlqb2liV0ZwYzNSb2J5SXNJbUVpT2lJM1VtczVSMEl3SW4wLkRPaFU4MWNsSExFaFRqODFESU9qZGcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNhdGVsbGl0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NhdGVsbGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3guc2F0ZWxsaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlzaGFyZWFzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRmlza2VvbXLDpWRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFya2VyY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09uU2VsZWN0b3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiA5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWVudUN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRpb25pY1ZpZXdTd2l0Y2hlcicsXG4gICAgJyRpb25pY1BvcG92ZXInLFxuICAgICdzZXNzaW9uRGF0YScsXG4gICAgJ1VwZGF0ZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY1ZpZXdTd2l0Y2hlciwgJGlvbmljUG9wb3Zlciwgc2Vzc2lvbkRhdGEsIFVwZGF0ZSkge1xuXG4gICAgJHNjb3BlLnNlc3Npb25EYXRhID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAkaW9uaWNQb3BvdmVyLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9tZW51L3BvcG92ZXIuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24ocG9wb3Zlcikge1xuICAgICAgICAkc2NvcGUucG9wb3ZlciA9IHBvcG92ZXI7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXNlcmluZm8gPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ2FwcC51c2VyaW5mbycpO1xuICAgIH07XG4gICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdFVwZGF0ZS51c2VyX2xvZ291dCgpO1xuXG5cdCRzdGF0ZS5nbygnYXBwLmxvZ2luJyk7XG4gICAgfTtcbiAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignYmFjaycpO1xuXHQkc3RhdGUuZ28oJ2FwcC5sb2dpbicpO1xuICAgIH07XG4gICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG5cdCRzY29wZS5wb3BvdmVyLmhpZGUoKTtcblx0JHN0YXRlLmdvKCdhcHAucmVnaXN0ZXIuZGV0YWlscycpO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFVwZGF0ZS5mb3JjZWRVcGRhdGUoKTtcbiAgICB9O1xuXG59XSk7XG4iLCJcbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdSZWNvdmVyQ3RybCcsIFtcblx0JyRzY29wZScsXG5cdCckc3RhdGUnLFxuXHQnJGlvbmljSGlzdG9yeScsXG5cdCckaW9uaWNQbGF0Zm9ybScsXG5cdCckaW9uaWNMb2FkaW5nJyxcblx0JyRjb3Jkb3ZhVG9hc3QnLFxuXHQnQVBJJyxcblx0ZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0hpc3RvcnksICRpb25pY1BsYXRmb3JtLCAkaW9uaWNMb2FkaW5nLCAkY29yZG92YVRvYXN0LCBBUEkpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgXG5cdCAgICB2YXIgdXNlciA9IFwiXCI7XG5cdCAgICBcblx0ICAgIC8qKlxuXHQgICAgICogc2tpcFxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHNraXAgYnV0dG9uXG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5za2lwID0gZnVuY3Rpb24oKSB7XG5cdFx0JHNjb3BlLmluZm8gPSBcIlwiO1xuXHRcdCRzdGF0ZS5nbygnXi5yZXNldHBhc3N3b3JkJyk7XG5cdCAgICB9O1xuXHQgICAgXG5cblx0ICAgIC8qKlxuXHQgICAgICogbG9zdFBhc3N3b3JkXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgZmlyc3QgZm9ybVxuXHQgICAgICovXG5cdCAgICAkc2NvcGUubG9zdFBhc3N3b3JkID0gZnVuY3Rpb24oZm9ybSkge1xuXG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cdFx0XG5cdFx0dXNlciA9IGZvcm0udXNlci4kdmlld1ZhbHVlO1xuXHRcdEFQSS51c2VyX2xvc3RfcGFzc3dvcmQodXNlcilcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XG5cdFx0XHQvLyBTZXQgaW5mbyBtZXNzYWdlIGZvciBuZXh0IHZpZXdcblx0XHRcdCRzY29wZS5pbmZvID0gJ0VuIMOldGVyc3TDpGxsbmluZ3Nrb2Qga29tbWVyIHNraWNrYXMgdGlsbCBkaWcgaW5vbSBrb3J0LCB2aWEgJztcdFx0XHRcblx0XHRcdGlmIChkYXRhLm1haWxlZCkge1xuXHRcdFx0ICAgICRzY29wZS5pbmZvICs9ICdlLW1haWwnO1xuXHRcdFx0ICAgIGlmIChkYXRhLnRleHRlZCkge1xuXHRcdFx0XHQkc2NvcGUuaW5mbyArPSAnIG9jaCAnO1xuXHRcdFx0ICAgIH1cblx0XHRcdH1cblx0XHRcdGlmIChkYXRhLnRleHRlZCkge1xuXHRcdFx0ICAgICRzY29wZS5pbmZvICs9ICdzbXMnO1xuXHRcdFx0fVxuXHRcdFx0JHNjb3BlLmluZm8gKz0gJy4nO1xuXHRcdFxuXHRcdFx0JHN0YXRlLmdvKCdeLnJlc2V0cGFzc3dvcmQnKTtcblxuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0Ly9Ub0RvOiBoYW5kbGUgdGltZW91dD9cblx0XHRcdC8vVG9EbzogY2hlY2sgZXJyb3IgY29kZXNcblx0XHRcdGZvcm0udXNlci4kc2V0VmFsaWRpdHkoJ2ludmFsaWRVc2VyJywgZmFsc2UpO1xuXHRcdCAgICB9KVxuXHRcdCAgICAuZmluYWxseSgkaW9uaWNMb2FkaW5nLmhpZGUpO1xuXHQgICAgfTtcblxuXG5cdCAgICAvKipcblx0ICAgICAqIHJlc2V0UGFzc3dvcmRcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciBzZWNvbmQgZm9ybVxuXHQgICAgICpcblx0ICAgICAqIFRvRG86IGxvZyBpbiBpbW1lZGlhdGVseT9cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnJlc2V0UGFzc3dvcmQgPSBmdW5jdGlvbihmb3JtKSB7XG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0XHRBUEkudXNlcl9yZXNldF9wYXNzd29yZCh1c2VyLCBmb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWUsIGZvcm0uY29kZS4kdmlld1ZhbHVlKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcblx0XHRcdC8vIFN1Y2Nlc3MgdG9hc3Rcblx0XHRcdCRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgICRjb3Jkb3ZhVG9hc3Quc2hvd0xvbmdCb3R0b20oJ0RpdHQgbMO2c2Vub3JkIGhhciDDpG5kcmF0cycpO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBOYXZpZ2F0ZSB0byBjdXJyZW50IGhpc3Rvcnkgcm9vdFxuXHRcdFx0JGlvbmljSGlzdG9yeS5nb1RvSGlzdG9yeVJvb3QoJGlvbmljSGlzdG9yeS5jdXJyZW50VmlldygpLmhpc3RvcnlJZCk7XHRcblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRcdC8vVG9EbzogY2hlY2sgZXJyb3IgY29kZVxuXHRcdFx0Ly8gNTogbm8gc3VjaCB1c2VyXG5cdFx0XHQvLyAxMzogcGFzc3dvcmQgbGVuZ3RoXG5cdFx0XHQvLyAxNjogaW52YWxpZC9leHBpcmVkIHJlc2V0IGNvZGVcblx0XHQgICAgfSlcblx0XHQgICAgLmZpbmFsbHkoJGlvbmljTG9hZGluZy5oaWRlKTtcblx0ICAgIH07XG5cdH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBbXG5cdCckc2NvcGUnLFxuXHQnJHN0YXRlJyxcblx0JyRpb25pY0xvYWRpbmcnLFxuXHQnJGlvbmljTW9kYWwnLFxuXHQnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuXHQnQVBJJyxcblx0J2xvY2FsU3RvcmFnZScsXG5cdGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNMb2FkaW5nLCAkaW9uaWNNb2RhbCwgJGlvbmljU2Nyb2xsRGVsZWdhdGUsIEFQSSwgbG9jYWxTdG9yYWdlKSB7XG5cblx0ICAgIHZhciB1c2VybmFtZTtcblxuXHQgICAgLy8gTGl2ZSBjaGVjayBmb3IgdXNlcm5hbWUgYXZhaWxhYmlsaXR5XG5cdCAgICAkc2NvcGUuY2hlY2tVc2VybmFtZSA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0QVBJLnVzZXJfZXhpc3RzKGlucHV0LiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGlucHV0LiRzZXRWYWxpZGl0eSgnbmFtZVRha2VuJywgIWRhdGEpO1xuXHRcdCAgICB9KTtcblx0ICAgIH07XG5cblx0ICAgIC8vIExpdmUgY2hlY2sgZm9yIGVtYWlsIGF2YWlsYWJpbGl0eVxuXHQgICAgJHNjb3BlLmNoZWNrRW1haWwgPSBmdW5jdGlvbihpbnB1dCkge1xuXHRcdEFQSS51c2VyX2V4aXN0cyhudWxsLCBpbnB1dC4kdmlld1ZhbHVlKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRpbnB1dC4kc2V0VmFsaWRpdHkoJ2VtYWlsVGFrZW4nLCAhZGF0YSk7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXG5cdCAgICAvLyBWYWxpZGF0aW9uIGVycm9ycyBub3QgdGllZCB0byBpbnB1dCBmaWVsZFxuXHQgICAgJHNjb3BlLmZvcm1FcnJvcnMgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiByZWdpc3RlclxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHRoZSByZWdpc3RyYXRpb24gZm9ybVxuXHQgICAgICovXG5cdCAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbihmb3JtKSB7XG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0XHQvLyBTYXZlIHBob25lIG51bWJlciBmb3IgbmV4dCB2aWV3XG5cdFx0JHNjb3BlLnBob25lID0gZm9ybS5waG9uZS4kdmlld1ZhbHVlO1xuXG5cdFx0Ly8gU2F2ZSB1c2VybmFtZSBmb3IgdmVyaWZ5IHN1Ym1pdCBoYW5kbGVyXG5cdFx0dXNlcm5hbWUgPSBmb3JtLnVzZXJuYW1lLiR2aWV3VmFsdWU7XG5cblx0XHR2YXIgcGFzc3dvcmQgPSBmb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWU7XG5cdFx0dmFyIGZ1bGxuYW1lID0gZm9ybS5mdWxsbmFtZS4kdmlld1ZhbHVlO1xuXHRcdHZhciBlbWFpbCA9IGZvcm0uZW1haWwuJHZpZXdWYWx1ZTtcblxuXHRcdEFQSS51c2VyX3JlZ2lzdGVyKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCAkc2NvcGUucGhvbmUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdC8vIFN1Y2Nlc3M6IEdvIHRvIHZlcmlmeSBhY2NvdW50IHZpZXdcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdFx0JHN0YXRlLmdvKCdeLnZlcmlmeScpO1xuXG5cdFx0ICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHQvKipcblx0XHRcdCAqIEVycm9yOiBJbmZvcm0gdGhlIHVzZXIgYWJvdXQgZmFpbGVkIHJlZ2lzdHJhdGlvblxuXHRcdFx0ICogU2VlIEFQSSBkb2N1bWVudGF0aW9uIGZvciBlcnJvciBjb2Rlc1xuXHRcdFx0ICogXG5cdFx0XHQgKiBUb0RvOiBIYW5kbGUgdGltZW91dFxuXHRcdFx0ICovXG5cdFx0XHQkc2NvcGUuZm9ybUVycm9ycy5yZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG5cdFx0XHQkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUb3AodHJ1ZSk7XG5cblx0XHRcdC8vIEludmFsaWQgRW1haWxcblx0XHRcdGlmIChlcnJvci5lcnJvcl9jb2RlID09IDgpIHtcblx0XHRcdCAgICBmb3JtLmVtYWlsLiRzZXRWYWxpZGl0eSgnaW52YWxpZEVtYWlsJywgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXNlcm5hbWUgb3IgRW1haWwgYWxyZWFkeSByZWdpc3RlcmVkXG5cdFx0XHRpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSA5KSB7XG5cdFx0XHQgICAgJHNjb3BlLmNoZWNrVXNlcm5hbWUoZm9ybS51c2VybmFtZSk7XG5cdFx0XHQgICAgJHNjb3BlLmNoZWNrRW1haWwoZm9ybS5lbWFpbCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBJbnZhbGlkIHBob25lIG51bWJlclxuXHRcdFx0aWYgKGVycm9yLmVycm9yX2NvZGUgPT0gMTApIHtcblx0XHRcdCAgICBmb3JtLnBob25lLiRzZXRWYWxpZGl0eSgnaW52YWxpZFBob25lJywgZmFsc2UpO1xuXHRcdFx0fVxuXG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cblx0ICAgIC8qKlxuXHQgICAgICogdmVyaWZ5XG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgdGhlIHZlcmlmaWNhdGlvbiBmb3JtXG5cdCAgICAgKi9cblx0ICAgICRzY29wZS52ZXJpZnkgPSBmdW5jdGlvbihmb3JtKSB7XG5cdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XG5cblx0XHR2YXIgdmVyY29kZSA9IGZvcm0udmVyY29kZTtcblxuXHRcdEFQSS51c2VyX2NvbmZpcm0odXNlcm5hbWUsIHZlcmNvZGUuJHZpZXdWYWx1ZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0dmVyY29kZS4kc2V0VmFsaWRpdHkoXCJ2ZXJpZmllZFwiLCB0cnVlKTtcblx0XHRcdCRzdGF0ZS5nbygnc3RhcnQubG9naW4nKTtcblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdHZlcmNvZGUuJHNldFZhbGlkaXR5KFwidmVyaWZpZWRcIiwgZmFsc2UpO1xuXHRcdCAgICB9KVxuXHRcdCAgICAuZmluYWxseSgkaW9uaWNMb2FkaW5nLmhpZGUoKSk7XG5cdCAgICB9O1xuXG5cdCAgICAkc2NvcGUudG9zID0gbG9jYWxTdG9yYWdlLmdldCgndG9zJyk7XG5cdCAgICAvL01vZGFsIHdpdGggdGhlIEVVTEFcblx0ICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9yZWdpc3Rlci9ldWxhLmh0bWwnLCB7XG5cdFx0c2NvcGU6ICRzY29wZSxcblx0XHRhbmltYXRpb246ICdzbGlkZS1pbi11cCdcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcblx0XHQkc2NvcGUuZXVsYSA9IG1vZGFsO1xuXHQgICAgfSk7XG5cdCAgICAkc2NvcGUuc2hvd0V1bGEgPSBmdW5jdGlvbigpIHtcblx0XHQkc2NvcGUuZXVsYS5zaG93KCk7XG5cdCAgICB9O1xuXHQgICAgJHNjb3BlLmNsb3NlRXVsYSA9IGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5ldWxhLmhpZGUoKTtcblx0ICAgIH07XG5cdCAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5ldWxhLnJlbW92ZSgpO1xuXHQgICAgfSk7XG5cblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVGVjaG5pcXVlRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdEQicsICckaW9uaWNTbGlkZUJveERlbGVnYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCLCAkaW9uaWNTbGlkZUJveERlbGVnYXRlKSB7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICAkc2NvcGUudGVjaCA9ICRzdGF0ZVBhcmFtcy50ZWNoO1xuICAgICRzY29wZS5pbWFnZXMgPSBbXTtcblxuICAgIGlmKCEkc2NvcGUudGVjaCkge1xuICAgICAgICBEQi5nZXRUZWNobmlxdWUoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2VzID0gW2RhdGEuaW1nMSwgZGF0YS5pbWcyLCBkYXRhLmltZzNdLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhL1xcLyQvLnRlc3QoZWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgICAgICAgICAkc2NvcGUudGVjaCA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkYXRhID0gJHNjb3BlLnRlY2g7XG4gICAgICAgICRzY29wZS5pbWFnZXMgPSBbZGF0YS5pbWcxLCBkYXRhLmltZzIsIGRhdGEuaW1nM10uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gIS9cXC8kLy50ZXN0KGVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICB9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdUZWNobmlxdWVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFRlY2huaXF1ZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICRzY29wZS50ZWNobmlxdWVzID0gZGF0YTtcbiAgICB9KTtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFVzZXJJbmZvKClcbiAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICRzY29wZS51c2VyID0gdXNlcjtcbiAgICB9KTtcbiAgICBEQi5nZXRVc2VyTnVtYmVycygpXG4gICAgLnRoZW4oZnVuY3Rpb24obnVtYmVycykge1xuICAgICAgICAkc2NvcGUubnVtYmVycyA9IG51bWJlcnM7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ2FyZHNDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY01vZGFsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY01vZGFsKSB7XG4gICAgICAgICRzY29wZS5wcmVkID0gJy10byc7XG4gICAgICAgICRzY29wZS5lbmRwb2ludCA9ICdodHRwczovL3d3dy5pZmlza2Uuc2UnO1xuXG4gICAgICAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuYmVmb3JlRW50ZXInLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICRzY29wZS5ub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgREIuZ2V0VXNlclByb2R1Y3RzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZHVjdHMgPSBkYXRhO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgICAgICAvL3VzZSB0aGUgc2FtZSBtb2RhbCBhcyBpbiBhcmVhX2NhcmRzXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuYXBpJywgWydpZmlza2UudXRpbHMnXSlcblx0LnByb3ZpZGVyKCdBUEknLCBmdW5jdGlvbiBBUElQcm92aWRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy5iYXNlX3VybCA9ICdodHRwczovL3d3dy5pZmlza2Uuc2UvYXBpL3YyL2FwaS5waHAnO1xuXHQgICAgXG4gICAgICAgICAgICB0aGlzLiRnZXQgPSBbXG5cdFx0JyRodHRwJyxcblx0XHQnc2Vzc2lvbkRhdGEnLFxuXHRcdCdsb2NhbFN0b3JhZ2UnLFxuXHRcdCckcScsXG5cdFx0ZnVuY3Rpb24oJGh0dHAsIHNlc3Npb25EYXRhLCBsb2NhbFN0b3JhZ2UsICRxKSB7XG5cdFx0ICAgIHZhciBiYXNlX3VybCA9IHRoaXMuYmFzZV91cmw7XG5cblx0XHQgICAgLyoqXG5cdFx0ICAgICAqICMgYXBpX2NhbGwgI1xuXHRcdCAgICAgKiBoYW5kbGVzIGh0dHAgcmVxdWVzdHNcblx0XHQgICAgICogcmV0dXJucyBhICRodHRwIG9iamVjdCBmb3IgdGhlIHJlcXVlc3RlZCBhcGkgY2FsbFxuXHRcdCAgICAgKi9cblx0XHQgICAgdmFyIGFwaV9jYWxsID0gZnVuY3Rpb24ocGFyYW1zLCBjYWNoZSkge1xuXHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuXHRcdFx0ICAgICRodHRwKFxuXHRcdFx0XHR7XG5cdFx0XHRcdCAgICBtZXRob2Q6J2dldCcsXG5cdFx0XHRcdCAgICB1cmw6IGJhc2VfdXJsLFxuXHRcdFx0XHQgICAgcGFyYW1zOiBhbmd1bGFyLmV4dGVuZChwYXJhbXMsIHsna2V5JzogJzAxMjM0NTY3ODlhYmNkZWYnfSksXG5cdFx0XHRcdCAgICB0aW1lb3V0OiA1MDAwLFxuXHRcdFx0XHQgICAgY2FjaGU6IChjYWNoZSAhPT0gZmFsc2UpXG5cdFx0XHRcdH1cblx0XHRcdCAgICApXG5cdFx0XHQgICAgLy8gVG9EbzogUHJvcGVyIGxvZ2dpbmdcblx0XHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHQgICAgaWYoZGF0YS5zdGF0dXMgPT09ICdlcnJvcicpIHtcblx0XHRcdFx0XHRyZWplY3QoZGF0YS5tZXNzYWdlKTtcblx0XHRcdFx0ICAgIH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYoZGF0YS5kYXRhKSB7XG5cdFx0XHRcdFx0ICAgIGZ1bGZpbGwoZGF0YS5kYXRhLnJlc3BvbnNlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCAgICByZWplY3QoZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcsIHN0YXR1c1RleHQpIHtcblx0XHRcdFx0ICAgIGlmIChzdGF0dXMgPT09IDApIHtcblx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRpbWVvdXQnKSk7XG5cdFx0XHRcdCAgICB9IGVsc2Uge1xuXHRcdFx0XHRcdHJlamVjdChkYXRhKTtcblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHQgICAgfTtcblxuXHRcdCAgICAvKipcblx0XHQgICAgICogIyBzZXNzaW9uX2FwaV9jYWxsICNcblx0XHQgICAgICogd3JhcHBlciBmb3IgYXBpX2NhbGwgLSBpbnNlcnRzIHRoZSBzZXNzaW9uIHRva2VuIGludG8gcGFyYW1zXG5cdFx0ICAgICAqL1xuXHRcdCAgICB2YXIgc2Vzc2lvbl9hcGlfY2FsbCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXHRcdFx0dmFyIHNlc3Npb24gPSBzZXNzaW9uRGF0YS50b2tlbjtcblx0XHRcdHJldHVybiBhcGlfY2FsbChhbmd1bGFyLmV4dGVuZChwYXJhbXMsIHtzOiBzZXNzaW9ufSkpO1xuXHRcdCAgICB9O1xuXG5cdFx0ICAgIHJldHVybiB7XG5cdFx0XHRnZXRfbXVuaWNpcGFsaXRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9tdW5pY2lwYWxpdGllcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfY291bnRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9jb3VudGllcyd9KTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2V4aXN0czogZnVuY3Rpb24odXNlcm5hbWUsIGVtYWlsKSB7XG5cdFx0XHQgICAgdmFyIGFyZ3MgPSB7bTogJ3VzZXJfZXhpc3RzJ307XG5cblx0XHRcdCAgICBpZiAodXNlcm5hbWUgJiYgdHlwZW9mIHVzZXJuYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRhcmdzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG5cdFx0XHQgICAgfVxuXHRcdFx0ICAgIGlmIChlbWFpbCAmJiB0eXBlb2YgZW1haWwgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGFyZ3MuZW1haWwgPSBlbWFpbDtcblx0XHRcdCAgICB9XG5cblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoYXJncywgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfcmVnaXN0ZXI6IGZ1bmN0aW9uKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCBwaG9uZSkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAndXNlcl9yZWdpc3RlcicsXG5cdFx0XHRcdCAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0XHQgIGZ1bGxuYW1lOiBmdWxsbmFtZSxcblx0XHRcdFx0ICBwYXNzd29yZDogcGFzc3dvcmQsXG5cdFx0XHRcdCAgZW1haWw6IGVtYWlsLFxuXHRcdFx0XHQgIHBob25lOiBwaG9uZVxuXHRcdFx0XHR9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9jb25maXJtOiBmdW5jdGlvbih1c2VybmFtZSwgcGluKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHsgXG5cdFx0XHRcdG06ICd1c2VyX2NvbmZpcm0nLFxuXHRcdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXG5cdFx0XHRcdHBpbjogcGluXG5cdFx0XHQgICAgfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfaW5mbzogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2luZm8nfSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9sb3N0X3Bhc3N3b3JkOiBmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICd1c2VyX2xvc3RfcGFzc3dvcmQnLFxuXHRcdFx0XHQgIHVzZXJfaWRlbnRpZmljYXRpb246IHVzZXJcblx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfcmVzZXRfcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJfaWRlbnRpZmljYXRpb24sIHBhc3N3b3JkLCBjb2RlKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHtcblx0XHRcdFx0bTogJ3VzZXJfcmVzZXRfcGFzc3dvcmQnLCBcblx0XHRcdFx0dXNlcl9pZGVudGlmaWNhdGlvbjogdXNlcl9pZGVudGlmaWNhdGlvbixcblx0XHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkLFxuXHRcdFx0XHRjb2RlOiBjb2RlXG5cdFx0XHQgICAgfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfY2hhbmdlX3Bhc3N3b3JkOiBmdW5jdGlvbihvbGRfcGFzc3dvcmQsIG5ld19wYXNzd29yZCkge1xuXHRcdFx0ICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHtcblx0XHRcdFx0bTogJ3VzZXJfY2hhbmdlX3Bhc3N3b3JkJyxcblx0XHRcdFx0b2xkX3Bhc3N3b3JkOiBvbGRfcGFzc3dvcmQsXG5cdFx0XHRcdG5ld19wYXNzd29yZDogbmV3X3Bhc3N3b3JkXG5cdFx0XHQgICAgfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAndXNlcl9sb2dpbicsXG5cdFx0XHRcdCAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0XHQgIHBhc3N3b3JkOiBwYXNzd29yZFxuXHRcdFx0XHR9LCBmYWxzZSlcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHQgICAgc2Vzc2lvbkRhdGEuc2V0VG9rZW4oZGF0YSk7XG5cblx0XHRcdFx0ICAgIC8vbmVlZGVkIGZvciBjaGFpbmluZyBvZiBwcm9taXNlcywgc2hvdWxkIGJlIGRvbmUgc29tZSBvdGhlciB3YXkgcGVyaGFwcz9cblx0XHRcdFx0ICAgIHJldHVybiBkYXRhO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2xvZ291dDogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfbG9nb3V0J30sIGZhbHNlKVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdCAgICBzZXNzaW9uRGF0YS5kZWxldGVUb2tlbigpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX3Byb2R1Y3RzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfcHJvZHVjdHMnfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdGdldF9maXNoZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9maXNoZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3RlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF90ZWNobmlxdWVzJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9iYWl0czogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2JhaXRzJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9vcmdhbml6YXRpb25zOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X29yZ2FuaXphdGlvbnMnLFxuXHRcdFx0XHQgIG9yZ2lkOiBvcmdpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfb3JnX21vZGlmaWVkOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X29yZ19tb2RpZmllZCcsXG5cdFx0XHRcdCAgb3JnaWQ6IG9yZ2lkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9hcmVhczogZnVuY3Rpb24oYXJlYWlkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfYXJlYXMnLFxuXHRcdFx0XHQgIGFyZWFpZDogYXJlYWlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9hcmVhc19tb2RpZmllZDogZnVuY3Rpb24oYXJlYWlkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfYXJlYXNfbW9kaWZpZWQnLFxuXHRcdFx0XHQgIGFyZWFpZDogYXJlYWlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9wcm9kdWN0czogZnVuY3Rpb24oYXJlYWlkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfcHJvZHVjdHMnLFxuXHRcdFx0XHQgIGFyZWFpZDogYXJlYWlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9ydWxlczogZnVuY3Rpb24ocnVsZWlkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfcnVsZXMnLFxuXHRcdFx0XHQgIHJ1bGVpZDogcnVsZWlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9waG90b3M6IGZ1bmN0aW9uKG9yZ2lkLCBhcmVhaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9waG90b3MnLFxuXHRcdFx0XHQgIG9yZ2lkOiBvcmdpZCxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfbWFwX3BvaXM6IGZ1bmN0aW9uKG9yZ2lkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfbWFwX3BvaXMnLFxuXHRcdFx0XHQgIG9yZ2lkOiBvcmdpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfbWFwX3BvaV90eXBlcyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9tYXBfcG9pX3R5cGVzJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9tYXBfcG9seWdvbnM6IGZ1bmN0aW9uKG9yZ2lkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfbWFwX3BvbHlnb25zJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9nZXRfZmF2b3JpdGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfZ2V0X2Zhdm9yaXRlcyd9LCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3Rlcm1zX29mX3NlcnZpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF90ZXJtc19vZl9zZXJ2aWNlJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9jb250YWN0X2luZm86IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9jb250YWN0X2luZm8nfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2VuZ2luZV9wb2xpY2llczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2VuZ2luZV9wb2xpY2llcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfc21zX3Rlcm1zOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfc21zX3Rlcm1zJ30pO1xuXHRcdFx0fVxuXHRcdCAgICB9O1xuXHRcdH1dO1xuXHR9KTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRiJywgW10pXG4gICAgLnByb3ZpZGVyKCdEQicsIGZ1bmN0aW9uIERCUHJvdmlkZXIoKSB7XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJyRjb3Jkb3ZhU1FMaXRlJyxcbiAgICAgICAgICAgICdBUEknLFxuICAgICAgICAgICAgJyRxJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCRjb3Jkb3ZhU1FMaXRlLCBBUEksICRxKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGI7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zcWxpdGVQbHVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZGIgPSAkY29yZG92YVNRTGl0ZS5vcGVuREIoJ2Zpc2tlYmFzZW4uZGInKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5vcGVuRGF0YWJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGIgPSB3aW5kb3cub3BlbkRhdGFiYXNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Zpc2tlYmFzZW4uZGInLCAnMS4wJywgJ2Zpc2tlYmFzZW4nLCAxMCAqIDEwMjQgKiAxMDI0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZSwgc29ycnknKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFibGVEZWYgPSB7XG4gICAgICAgICAgICAgICAgICAgICdBcmVhJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnb3JnaWQnLCAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsna3cnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydub3RlJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2MxJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjMicsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYzMnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ20xJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtMicsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbTMnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbG5nJywgICAncmVhbCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd6b29tJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3BudCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjYXInLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZW5nJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2hjcCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtYXAnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3dzYycsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdBcmVhX0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYWlkJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ZpZCcsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydhbW91bnQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY29tbWVudCcsICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdQcm9kdWN0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QyJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ25vJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3BmJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2FpJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncmknLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjaCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2hsJywgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ0NvdW50eSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncycsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnTXVuaWNpcGFsaXR5JzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ25hbWUnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnRmlzaCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21heCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltZycsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW4nLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydnZW8nLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NpemUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbGF0JywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydyZWMnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1J1bGUnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ZlcicsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnVXNlcl9Qcm9kdWN0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2F0JywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY29kZScsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydmcicsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2Z1bGxuYW1lJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ290JywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3JlZjEnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncmVmMicsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0bycsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3BpZCcsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncGRmJywgICAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnVXNlcl9JbmZvJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3VzZXJuYW1lJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xvZ2dlZGluJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lQMScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lQMicsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ25hbWUnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2VtYWlsJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NyZWF0ZWQnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1VzZXJfTnVtYmVyJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydudW1iZXInLCAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdUZWNobmlxdWUnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2RlJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZGEnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltZzEnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW1nMicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbWczJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3lvdXR1YmUnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnT3JnYW5pemF0aW9uJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NwJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3VybCcsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NvJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd2YXQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2RwJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZnZhJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvcmcnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21sJywgICAgICdpbnQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUG9pJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ29yZ2lkJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndHlwZScsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwcmljZScsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xhJywgICAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xvJywgICAgICdyZWFsJ11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1BvaV9UeXBlJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ljb24nLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdQb2x5Z29uJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ29yZ2lkJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYycsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndmVyJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3BvbHknLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXVxuXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR2YWwgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnJvd3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHZhbC5wdXNoKGRhdGEucm93cy5pdGVtKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dmFsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVRhYmxlOiBmdW5jdGlvbih0YWJsZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaWQgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbmdsZURhdGEgPSBkYXRhW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnNlcnREYXRhID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYmxlRGVmW3RhYmxlXS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydERhdGEucHVzaChzaW5nbGVEYXRhW3RhYmxlRGVmW3RhYmxlXVtpXVswXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJTlNFUlQgSU5UTycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZBTFVFUyg/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLD8nLnJlcGVhdChpbnNlcnREYXRhLmxlbmd0aCAtIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwocXVlcnksIGluc2VydERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFuVGFibGU6IGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gJyArIHRhYmxlICsgJzsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEcm9wcyBhbGwgdGFibGVzIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGNsZWFuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0YWJsZSBpbiB0YWJsZURlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlbW92ZWQgYWxsIHRhYmxlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEluaXRpYWxpZXMgdGhlIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0IGluIHRhYmxlRGVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSB0YWJsZURlZlt0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZVZhbHVlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQnVpbGRzIGEgc3RyaW5nIHdpdGggXCJcIiBhcm91bmQgYWxsIG5hbWVzLCBzbyB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBpdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gU1FMIFRhYmxlIHdpdG91dCBoYXZpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHRvIHdvcnJ5IGFib3V0IHVzaW5nIHJlc2VydmVkIGtleXdvcmRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYmxlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMucHVzaCgnXCInICsgdGFibGVbaV1bMF0gKyAnXCIgJyArIHRhYmxlW2ldWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gdGFibGVWYWx1ZXMuam9pbignLCAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJywgUFJJTUFSWSBLRVkoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInICsgdGFibGVbMF1bMF0gKyAnXCInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpKTsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwocXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYW4gYXJlYVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBpZFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZ2V0QXJlYTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IGNyZWF0ZU9iamVjdChhcmVhKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBEQiBzaG91bGQgbm90IG5lZWQgQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcGhvdG9zKG9iamVjdC5vcmdpZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2VzID0gaW1hZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0QXJlYUZpc2hlczogZnVuY3Rpb24oYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhX0Zpc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBGaXNoIE9OIEFyZWFfRmlzaC5maWQgPSBGaXNoLklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIEFyZWFfRmlzaC5haWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbYWlkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFNlYXJjaGVzIHRoZSBkYXRhYmFzZSB1c2luZyBhIHF1ZXJ5XG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSBxdWVyeSBpcyBtYXRjaGVkIHRvIGEgbmFtZSBhbmQvb3Iga2V5d29yZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIHNlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaHN0cmluZywgY291bnR5X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIHQgTElLRSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvdW50eV9pZCA/ICdBTkQgYzEgPSA/JyA6ICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5X2lkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyclJyArIHNlYXJjaHN0cmluZyArICclJywgY291bnR5X2lkXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnJScgKyBzZWFyY2hzdHJpbmcgKyAnJSddKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhIHByb2R1Y3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRQcm9kdWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcHJvZHVjdF9pZFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZ2V0UHJvZHVjdDogZnVuY3Rpb24ocHJvZHVjdF9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBESVNUSU5DVCBQcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgSUQgPSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHNvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwcm9kdWN0X2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdldHMgYWxsIHByb2R1Y3RzIGZyb20gYW4gYXJlYVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldFByb2R1Y3RzQnlBcmVhXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gYXJlYV9pZFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZ2V0UHJvZHVjdHNCeUFyZWE6IGZ1bmN0aW9uKGFyZWFfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFByb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGFpID0gPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBzbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYXJlYV9pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldENvdW50aWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgQ291bnR5LionLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBDb3VudHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBBcmVhIE9OIEFyZWEuYzEgPSBDb3VudHkuSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgQ291bnR5LnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFVzZXJQcm9kdWN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIFVzZXJfUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFVzZXJfUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMRUZUIEpPSU4gUHJvZHVjdCBPTiBQcm9kdWN0LklEID0gVXNlcl9Qcm9kdWN0LnBpZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMRUZUIEpPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0RmlzaGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIEZpc2gnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEZpc2g6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0VGVjaG5pcXVlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBUZWNobmlxdWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRUZWNobmlxdWU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBUZWNobmlxdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgSUQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0T3JnYW5pemF0aW9uOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gT3JnYW5pemF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFVzZXJfSW5mbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KHVzZXIpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFVzZXJOdW1iZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFVzZXJfTnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRQb2lzOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUG9pJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIG9yZ2lkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9pVHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUG9pX1R5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFBvbHlnb25zOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUG9seWdvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBvcmdpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9KTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZmlsdGVycycsIFtdKVxuLmZpbHRlcignb25lYnInLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLyg8YnI+XFxzKikrL2csICc8YnI+Jyk7XG4gICAgfTtcbn0pXG4uZmlsdGVyKCdub2JycycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvKDxicihcXHMqXFwvKSo+KSsvZywgJycpO1xuICAgIH07XG59KVxuLmZpbHRlcignY2xlYW50YWJsZXMnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oPFxcLz90YWJsZT4pKy9nLCAnJyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDxcXC8/dHI+KSsvZywgJycpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8XFwvP3RoPikrL2csICcnKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oPChcXC8/KXRkLio/PikrPy9nLCAnPCQycD4nKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC88cD5cXHMqPFxcL3A+L2csICcnKTtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH07XG59KTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLnVwZGF0ZScsIFsnaWZpc2tlLmFwaScsICdpZmlza2UuZGInLCAnaWZpc2tlLnV0aWxzJ10pXG4gICAgLnByb3ZpZGVyKCdVcGRhdGUnLCBmdW5jdGlvbiBVcGRhdGVQcm92aWRlcigpIHtcblxuICAgICAgICB0aGlzLiRnZXQgPSBbXG4gICAgICAgICAgICAnQVBJJyxcbiAgICAgICAgICAgICdEQicsXG4gICAgICAgICAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICAnJGlvbmljTG9hZGluZycsXG4gICAgICAgICAgICAnc2Vzc2lvbkRhdGEnLFxuICAgICAgICAgICAgZnVuY3Rpb24oQVBJLCBEQiwgbG9jYWxTdG9yYWdlLCAkcSwgJGlvbmljTG9hZGluZywgc2Vzc2lvbkRhdGEpIHtcblxuICAgICAgICAgICAgICAgIHZhciBMQVNUX1VQREFURSA9ICdsYXN0X3VwZGF0ZSc7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9wdWxhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2FyZWFzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlzaEFyciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXNoZXMgPSBkYXRhW2tleV0uZmlzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZmlzaEtleSBpbiBmaXNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpc2hBcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0lEJzoga2V5ICsgJ18nICsgZmlzaEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWQ6IGZpc2hLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWlkOiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmaXNoZXNbZmlzaEtleV1bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudDogZmlzaGVzW2Zpc2hLZXldWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnQXJlYScsIGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdBcmVhX0Zpc2gnLCBmaXNoQXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgQXJlYScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcHJvZHVjdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQcm9kdWN0JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQcm9kdWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9jb3VudGllcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ0NvdW50eScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgQ291bnR5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9tdW5pY2lwYWxpdGllcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ011bmljaXBhbGl0eScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgTXVuaWNpcGFsaXR5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9maXNoZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdGaXNoJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBGaXNoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9ydWxlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1J1bGUnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFJ1bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3RlY2huaXF1ZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdUZWNobmlxdWUnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFRlY2huaXF1ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfb3JnYW5pemF0aW9ucygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ09yZ2FuaXphdGlvbicsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgT3JnYW5pemF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9tYXBfcG9pcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1BvaScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUG9pJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9tYXBfcG9pX3R5cGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUG9pX1R5cGUnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFBvaV9UeXBlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9tYXBfcG9seWdvbnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQb2x5Z29uJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQb2x5Z29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9wdWxhdGVVc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfcHJvZHVjdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX1Byb2R1Y3QnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFVzZXJfUHJvZHVjdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2luZm8oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1iZXJzID0gZGF0YS5udW1iZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1BcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtQXJyLnB1c2goeydudW1iZXInOiBudW1iZXJzW2ldfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX0luZm8nLCBbZGF0YV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX0luZm8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX051bWJlcicsIG51bUFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFVzZXJfTnVtYmVycycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBjbGVhblVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX1Byb2R1Y3QnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmNsZWFuVGFibGUoJ1VzZXJfTnVtYmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX0luZm8nKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIHVzZXIgaW5mbyBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvdWxkIG5vdCByZW1vdmUgdXNlciBkYXRhIGZyb20gZGF0YWJhc2UhJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVGdW5jID0gZnVuY3Rpb24oZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RVcGRhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZvcmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFVwZGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXQoTEFTVF9VUERBVEUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFXZWVrID0gMTAwMCAqIDM2MDAgKiAyNCAqIDc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RVcGRhdGUgPiBhV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgYWxsIHRoZSB0aGluZ3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KExBU1RfVVBEQVRFLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmVycm9yX2NvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aGVudGljYXRpb24gZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG93IHRvIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5Vc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0dvdCBhbiBlcnJvciwgd2lsbCB0cnkgdG8gcmVjcmVhdGUgYWxsIHRhYmxlczonLCBlcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5jbGVhbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBhbGwgdGhlIHRoaW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldChMQVNUX1VQREFURSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0aWxsIGVycm9yLCBoYW5kbGUgaXQhJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfdGVybXNfb2Zfc2VydmljZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgndG9zJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfc21zX3Rlcm1zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHRlcm1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnc21zX3Rlcm1zJywgdGVybXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvbnRhY3RfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnY29udGFjdEluZm8nLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmluaXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIERCIHN5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVVzZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm9fdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnVuYygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfbG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQSS51c2VyX2xvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsYXN0X3VwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfV07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLnV0aWxzJywgW10pXG5cbi5mYWN0b3J5KCdsb2NhbFN0b3JhZ2UnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5zZXJ2aWNlKCdzZXNzaW9uRGF0YScsIFsnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24obG9jYWxTdG9yYWdlKSB7XG4gICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXQoJ3Nlc3Npb24nKTtcblxuICAgIHRoaXMuc2V0VG9rZW4gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Nlc3Npb24nLCB0KTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBzZXQnKTtcbiAgICB9O1xuICAgIHRoaXMuZGVsZXRlVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZSgnc2Vzc2lvbicpO1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHVuc2V0Jyk7XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCduZ0NvcmRvdmFTbXMnLCBbXSlcbi5kaXJlY3RpdmUoJ25nQ29yZG92YVNtcycsIFsnJGNvcmRvdmFTbXMnLCAnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkY29yZG92YVNtcywgJGlvbmljUG9wdXApIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGlvbmljUG9wdXAucHJvbXB0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTa3JpdiBpbiBkaXR0IG5hbW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdGSVNLQSAnICsgYXR0cnMubmdDb3Jkb3ZhU21zICsgJyAnICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTbXMuc2VuZCgnNzI0NTYnLCBtZXNzYWdlLCAnSU5URU5UJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY3Vlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGlyZWN0aXZlcycpXG4gICAgLmRpcmVjdGl2ZSgnaWZpc2tlSW5wdXQnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICB0cmFuc2NsdWRlOiB0cnVlLFxuXG5cdCAgICBzY29wZToge1xuXHRcdG5hbWU6ICdAJyxcblx0XHRpZDogJ0AnLFxuXHRcdGxhYmVsOiAnQCcsXG5cdFx0cGxhY2Vob2xkZXI6ICdAJyxcblx0XHR0eXBlOiAnQCcsXG5cdFx0bmdQYXR0ZXJuOiAnQCcsXG5cdFx0bmdNb2RlbDogJz0/J1xuXG5cdCAgICB9LFxuXHQgICAgdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmVzL2lucHV0X2ZpZWxkL2lmaXNrZV9pbnB1dC5odG1sJyxcblx0ICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSkge1xuXHRcdCRzY29wZS5pZCA9ICRzY29wZS5pZCB8fCAkc2NvcGUubmFtZTtcblx0XHQkc2NvcGUudHlwZSA9ICRzY29wZS50eXBlIHx8ICd0ZXh0Jztcblx0ICAgIH1cblx0fVxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnc3lzdGVtQnJvd3NlcicsIFtdKVxuLmRpcmVjdGl2ZSgnc3lzdGVtQnJvd3NlcicsIFsnJGNvcmRvdmFJbkFwcEJyb3dzZXInLCBmdW5jdGlvbigkY29yZG92YUluQXBwQnJvd3Nlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4oZWxbMF0uaHJlZiwgJ19zeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5kaXJlY3RpdmUoJ2dsb2JhbFN5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuaHJlZiAmJiBlLnRhcmdldC5ob3N0ICE9PSB3aW5kb3cubG9jYXRpb24uaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGUudGFyZ2V0LmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=