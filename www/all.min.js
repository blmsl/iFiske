angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive","tabSlideBox"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!0,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var i="/app/login";window.localStorage.getItem("session")&&(i="/app/home"),t.otherwise(i),e.state("app",{url:"/app",templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("app.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("app.recover",{url:"/recover",templateUrl:"components/recover/recover.html",controller:"RecoverCtrl"}).state("app.recover.lostpassword",{url:"/lostpassword",templateUrl:"components/recover/lostpassword.html"}).state("app.recover.resetpassword",{url:"/resetpassword",templateUrl:"components/recover/resetpassword.html"}).state("app.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("app.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("app.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("app.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("app.info",{url:"/info",templateUrl:"components/info/info.html"}).state("app.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("app.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("app.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("app.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("app.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("app.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("app.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("app.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("app.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("app.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("app.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("app.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("app.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("app.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("app.area",{url:"/area/:id",views:{"@menu":{templateUrl:"components/area/area.html",controller:"AreaCtrl"},"info@menu.area":{templateUrl:"components/area/info.html"},"map@menu.area":{templateUrl:"components/area/map.html"},"fishinfo@menu.area":{templateUrl:"components/area/fish.html"},"cards@menu.area":{templateUrl:"components/area/cards.html"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Okänt",e.update=o,n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log("iFiske version:",t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$ionicHistory","localStorage","$stateParams","DB","$ionicSlideBoxDelegate","$ionicModal","$state",function(e,t,n,o,i,r,s){e.map={center:{}},e.image_endpoint="http://www.ifiske.se",e.$on("$ionicView.beforeEnter",function(){var t={};i.getArea(o.id).then(function(n){e.map.center={lat:n.lat,lng:n.lng,zoom:Number(n.zoom)?Number(n.zoom):9},e.images=n.images,r.update(),e.area=n,i.getOrganization(n.orgid).then(function(t){e.org=t}),i.getPoiTypes().then(function(o){for(var r=0;r<o.length;++r){var s=o[r];t[s.ID]={iconUrl:"http://www.ifiske.se/"+s.icon,iconAnchor:[16,37]}}i.getPois(n.orgid).then(function(n){e.map.markers=n.map(function(e){return{layer:"pois",lat:e.la,lng:e.lo,icon:t[e.type],message:e.t}})},function(e){console.error(e)}),i.getPolygons(n.orgid).then(function(t){e.map.paths=t.map(function(e){return{latlngs:JSON.parse("["+e.poly+"]"),color:e.c,weight:2,opacity:.5,fillColor:e.c,type:"polygon"}})},function(e){console.error(e)})})},function(e){console.log(e)}),i.getAreaFishes(o.id).then(function(t){e.fishes=t},function(e){console.log(e)}),i.getProductsByArea(o.id).then(function(t){e.products=t},function(e){console.log(e)})}),e.sortorder="-amount",e.smsterms=n.get("sms_terms"),e.predicate="so",s.fromTemplateUrl("components/area/sms_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,s.fromTemplateUrl("components/area/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()}),angular.extend(e.map,{layers:{baselayers:{mapbox:{name:"Mapbox",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{pois:{name:"Ställen",type:"markercluster",visible:!0,layerOptions:{disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){var i=t.search;e.search=i,e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){e.search=""},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,i){e.loggedIn=i,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("app.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading","$ionicHistory","$ionicViewSwitcher",function(e,t,n,o,i,r){e.signIn=function(i){o.show(),n.user_login(i.username.$viewValue,i.password.$viewValue).then(function(){o.hide(),i.$setValidity("loginError",!0),t.go("app.home")},function(t){o.hide(),i.$setValidity("loginError",!1),e.error=t.response})},e.skip=function(){r.nextDirection("forward"),i.nextViewOptions({disableBack:!0,historyRoot:!0}),t.go("app.home")}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","DB",function(e,t,n){e.test="hej",n.search("").then(function(t){e.markers=t.map(function(t){return{layer:"fishareas",lat:t.lat,lng:t.lng,getMessageScope:function(){var n=e.$new();return n.area=t,n},message:'<a ui-sref="area.info({id: area.ID })">{{area.t}}</a>'}})}),angular.extend(e,{center:{lat:62,lng:15,zoom:5},layers:{baselayers:{mapbox:{name:"Mapbox",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{fishareas:{name:"Fiskeområden",type:"markercluster",visible:!0,layerOptions:{disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicViewSwitcher","$ionicPopover","sessionData","Update",function(e,t,n,o,i,r){e.sessionData=i,o.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("app.userinfo")},e.logout=function(){e.popover.hide(),r.user_logout(),t.go("app.login")},e.login=function(){e.popover.hide(),n.nextDirection("back"),t.go("app.login")},e.register=function(){e.popover.hide(),t.go("app.register.details")},e.update=function(){r.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RecoverCtrl",["$scope","$state","$ionicHistory","$ionicPlatform","$ionicLoading","$cordovaToast","API",function(e,t,n,o,i,r,s){"use strict";var l="";e.skip=function(){e.info="",t.go("^.resetpassword")},e.lostPassword=function(n){i.show(),l=n.user.$viewValue,s.user_lost_password(l).then(function(n){e.info="En återställningskod kommer skickas till dig inom kort, via ",n.mailed&&(e.info+="e-mail",n.texted&&(e.info+=" och ")),n.texted&&(e.info+="sms"),e.info+=".",t.go("^.resetpassword")},function(){n.user.$setValidity("invalidUser",!1)})["finally"](i.hide)},e.resetPassword=function(e){i.show(),s.user_reset_password(l,e.password.$viewValue,e.code.$viewValue).then(function(e){console.log(e),o.ready(function(){r.showLongBottom("Ditt lösenord har ändrats")}),n.goToHistoryRoot(n.currentView().historyId)},function(e){console.log(e)})["finally"](i.hide)}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,i,r,s){var l;e.checkUsername=function(e){r.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t)})},e.checkEmail=function(e){r.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,l=o.username.$viewValue;var s=o.password.$viewValue,a=o.fullname.$viewValue,u=o.email.$viewValue;r.user_register(l,a,s,u,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,i.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;r.user_confirm(l,o.$viewValue).then(function(){o.$setValidity("verified",!0),t.go("start.login")},function(){o.$setValidity("verified",!1)})["finally"](n.hide())},e.tos=s.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var i=e.tech;e.images=[i.img1,i.img2,i.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","$ionicModal",function(e,t,n,o){e.pred="-to",e.endpoint="https://www.ifiske.se",e.$on("$ionicView.beforeEnter",function(){e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)})}),o.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()})}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,i){var r=this.base_url,s=function(n,o){return i(function(i,s){t({method:"get",url:r,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:o!==!1}).success(function(e){"error"===e.status?s(e.message):e.data?i(e.data.response):s(e)}).error(function(e,t){s(0===t?new Error("Request timeout"):e)})})},l=function(t){var o=n.token;return s(e.extend(t,{s:o}))};return{get_municipalities:function(){return s({m:"get_municipalities"})},get_counties:function(){return s({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return e&&"string"==typeof e&&(n.username=e),t&&"string"==typeof t&&(n.email=t),s(n,!1)},user_register:function(e,t,n,o,i){return s({m:"user_register",username:e,fullname:t,password:n,email:o,phone:i},!1)},user_confirm:function(e,t){return s({m:"user_confirm",username:e,pin:t},!1)},user_info:function(){return l({m:"user_info"})},user_lost_password:function(e){return s({m:"user_lost_password",user_identification:e},!1)},user_reset_password:function(e,t,n){return s({m:"user_reset_password",user_identification:e,password:t,code:n},!1)},user_change_password:function(e,t){return l({m:"user_change_password",old_password:e,new_password:t},!1)},user_login:function(e,t){return s({m:"user_login",username:e,password:t},!1).then(function(e){return n.setToken(e),e})},user_logout:function(){l({m:"user_logout"},!1).then(function(){n.deleteToken()})},user_products:function(){return l({m:"user_products"},!1)},get_fishes:function(){return s({m:"get_fishes"})},get_techniques:function(){return s({m:"get_techniques"})},get_baits:function(){return s({m:"get_baits"})},get_organizations:function(e){return s({m:"get_organizations",orgid:e})},get_org_modified:function(e){return s({m:"get_org_modified",orgid:e})},get_areas:function(e){return s({m:"get_areas",areaid:e})},get_areas_modified:function(e){return s({m:"get_areas_modified",areaid:e})},get_products:function(e){return s({m:"get_products",areaid:e})},get_rules:function(e){return s({m:"get_rules",ruleid:e})},get_photos:function(e,t){return s({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return s({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return s({m:"get_map_poi_types"})},get_map_polygons:function(e){return s({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return l({m:"user_get_favorites"},!1)},get_terms_of_service:function(){return s({m:"get_terms_of_service"})},get_contact_info:function(){return s({m:"get_contact_info"})},get_engine_policies:function(){return s({m:"get_engine_policies"})},get_sms_terms:function(){return s({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var i;if(window.sqlitePlugin)i=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;i=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var r={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]],Poi:[["ID","int"],["orgid","int"],["type","int"],["price","int"],["t","text"],["d","text"],["la","real"],["lo","real"]],Poi_Type:[["ID","int"],["t","text"],["icon","text"]],Polygon:[["ID","int"],["orgid","int"],["t","text"],["c","text"],["ver","int"],["mod","int"],["poly","text"]]},s=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){i.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var i=t[o],s=[],l=0;l<r[e].length;++l)s.push(i[r[e][l][0]]);var a=["INSERT INTO",e,"VALUES(?",",?".repeat(s.length-1),")"].join(" ");n.executeSql(a,s)}},o,n)})},cleanTable:function(e){return o(function(t,n){i.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){i.transaction(function(e){for(var t in r)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){i.transaction(function(e){for(var t in r){var n=["CREATE TABLE IF NOT EXISTS",t,"(",'"'+r[t].join('___"').split(",").join('" ').split("___").join(", "),", PRIMARY KEY(",'"'+r[t][0][0]+'"',"));"].join(" ");e.executeSql(n)}},t,e)})},getArea:function(t){return o(function(o){e.execute(i,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=s(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e,o(t)},function(){o(t)})})})},getAreaFishes:function(t){return o(function(n,o){e.execute(i,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},search:function(t,n){return o(function(o,r){e.execute(i,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(s(e))},r)})},getProduct:function(t){return o(function(n,o){e.execute(i,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(i,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(i,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(s(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(i,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(s(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(i,["SELECT * FROM Fish"].join(" ")).then(function(e){t(s(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(i,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(i,["SELECT * FROM Technique"].join(" ")).then(function(e){t(s(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(i,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(i,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(i,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(s(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(i,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(s(e))},n)})},getPois:function(t){return o(function(n,o){e.execute(i,["SELECT *","FROM Poi","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},getPoiTypes:function(){return o(function(t,n){e.execute(i,["SELECT *","FROM Poi_Type"].join(" ")).then(function(e){t(s(e))},n)})},getPolygons:function(t){return o(function(n,o){e.execute(i,["SELECT *","FROM Polygon","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("nobrs",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,i,r){var s="last_update",l=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var i in e){var r=e[i].fish;for(var s in r)n.push({ID:i+"_"+s,fid:s,aid:i,amount:r[s][0],comment:r[s][1]})}return o.all([t.populateTable("Area",e),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})}),e.get_map_pois().then(function(e){return t.populateTable("Poi",e).then(function(){console.log("Populated Poi")},function(e){return console.log(e),o.reject(e)})}),e.get_map_poi_types().then(function(e){return t.populateTable("Poi_Type",e).then(function(){console.log("Populated Poi_Type")},function(e){return console.log(e),o.reject(e)})}),e.get_map_polygons().then(function(e){return t.populateTable("Polygon",e).then(function(){console.log("Populated Polygon")},function(e){return console.log(e),o.reject(e)})})])},a=function(){return o.all([e.user_products().then(function(e){return console.log(e),t.populateTable("User_Product",e).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.numbers,i=[],r=0;r<n.length;++r)i.push({number:n[r]});return o.all([t.populateTable("User_Info",[e]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e),console.log(t),o.reject(t)}),t.populateTable("User_Number",i).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},u=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){i.show();var f=Date.now(),p=0;c||(p=n.get(s));var m=6048e5;f-p>m?(t.init().then(function(){return console.log("Initialized DB system"),r.token?o.all([a(),l()]):l()}).then(function(){console.log("Populated all the things"),n.set(s,f),i.hide()},function(o){return 7!==o.error_code?(console.warn("Got an error, will try to recreate all tables: ",o),t.clean().then(function(){return t.init()}).then(function(){return l()}).then(function(){console.log("Populated all the things"),n.set(s,f),i.hide()},function(e){console.log("Still error, handle it!",e),i.hide()})):(u(),e.user_logout(),i.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e)}),e.get_contact_info().then(function(e){n.set("contactInfo",e)})):r.token?t.init().then(function(){console.log("Initialized DB system"),r.token&&a().then(function(){i.hide()},function(){i.hide()}),i.hide()}):(console.log("no_update"),i.hide())};return{update:function(){c()},forcedUpdate:function(){c(!0)},user_logout:function(){u(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(s)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,i){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+i.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfY29udHJvbGxlci5qcyIsImFyZWFfbGlzdC9hcmVhX2xpc3RfY29udHJvbGxlci5qcyIsImNvbnRhY3QvY29udGFjdF9jb250cm9sbGVyLmpzIiwiY291bnRpZXMvY291bnRpZXNfY29udHJvbGxlci5qcyIsImZpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJmaXNoZXMvZmlzaGVzX2NvbnRyb2xsZXIuanMiLCJob21lL2hvbWVfY29udHJvbGxlci5qcyIsImxlZ2FsL2xlZ2FsX2NvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dpbl9jb250cm9sbGVyLmpzIiwibWFwL21hcF9jb250cm9sbGVyLmpzIiwibWVudS9tZW51X2NvbnRyb2xsZXIuanMiLCJyZWNvdmVyL3JlY292ZXJfY29udHJvbGxlci5qcyIsInJlZ2lzdGVyL3JlZ2lzdGVyX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWxfY29udHJvbGxlci5qcyIsInRlY2huaXF1ZXMvdGVjaG5pcXVlc19jb250cm9sbGVyLmpzIiwidXNlci91c2VyX2NvbnRyb2xsZXIuanMiLCJ1c2VyX2NhcmRzL3VzZXJfY2FyZHNfY29udHJvbGxlci5qcyIsImFwaS5qcyIsImRiLmpzIiwiZmlsdGVyLmpzIiwidXBkYXRlLmpzIiwidXRpbHMuanMiLCJpZmlza2Vfc21zL2lmaXNrZV9zbXMuanMiLCJpbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuanMiLCJzeXN0ZW1fYnJvd3Nlci9zeXN0ZW1fYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZSIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiVXBkYXRlIiwiSW1nQ2FjaGUiLCJyZWFkeSIsIndpbmRvdyIsImlvbmljIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCIkaW5pdCIsInVwZGF0ZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJJbWdDYWNoZVByb3ZpZGVyIiwic2V0T3B0aW9ucyIsImRlYnVnIiwidXNlUGVyc2lzdGVudENhY2hlIiwibWFudWFsSW5pdCIsInZpZXdzIiwiZm9yd2FyZENhY2hlIiwiYmFja0J1dHRvbiIsInByZXZpb3VzVGl0bGVUZXh0IiwidGV4dCIsInRhYnMiLCJwb3NpdGlvbiIsImRlZmF1bHRVcmwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJwYXJhbXMiLCJpZCIsImNvdW50eSIsInNlYXJjaCIsImZpc2giLCJ0ZWNoIiwiQG1lbnUiLCJpbmZvQG1lbnUuYXJlYSIsIm1hcEBtZW51LmFyZWEiLCJmaXNoaW5mb0BtZW51LmFyZWEiLCJjYXJkc0BtZW51LmFyZWEiLCIkc2NvcGUiLCIkY29yZG92YUFwcFZlcnNpb24iLCJ2ZXJzaW9uIiwiZGJEYXRlIiwiY29yZG92YSIsImdldEFwcFZlcnNpb24iLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsIiRpb25pY0hpc3RvcnkiLCIkc3RhdGVQYXJhbXMiLCJEQiIsIiRpb25pY1NsaWRlQm94RGVsZWdhdGUiLCIkaW9uaWNNb2RhbCIsIm1hcCIsImNlbnRlciIsImltYWdlX2VuZHBvaW50IiwiJG9uIiwiaWNvbnMiLCJnZXRBcmVhIiwiYXJlYSIsImxhdCIsImxuZyIsInpvb20iLCJOdW1iZXIiLCJpbWFnZXMiLCJnZXRPcmdhbml6YXRpb24iLCJvcmdpZCIsIm9yZyIsImdldFBvaVR5cGVzIiwicG9pX3R5cGVzIiwiaSIsImxlbmd0aCIsInR5cGUiLCJJRCIsImljb25VcmwiLCJpY29uIiwiaWNvbkFuY2hvciIsImdldFBvaXMiLCJwb2lzIiwibWFya2VycyIsInBvaSIsImxheWVyIiwibGEiLCJsbyIsIm1lc3NhZ2UiLCJ0IiwiZXJyIiwiZXJyb3IiLCJnZXRQb2x5Z29ucyIsInBvbHlnb25zIiwicGF0aHMiLCJwb2x5IiwibGF0bG5ncyIsIkpTT04iLCJwYXJzZSIsImNvbG9yIiwiYyIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsQ29sb3IiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsInNtc3Rlcm1zIiwiZ2V0IiwicHJlZGljYXRlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsInNtc19tb2RhbCIsIm9wZW5Nb2RhbCIsInByb2R1Y3QiLCJzaG93IiwiY2xvc2VNb2RhbCIsImhpZGUiLCJzaG93VGVybXMiLCJzaG93aW5ndGVybXMiLCJydWxlc19tb2RhbCIsIm9wZW5SdWxlc01vZGFsIiwiY2xvc2VSdWxlc01vZGFsIiwicmVtb3ZlIiwiZXh0ZW5kIiwibGF5ZXJzIiwiYmFzZWxheWVycyIsIm1hcGJveCIsIm5hbWUiLCJsYXllck9wdGlvbnMiLCJtYXB0eXBlIiwiYXBpa2V5Iiwib3ZlcmxheXMiLCJ2aXNpYmxlIiwiZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb20iLCJjaHVua2VkTG9hZGluZyIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJyZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kcyIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiY29weSIsImRhdGEiLCJhcmVhcyIsImNsZWFyU2VhcmNoIiwic2Nyb2xsVG9wIiwiJHN0YXRlIiwiY29udGFjdEluZm8iLCJnZXRDb3VudGllcyIsImNvdW50aWVzIiwiZ2V0RmlzaCIsImdldEZpc2hlcyIsImRlZmF1bHRfaW1nIiwiaW1nIiwic2Vzc2lvbkRhdGEiLCJsb2dnZWRJbiIsInNldCIsImN1cnJlbnRIaXN0b3J5SWQiLCJteUZ1bmMiLCIkZXZlbnQiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJnbyIsInNyY0VsZW1lbnQiLCJ2YWx1ZSIsInRvcyIsIiRpb25pY0xvYWRpbmciLCIkaW9uaWNWaWV3U3dpdGNoZXIiLCJzaWduSW4iLCJsb2dpbkZvcm0iLCJ1c2VyX2xvZ2luIiwidXNlcm5hbWUiLCIkdmlld1ZhbHVlIiwicGFzc3dvcmQiLCIkc2V0VmFsaWRpdHkiLCJyZXNwb25zZSIsInNraXAiLCJuZXh0RGlyZWN0aW9uIiwibmV4dFZpZXdPcHRpb25zIiwiZGlzYWJsZUJhY2siLCJoaXN0b3J5Um9vdCIsImxlYWZsZXREYXRhIiwidGVzdCIsImEiLCJnZXRNZXNzYWdlU2NvcGUiLCJuZXdfc2NvcGUiLCIkbmV3IiwiZmlzaGFyZWFzIiwiJGlvbmljUG9wb3ZlciIsInBvcG92ZXIiLCJ1c2VyaW5mbyIsImxvZ291dCIsInVzZXJfbG9nb3V0IiwibG9naW4iLCJyZWdpc3RlciIsImZvcmNlZFVwZGF0ZSIsIiRjb3Jkb3ZhVG9hc3QiLCJBUEkiLCJ1c2VyIiwiaW5mbyIsImxvc3RQYXNzd29yZCIsImZvcm0iLCJ1c2VyX2xvc3RfcGFzc3dvcmQiLCJtYWlsZWQiLCJ0ZXh0ZWQiLCJyZXNldFBhc3N3b3JkIiwidXNlcl9yZXNldF9wYXNzd29yZCIsImNvZGUiLCJzaG93TG9uZ0JvdHRvbSIsImdvVG9IaXN0b3J5Um9vdCIsImN1cnJlbnRWaWV3IiwiaGlzdG9yeUlkIiwiY2hlY2tVc2VybmFtZSIsImlucHV0IiwidXNlcl9leGlzdHMiLCJjaGVja0VtYWlsIiwiZm9ybUVycm9ycyIsInBob25lIiwiZnVsbG5hbWUiLCJlbWFpbCIsInVzZXJfcmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25FcnJvciIsImVycm9yX2NvZGUiLCJ2ZXJpZnkiLCJ2ZXJjb2RlIiwidXNlcl9jb25maXJtIiwiZXVsYSIsInNob3dFdWxhIiwiY2xvc2VFdWxhIiwiaW1nMSIsImltZzIiLCJpbWczIiwiZmlsdGVyIiwiZWwiLCJnZXRUZWNobmlxdWUiLCJnZXRUZWNobmlxdWVzIiwidGVjaG5pcXVlcyIsImdldFVzZXJJbmZvIiwiZ2V0VXNlck51bWJlcnMiLCJudW1iZXJzIiwicHJlZCIsImVuZHBvaW50Iiwibm93IiwiRGF0ZSIsImdldFVzZXJQcm9kdWN0cyIsInByb3ZpZGVyIiwidGhpcyIsImJhc2VfdXJsIiwiJGdldCIsIiRodHRwIiwiJHEiLCJhcGlfY2FsbCIsImNhY2hlIiwiZnVsZmlsbCIsInJlamVjdCIsIm1ldGhvZCIsImtleSIsInRpbWVvdXQiLCJzdWNjZXNzIiwic3RhdHVzIiwiRXJyb3IiLCJzZXNzaW9uX2FwaV9jYWxsIiwic2Vzc2lvbiIsInRva2VuIiwicyIsImdldF9tdW5pY2lwYWxpdGllcyIsIm0iLCJnZXRfY291bnRpZXMiLCJhcmdzIiwicGluIiwidXNlcl9pbmZvIiwidXNlcl9pZGVudGlmaWNhdGlvbiIsInVzZXJfY2hhbmdlX3Bhc3N3b3JkIiwib2xkX3Bhc3N3b3JkIiwibmV3X3Bhc3N3b3JkIiwic2V0VG9rZW4iLCJkZWxldGVUb2tlbiIsInVzZXJfcHJvZHVjdHMiLCJnZXRfZmlzaGVzIiwiZ2V0X3RlY2huaXF1ZXMiLCJnZXRfYmFpdHMiLCJnZXRfb3JnYW5pemF0aW9ucyIsImdldF9vcmdfbW9kaWZpZWQiLCJnZXRfYXJlYXMiLCJhcmVhaWQiLCJnZXRfYXJlYXNfbW9kaWZpZWQiLCJnZXRfcHJvZHVjdHMiLCJnZXRfcnVsZXMiLCJydWxlaWQiLCJnZXRfcGhvdG9zIiwiZ2V0X21hcF9wb2lzIiwiZ2V0X21hcF9wb2lfdHlwZXMiLCJnZXRfbWFwX3BvbHlnb25zIiwidXNlcl9nZXRfZmF2b3JpdGVzIiwiZ2V0X3Rlcm1zX29mX3NlcnZpY2UiLCJnZXRfY29udGFjdF9pbmZvIiwiZ2V0X2VuZ2luZV9wb2xpY2llcyIsImdldF9zbXNfdGVybXMiLCJ1bmRlZmluZWQiLCIkY29yZG92YVNRTGl0ZSIsImRiIiwic3FsaXRlUGx1Z2luIiwib3BlbkRCIiwib3BlbkRhdGFiYXNlIiwidGFibGVEZWYiLCJBcmVhIiwiQXJlYV9GaXNoIiwiUHJvZHVjdCIsIkNvdW50eSIsIk11bmljaXBhbGl0eSIsIkZpc2giLCJSdWxlIiwiVXNlcl9Qcm9kdWN0IiwiVXNlcl9JbmZvIiwiVXNlcl9OdW1iZXIiLCJUZWNobmlxdWUiLCJPcmdhbml6YXRpb24iLCJQb2kiLCJQb2lfVHlwZSIsIlBvbHlnb24iLCJjcmVhdGVPYmplY3QiLCJyZXR2YWwiLCJyb3dzIiwicHVzaCIsIml0ZW0iLCJwb3B1bGF0ZVRhYmxlIiwidGFibGUiLCJ0cmFuc2FjdGlvbiIsInR4IiwiZXhlY3V0ZVNxbCIsInNpbmdsZURhdGEiLCJpbnNlcnREYXRhIiwicXVlcnkiLCJyZXBlYXQiLCJqb2luIiwiY2xlYW5UYWJsZSIsImNsZWFuIiwiaW5pdCIsInNwbGl0IiwiZXhlY3V0ZSIsIm9iamVjdCIsImFpZCIsInNlYXJjaHN0cmluZyIsImNvdW50eV9pZCIsImdldFByb2R1Y3QiLCJwcm9kdWN0X2lkIiwiYXJlYV9pZCIsInJlcGxhY2UiLCJMQVNUX1VQREFURSIsInBvcHVsYXRlIiwiYWxsIiwiZmlzaEFyciIsImZpc2hLZXkiLCJmaWQiLCJhbW91bnQiLCJjb21tZW50IiwicG9wdWxhdGVVc2VyIiwibnVtQXJyIiwibnVtYmVyIiwiY2xlYW5Vc2VyIiwidXBkYXRlRnVuYyIsImZvcmNlZCIsImN1cnJlbnRUaW1lIiwibGFzdFVwZGF0ZSIsImFXZWVrIiwid2FybiIsInRlcm1zIiwibGFzdF91cGRhdGUiLCJmYWN0b3J5IiwiJHdpbmRvdyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2VydmljZSIsImRpcmVjdGl2ZSIsIiRjb3Jkb3ZhU21zIiwiJGlvbmljUG9wdXAiLCJyZXN0cmljdCIsImxpbmsiLCJhdHRycyIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvbXB0IiwidGl0bGUiLCJpbnB1dFR5cGUiLCJuZ0NvcmRvdmFTbXMiLCJzZW5kIiwidHJhbnNjbHVkZSIsImxhYmVsIiwicGxhY2Vob2xkZXIiLCJuZ1BhdHRlcm4iLCJuZ01vZGVsIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuIiwiaHJlZiIsInRhcmdldCIsImhvc3QiLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6IkFBS0FBLFFBQUFDLE9BQUEsVUFDQSxRQUNBLHFCQUNBLG9CQUNBLGFBQ0EsWUFDQSxlQUNBLGdCQUNBLGlCQUNBLHlCQUNBLFlBQ0EsZ0JBQ0EsZUFDQSxhQUNBLFdBQ0Esb0JBQ0EsZ0JBRUFDLFNBQUEsdUJBQ0FDLFNBQUEsZ0NBR0FDLEtBQUEsaUJBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FGLEVBQUFHLE1BQUEsV0FHQUMsT0FBQUMsT0FBQUQsT0FBQUMsTUFBQUMsVUFDQUYsT0FBQUMsTUFBQUMsU0FBQUMsMEJBQUEsR0FFQUgsT0FBQUksV0FFQUEsVUFBQUMsZUFFQVAsRUFBQVEsUUFDQVQsRUFBQVUsY0FJQUMsUUFBQSxpQkFBQSxxQkFBQSx1QkFBQSxtQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBQSxFQUFBQyxZQUNBQyxPQUFBLEVBQ0FDLG9CQUFBLElBRUFILEVBQUFJLFlBQUEsRUFJQUwsRUFBQU0sTUFBQUMsY0FBQSxHQUdBUCxFQUFBUSxXQUFBQyxtQkFBQSxHQUFBQyxLQUFBLElBR0FWLEVBQUFXLEtBQUFDLFNBQUEsU0FPQSxJQUFBQyxHQUFBLFlBQ0F4QixRQUFBeUIsYUFBQUMsUUFBQSxhQUNBRixFQUFBLGFBRUFkLEVBQUFpQixVQUFBSCxHQUlBZixFQUVBbUIsTUFBQSxPQUNBQyxJQUFBLE9BRUFDLFlBQUEsNEJBQ0FDLFdBQUEsYUFHQUgsTUFBQSxhQUNBQyxJQUFBLFNBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsY0FJQUgsTUFBQSxlQUNBQyxJQUFBLFdBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsZ0JBRUFILE1BQUEsNEJBQ0FDLElBQUEsZ0JBQ0FDLFlBQUEseUNBRUFGLE1BQUEsNkJBQ0FDLElBQUEsaUJBQ0FDLFlBQUEsMENBSUFGLE1BQUEsZ0JBQ0FDLElBQUEsWUFDQUMsWUFBQSxvQ0FDQUMsV0FBQSxpQkFFQUgsTUFBQSx3QkFDQUMsSUFBQSxXQUNBQyxZQUFBLDhDQUVBRixNQUFBLHVCQUNBQyxJQUFBLFVBQ0FDLFlBQUEsNkNBSUFGLE1BQUEsWUFDQUMsSUFBQSxRQUNBQyxZQUFBLDRCQUNBQyxXQUFBLGFBRUFILE1BQUEsWUFDQUMsSUFBQSxRQUNBQyxZQUFBLDhCQUdBRixNQUFBLFlBQ0FDLElBQUEsUUFDQUMsWUFBQSxnQ0FFQUYsTUFBQSxlQUNBQyxJQUFBLFdBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsZ0JBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGNBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGNBRUFILE1BQUEsZ0JBQ0FDLElBQUEsWUFDQUUsV0FBQSxXQUNBRCxZQUFBLDhCQUdBRixNQUFBLGdCQUNBQyxJQUFBLFlBQ0FDLFlBQUEsb0NBQ0FDLFdBQUEsaUJBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBRyxRQUFBQyxJQUFBLEVBQUFDLFFBQUEsRUFBQUMsT0FBQSxJQUNBTCxZQUFBLHNDQUNBQyxXQUFBLGNBRUFILE1BQUEsYUFDQUMsSUFBQSxTQUNBQyxZQUFBLHdDQUNBQyxXQUFBLGtCQUVBSCxNQUFBLGlCQUNBQyxJQUFBLGFBQ0FDLFlBQUEsd0NBRUFGLE1BQUEsY0FDQUMsSUFBQSxVQUNBQyxZQUFBLGdDQUNBQyxXQUFBLGVBRUFILE1BQUEsa0JBQ0FDLElBQUEsa0JBQ0FHLFFBQUFDLElBQUEsRUFBQUcsTUFBQSxHQUNBTixZQUFBLDBDQUNBQyxXQUFBLG1CQUVBSCxNQUFBLFdBQ0FDLElBQUEsT0FDQUMsWUFBQSwwQkFDQUMsV0FBQSxZQUVBSCxNQUFBLGtCQUNBQyxJQUFBLGNBQ0FDLFlBQUEsd0NBQ0FDLFdBQUEsbUJBRUFILE1BQUEsdUJBQ0FDLElBQUEsdUJBQ0FHLFFBQUFDLElBQUEsRUFBQUksTUFBQSxHQUNBUCxZQUFBLG9EQUNBQyxXQUFBLHdCQU9BSCxNQUFBLFlBQ0FDLElBQUEsWUFDQVosT0FDQXFCLFNBQ0FSLFlBQUEsNEJBQ0FDLFdBQUEsWUFFQVEsa0JBQ0FULFlBQUEsNkJBRUFVLGlCQUNBVixZQUFBLDRCQUVBVyxzQkFDQVgsWUFBQSw2QkFFQVksbUJBQ0FaLFlBQUEsb0NBTUF2QyxRQUFBQyxPQUFBLHlCQUNBRCxRQUFBQyxPQUFBLHdCQ3ZPQUQsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsYUFBQSxTQUFBLHFCQUFBLGlCQUFBLFNBQUEsU0FBQVksRUFBQUMsRUFBQWhELEVBQUFDLEdBQ0E4QyxFQUFBRSxRQUFBRixFQUFBRyxPQUFBLFFBQ0FILEVBQUFwQyxPQUFBVixFQUVBRCxFQUFBRyxNQUFBLFdBQ0FDLE9BQUErQyxTQUNBSCxFQUFBSSxnQkFBQUMsS0FBQSxTQUFBSixHQUNBSyxRQUFBQyxJQUFBLGtCQUFBTixHQUNBRixFQUFBRSxRQUFBQSxTQ1RBdEQsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsWUFDQSxTQUNBLGdCQUNBLGVBQ0EsZUFDQSxLQUNBLHlCQUNBLGNBRUEsU0FDQSxTQUFBWSxFQUFBUyxFQUFBM0IsRUFBQTRCLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FiLEVBQUFjLEtBQ0FDLFdBRUFmLEVBQUFnQixlQUFBLHVCQUVBaEIsRUFBQWlCLElBQUEseUJBQUEsV0FFQSxHQUFBQyxLQUVBUCxHQUFBUSxRQUFBVCxFQUFBcEIsSUFDQWdCLEtBQUEsU0FBQWMsR0FDQXBCLEVBQUFjLElBQUFDLFFBQ0FNLElBQUFELEVBQUFDLElBQ0FDLElBQUFGLEVBQUFFLElBQ0FDLEtBQUFDLE9BQUFKLEVBQUFHLE1BQUFDLE9BQUFKLEVBQUFHLE1BQUEsR0FFQXZCLEVBQUF5QixPQUFBTCxFQUFBSyxPQUVBYixFQUFBaEQsU0FDQW9DLEVBQUFvQixLQUFBQSxFQUVBVCxFQUFBZSxnQkFBQU4sRUFBQU8sT0FDQXJCLEtBQUEsU0FBQXNCLEdBQ0E1QixFQUFBNEIsSUFBQUEsSUFFQWpCLEVBQUFrQixjQUNBdkIsS0FBQSxTQUFBd0IsR0FDQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUEsRUFBQUQsRUFBQUUsU0FBQUQsRUFBQSxDQUNBLEdBQUFFLEdBQUFILEVBQUFDLEVBQ0FiLEdBQUFlLEVBQUFDLEtBQ0FDLFFBQUEsd0JBQUFGLEVBQUFHLEtBQ0FDLFlBQUEsR0FBQSxLQUdBMUIsRUFBQTJCLFFBQUFsQixFQUFBTyxPQUNBckIsS0FBQSxTQUFBaUMsR0FDQXZDLEVBQUFjLElBQUEwQixRQUFBRCxFQUFBekIsSUFBQSxTQUFBMkIsR0FDQSxPQUNBQyxNQUFBLE9BQ0FyQixJQUFBb0IsRUFBQUUsR0FDQXJCLElBQUFtQixFQUFBRyxHQUNBUixLQUFBbEIsRUFBQXVCLEVBQUFSLE1BQ0FZLFFBQUFKLEVBQUFLLE1BR0EsU0FBQUMsR0FDQXhDLFFBQUF5QyxNQUFBRCxLQUVBcEMsRUFBQXNDLFlBQUE3QixFQUFBTyxPQUNBckIsS0FBQSxTQUFBNEMsR0FDQWxELEVBQUFjLElBQUFxQyxNQUFBRCxFQUFBcEMsSUFBQSxTQUFBc0MsR0FDQSxPQUNBQyxRQUFBQyxLQUFBQyxNQUFBLElBQUFILEVBQUFBLEtBQUEsS0FDQUksTUFBQUosRUFBQUssRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEdBQ0FDLFVBQUFSLEVBQUFLLEVBQ0F4QixLQUFBLGNBR0EsU0FBQWMsR0FDQXhDLFFBQUF5QyxNQUFBRCxRQUlBLFNBQUFBLEdBQ0F4QyxRQUFBQyxJQUFBdUMsS0FHQXBDLEVBQUFrRCxjQUFBbkQsRUFBQXBCLElBQ0FnQixLQUFBLFNBQUF3RCxHQUNBOUQsRUFBQThELE9BQUFBLEdBQ0EsU0FBQWYsR0FDQXhDLFFBQUFDLElBQUF1QyxLQUdBcEMsRUFBQW9ELGtCQUFBckQsRUFBQXBCLElBQ0FnQixLQUFBLFNBQUEwRCxHQUNBaEUsRUFBQWdFLFNBQUFBLEdBQ0EsU0FBQWpCLEdBQ0F4QyxRQUFBQyxJQUFBdUMsT0FLQS9DLEVBQUFpRSxVQUFBLFVBR0FqRSxFQUFBa0UsU0FBQXBGLEVBQUFxRixJQUFBLGFBQ0FuRSxFQUFBb0UsVUFBQSxLQUlBdkQsRUFBQXdELGdCQUFBLGtDQUNBQyxNQUFBdEUsRUFDQXVFLFVBQUEsZ0JBQ0FqRSxLQUFBLFNBQUFrRSxHQUNBeEUsRUFBQXlFLFVBQUFELElBRUF4RSxFQUFBMEUsVUFBQSxTQUFBQyxHQUNBM0UsRUFBQXlFLFVBQUFHLE9BQ0E1RSxFQUFBMkUsUUFBQUEsR0FFQTNFLEVBQUE2RSxXQUFBLFdBQ0E3RSxFQUFBeUUsVUFBQUssUUFFQTlFLEVBQUErRSxVQUFBLFdBQ0EvRSxFQUFBZ0YsY0FBQWhGLEVBQUFnRixjQUVBaEYsRUFBQWdGLGNBQUEsRUFHQW5FLEVBQUF3RCxnQkFBQSxvQ0FDQUMsTUFBQXRFLEVBQ0F1RSxVQUFBLGdCQUNBakUsS0FBQSxTQUFBa0UsR0FDQXhFLEVBQUFpRixZQUFBVCxJQUVBeEUsRUFBQWtGLGVBQUEsU0FBQVAsR0FDQTNFLEVBQUFpRixZQUFBTCxPQUNBNUUsRUFBQTJFLFFBQUFBLEdBRUEzRSxFQUFBbUYsZ0JBQUEsV0FDQW5GLEVBQUFpRixZQUFBSCxRQUdBOUUsRUFBQWlCLElBQUEsV0FBQSxXQUNBakIsRUFBQXlFLFVBQUFXLFNBQ0FwRixFQUFBaUYsWUFBQUcsV0FJQXhJLFFBQUF5SSxPQUFBckYsRUFBQWMsS0FDQXdFLFFBQ0FDLFlBQ0FDLFFBQ0FDLEtBQUEsU0FDQXhELEtBQUEsTUFDQS9DLElBQUEsb0ZBQ0F3RyxjQUNBQyxRQUFBLGtCQUNBQyxPQUFBLHVFQUlBQyxVQUNBdEQsTUFDQWtELEtBQUEsVUFDQXhELEtBQUEsZ0JBQ0E2RCxTQUFBLEVBQ0FKLGNBQ0FLLHdCQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLHFCQUFBLEVBQ0FDLDRCQUFBLFdDdEtBdEosUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsYUFBQSxTQUFBLGVBQUEsdUJBQUEsS0FBQSxTQUFBWSxFQUFBVSxFQUFBeUYsRUFBQXhGLEdBRUEsR0FBQXlGLEdBQUExRixFQUFBbEIsTUFDQVEsR0FBQVIsT0FBQTRHLEVBQ0FwRyxFQUFBVCxPQUFBbUIsRUFBQW5CLE9BQ0FvQixFQUFBbkIsT0FBQSxHQUFBa0IsRUFBQXBCLElBQ0FnQixLQUFBLFNBQUErRixHQUNBckcsRUFBQXNHLE1BQUFELEdBQ0EsU0FBQXRELEdBQ0F4QyxRQUFBQyxJQUFBdUMsS0FFQS9DLEVBQUF1RyxZQUFBLFdBQ0F2RyxFQUFBUixPQUFBLElBRUFRLEVBQUF3RyxVQUFBLFdBQ0FMLEVBQUFLLGdCQ2hCQTVKLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGVBQUEsU0FBQSxTQUFBLGVBQUEsU0FBQVksRUFBQXlHLEVBQUEzSCxHQUNBa0IsRUFBQTBHLFlBQUE1SCxFQUFBcUYsSUFBQSxrQkNGQXZILFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGdCQUFBLFNBQUEsS0FBQSxTQUFBWSxFQUFBVyxHQUNBQSxFQUFBZ0csY0FDQXJHLEtBQUEsU0FBQStGLEdBQ0FyRyxFQUFBNEcsU0FBQVAsR0FDQSxTQUFBdEQsR0FDQXhDLFFBQUFDLElBQUF1QyxRQ05BbkcsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsa0JBQUEsU0FBQSxlQUFBLEtBQUEsU0FBQVksRUFBQVUsRUFBQUMsR0FDQVgsRUFBQVAsS0FBQWlCLEVBQUFqQixLQUNBTyxFQUFBZ0IsZUFBQSx1QkFDQWhCLEVBQUFQLE1BQ0FrQixFQUFBa0csUUFBQW5HLEVBQUFwQixJQUNBZ0IsS0FBQSxTQUFBK0YsR0FDQXJHLEVBQUFQLEtBQUE0RyxFQUNBOUYsUUFBQUMsSUFBQVIsRUFBQVAsT0FDQSxTQUFBc0QsR0FDQXhDLFFBQUFDLElBQUF1QyxLQUdBeEMsUUFBQUMsSUFBQVIsRUFBQVAsU0NiQTdDLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGNBQUEsU0FBQSxLQUFBLFNBQUFZLEVBQUFXLEdBQ0FYLEVBQUFpRSxVQUFBLEtBQ0FqRSxFQUFBZ0IsZUFBQSx1QkFDQUwsRUFBQW1HLFlBQ0F4RyxLQUFBLFNBQUErRixHQUNBckcsRUFBQThELE9BQUF1QyxFQUNBckcsRUFBQStHLFlBQUFWLEVBQUEsR0FBQVcsS0FDQSxTQUFBakUsR0FDQXhDLFFBQUFDLElBQUF1QyxRQ1RBbkcsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsWUFDQSxTQUNBLFNBQ0EsZ0JBQ0EsZUFDQSxjQUNBLFNBQUFZLEVBQUF5RyxFQUFBaEcsRUFBQTNCLEVBQUFtSSxHQUVBakgsRUFBQWtILFNBQUFELEVBR0FuSSxFQUFBcUksSUFBQSxnQkFBQTFHLEVBQUEyRyxvQkFFQXBILEVBQUFxSCxPQUFBLFNBQUFDLEdBQ0EsSUFBQUEsRUFBQUMsU0FBQUQsRUFBQUUsVUFDQWYsRUFBQWdCLEdBQUEsYUFBQWpJLE9BQUE4SCxFQUFBSSxXQUFBQyxZQ2hCQS9LLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGFBQUEsU0FBQSxTQUFBLGVBQUEsU0FBQVksRUFBQXlHLEVBQUEzSCxHQUNBa0IsRUFBQTRILElBQUE5SSxFQUFBcUYsSUFBQSxVQ0ZBdkgsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsYUFDQSxTQUNBLFNBQ0EsU0FDQSxnQkFDQSxnQkFDQSxxQkFDQSxTQUFBWSxFQUFBeUcsRUFBQXZKLEVBQUEySyxFQUFBcEgsRUFBQXFILEdBT0E5SCxFQUFBK0gsT0FBQSxTQUFBQyxHQUNBSCxFQUFBakQsT0FFQTFILEVBQUErSyxXQUFBRCxFQUFBRSxTQUFBQyxXQUFBSCxFQUFBSSxTQUFBRCxZQUNBN0gsS0FBQSxXQUNBdUgsRUFBQS9DLE9BQ0FrRCxFQUFBSyxhQUFBLGNBQUEsR0FDQTVCLEVBQUFnQixHQUFBLGFBQ0EsU0FBQXpFLEdBQ0E2RSxFQUFBL0MsT0FDQWtELEVBQUFLLGFBQUEsY0FBQSxHQUNBckksRUFBQWdELE1BQUFBLEVBQUFzRixZQVFBdEksRUFBQXVJLEtBQUEsV0FDQVQsRUFBQVUsY0FBQSxXQUNBL0gsRUFBQWdJLGlCQUVBQyxhQUFBLEVBQ0FDLGFBQUEsSUFFQWxDLEVBQUFnQixHQUFBLGdCQ3pDQTdLLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLFdBQ0EsU0FDQSxjQUNBLEtBQ0EsU0FBQVksRUFBQTRJLEVBQUFqSSxHQUNBWCxFQUFBNkksS0FBQSxNQUNBbEksRUFBQW5CLE9BQUEsSUFBQWMsS0FBQSxTQUFBZ0csR0FDQXRHLEVBQUF3QyxRQUFBOEQsRUFBQXhGLElBQUEsU0FBQWdJLEdBQ0EsT0FDQXBHLE1BQUEsWUFDQXJCLElBQUF5SCxFQUFBekgsSUFDQUMsSUFBQXdILEVBQUF4SCxJQUNBeUgsZ0JBQUEsV0FDQSxHQUFBQyxHQUFBaEosRUFBQWlKLE1BRUEsT0FEQUQsR0FBQTVILEtBQUEwSCxFQUNBRSxHQUVBbkcsUUFBQSw2REFJQWpHLFFBQUF5SSxPQUFBckYsR0FDQWUsUUFDQU0sSUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FFQStELFFBQ0FDLFlBQ0FDLFFBQ0FDLEtBQUEsU0FDQXhELEtBQUEsTUFDQS9DLElBQUEsb0ZBQ0F3RyxjQUNBQyxRQUFBLGtCQUNBQyxPQUFBLHVFQUlBQyxVQUNBcUQsV0FDQXpELEtBQUEsZUFDQXhELEtBQUEsZ0JBQ0E2RCxTQUFBLEVBQ0FKLGNBQ0FLLHdCQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLHFCQUFBLEVBQ0FDLDRCQUFBLFdDakRBdEosUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsWUFDQSxTQUNBLFNBQ0EscUJBQ0EsZ0JBQ0EsY0FDQSxTQUNBLFNBQUFZLEVBQUF5RyxFQUFBcUIsRUFBQXFCLEVBQUFsQyxFQUFBL0osR0FFQThDLEVBQUFpSCxZQUFBQSxFQUVBa0MsRUFBQTlFLGdCQUFBLGdDQUNBQyxNQUFBdEUsSUFDQU0sS0FBQSxTQUFBOEksR0FDQXBKLEVBQUFvSixRQUFBQSxJQUdBcEosRUFBQXFKLFNBQUEsV0FDQXJKLEVBQUFvSixRQUFBdEUsT0FDQTJCLEVBQUFnQixHQUFBLGlCQUVBekgsRUFBQXNKLE9BQUEsV0FDQXRKLEVBQUFvSixRQUFBdEUsT0FDQTVILEVBQUFxTSxjQUVBOUMsRUFBQWdCLEdBQUEsY0FFQXpILEVBQUF3SixNQUFBLFdBQ0F4SixFQUFBb0osUUFBQXRFLE9BQ0FnRCxFQUFBVSxjQUFBLFFBQ0EvQixFQUFBZ0IsR0FBQSxjQUVBekgsRUFBQXlKLFNBQUEsV0FDQXpKLEVBQUFvSixRQUFBdEUsT0FDQTJCLEVBQUFnQixHQUFBLHlCQUdBekgsRUFBQXBDLE9BQUEsV0FDQVYsRUFBQXdNLG1CQ3RDQTlNLFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLGVBQ0EsU0FDQSxTQUNBLGdCQUNBLGlCQUNBLGdCQUNBLGdCQUNBLE1BQ0EsU0FBQVksRUFBQXlHLEVBQUFoRyxFQUFBeEQsRUFBQTRLLEVBQUE4QixFQUFBQyxHQUNBLFlBR0EsSUFBQUMsR0FBQSxFQU1BN0osR0FBQXVJLEtBQUEsV0FDQXZJLEVBQUE4SixLQUFBLEdBQ0FyRCxFQUFBZ0IsR0FBQSxvQkFRQXpILEVBQUErSixhQUFBLFNBQUFDLEdBRUFuQyxFQUFBakQsT0FFQWlGLEVBQUFHLEVBQUFILEtBQUExQixXQUNBeUIsRUFBQUssbUJBQUFKLEdBQ0F2SixLQUFBLFNBQUErRixHQUdBckcsRUFBQThKLEtBQUEsK0RBQ0F6RCxFQUFBNkQsU0FDQWxLLEVBQUE4SixNQUFBLFNBQ0F6RCxFQUFBOEQsU0FDQW5LLEVBQUE4SixNQUFBLFVBR0F6RCxFQUFBOEQsU0FDQW5LLEVBQUE4SixNQUFBLE9BRUE5SixFQUFBOEosTUFBQSxJQUVBckQsRUFBQWdCLEdBQUEsb0JBRUEsV0FHQXVDLEVBQUFILEtBQUF4QixhQUFBLGVBQUEsS0FyQkF1QixXQXVCQS9CLEVBQUEvQyxPQVVBOUUsRUFBQW9LLGNBQUEsU0FBQUosR0FDQW5DLEVBQUFqRCxPQUVBZ0YsRUFBQVMsb0JBQUFSLEVBQUFHLEVBQUE1QixTQUFBRCxXQUFBNkIsRUFBQU0sS0FBQW5DLFlBQ0E3SCxLQUFBLFNBQUErRixHQUNBOUYsUUFBQUMsSUFBQTZGLEdBRUFwSixFQUFBRyxNQUFBLFdBQ0F1TSxFQUFBWSxlQUFBLCtCQUdBOUosRUFBQStKLGdCQUFBL0osRUFBQWdLLGNBQUFDLFlBQ0EsU0FBQTFILEdBQ0F6QyxRQUFBQyxJQUFBd0MsS0FWQTRHLFdBZ0JBL0IsRUFBQS9DLFVDdkZBbEksUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsZ0JBQ0EsU0FDQSxTQUNBLGdCQUNBLGNBQ0EsdUJBQ0EsTUFDQSxlQUNBLFNBQUFZLEVBQUF5RyxFQUFBb0IsRUFBQWhILEVBQUFzRixFQUFBeUQsRUFBQTlLLEdBRUEsR0FBQW9KLEVBR0FsSSxHQUFBMkssY0FBQSxTQUFBQyxHQUNBaEIsRUFBQWlCLFlBQUFELEVBQUF6QyxZQUNBN0gsS0FBQSxTQUFBK0YsR0FDQXVFLEVBQUF2QyxhQUFBLGFBQUFoQyxNQUtBckcsRUFBQThLLFdBQUEsU0FBQUYsR0FDQWhCLEVBQUFpQixZQUFBLEtBQUFELEVBQUF6QyxZQUNBN0gsS0FBQSxTQUFBK0YsR0FDQXVFLEVBQUF2QyxhQUFBLGNBQUFoQyxNQU1BckcsRUFBQStLLGNBTUEvSyxFQUFBeUosU0FBQSxTQUFBTyxHQUNBbkMsRUFBQWpELE9BR0E1RSxFQUFBZ0wsTUFBQWhCLEVBQUFnQixNQUFBN0MsV0FHQUQsRUFBQThCLEVBQUE5QixTQUFBQyxVQUVBLElBQUFDLEdBQUE0QixFQUFBNUIsU0FBQUQsV0FDQThDLEVBQUFqQixFQUFBaUIsU0FBQTlDLFdBQ0ErQyxFQUFBbEIsRUFBQWtCLE1BQUEvQyxVQUVBeUIsR0FBQXVCLGNBQUFqRCxFQUFBK0MsRUFBQTdDLEVBQUE4QyxFQUFBbEwsRUFBQWdMLE9BQ0ExSyxLQUFBLFdBRUF1SCxFQUFBL0MsT0FDQTJCLEVBQUFnQixHQUFBLGFBRUEsU0FBQXpFLEdBT0FoRCxFQUFBK0ssV0FBQUssbUJBQUEsRUFDQWpGLEVBQUFLLFdBQUEsR0FHQSxHQUFBeEQsRUFBQXFJLFlBQ0FyQixFQUFBa0IsTUFBQTdDLGFBQUEsZ0JBQUEsR0FHQSxHQUFBckYsRUFBQXFJLGFBQ0FyTCxFQUFBMkssY0FBQVgsRUFBQTlCLFVBQ0FsSSxFQUFBOEssV0FBQWQsRUFBQWtCLFFBR0EsSUFBQWxJLEVBQUFxSSxZQUNBckIsRUFBQWdCLE1BQUEzQyxhQUFBLGdCQUFBLEdBR0FSLEVBQUEvQyxVQVNBOUUsRUFBQXNMLE9BQUEsU0FBQXRCLEdBQ0FuQyxFQUFBakQsTUFFQSxJQUFBMkcsR0FBQXZCLEVBQUF1QixPQUVBM0IsR0FBQTRCLGFBQUF0RCxFQUFBcUQsRUFBQXBELFlBQ0E3SCxLQUFBLFdBQ0FpTCxFQUFBbEQsYUFBQSxZQUFBLEdBQ0E1QixFQUFBZ0IsR0FBQSxnQkFDQSxXQUNBOEQsRUFBQWxELGFBQUEsWUFBQSxLQUxBdUIsV0FPQS9CLEVBQUEvQyxTQUdBOUUsRUFBQTRILElBQUE5SSxFQUFBcUYsSUFBQSxPQUVBdEQsRUFBQXdELGdCQUFBLGlDQUNBQyxNQUFBdEUsRUFDQXVFLFVBQUEsZ0JBQ0FqRSxLQUFBLFNBQUFrRSxHQUNBeEUsRUFBQXlMLEtBQUFqSCxJQUVBeEUsRUFBQTBMLFNBQUEsV0FDQTFMLEVBQUF5TCxLQUFBN0csUUFFQTVFLEVBQUEyTCxVQUFBLFdBQ0EzTCxFQUFBeUwsS0FBQTNHLFFBRUE5RSxFQUFBaUIsSUFBQSxXQUFBLFdBQ0FqQixFQUFBeUwsS0FBQXJHLGNDdkhBeEksUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsdUJBQUEsU0FBQSxlQUFBLEtBQUEseUJBQUEsU0FBQVksRUFBQVUsRUFBQUMsRUFBQUMsR0FLQSxHQUpBWixFQUFBZ0IsZUFBQSx1QkFDQWhCLEVBQUFOLEtBQUFnQixFQUFBaEIsS0FDQU0sRUFBQXlCLFVBRUF6QixFQUFBTixLQVVBLENBQ0EsR0FBQTJHLEdBQUFyRyxFQUFBTixJQUNBTSxHQUFBeUIsUUFBQTRFLEVBQUF1RixLQUFBdkYsRUFBQXdGLEtBQUF4RixFQUFBeUYsTUFBQUMsT0FBQSxTQUFBQyxHQUNBLE9BQUEsTUFBQW5ELEtBQUFtRCxLQUdBcEwsRUFBQWhELGFBZkErQyxHQUFBc0wsYUFBQXZMLEVBQUFwQixJQUNBZ0IsS0FBQSxTQUFBK0YsR0FDQXJHLEVBQUF5QixRQUFBNEUsRUFBQXVGLEtBQUF2RixFQUFBd0YsS0FBQXhGLEVBQUF5RixNQUFBQyxPQUFBLFNBQUFDLEdBQ0EsT0FBQSxNQUFBbkQsS0FBQW1ELEtBR0FwTCxFQUFBaEQsU0FDQW9DLEVBQUFOLEtBQUEyRyxPQ2RBekosUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsa0JBQUEsU0FBQSxLQUFBLFNBQUFZLEVBQUFXLEdBQ0FBLEVBQUF1TCxnQkFDQTVMLEtBQUEsU0FBQStGLEdBQ0E5RixRQUFBQyxJQUFBNkYsR0FDQXJHLEVBQUFtTSxXQUFBOUYsSUFFQXJHLEVBQUFnQixlQUFBLHVCQUNBaEIsRUFBQWlFLFVBQUEsUUNSQXJILFFBQUFDLE9BQUEsc0JBQ0F1QyxXQUFBLFlBQUEsU0FBQSxLQUFBLFNBQUFZLEVBQUFXLEdBQ0FBLEVBQUF5TCxjQUNBOUwsS0FBQSxTQUFBdUosR0FDQTdKLEVBQUE2SixLQUFBQSxJQUVBbEosRUFBQTBMLGlCQUNBL0wsS0FBQSxTQUFBZ00sR0FDQXRNLEVBQUFzTSxRQUFBQSxPQ1JBMVAsUUFBQUMsT0FBQSxzQkFDQXVDLFdBQUEsaUJBQ0EsU0FDQSxlQUNBLEtBQ0EsY0FDQSxTQUFBWSxFQUFBVSxFQUFBQyxFQUFBRSxHQUNBYixFQUFBdU0sS0FBQSxNQUNBdk0sRUFBQXdNLFNBQUEsd0JBRUF4TSxFQUFBaUIsSUFBQSx5QkFBQSxXQUNBakIsRUFBQXlNLElBQUFDLEtBQUFELE1BQ0E5TCxFQUFBZ00sa0JBQ0FyTSxLQUFBLFNBQUErRixHQUNBckcsRUFBQWdFLFNBQUFxQyxHQUNBLFNBQUF0RCxHQUNBeEMsUUFBQUMsSUFBQXVDLE9BS0FsQyxFQUFBd0QsZ0JBQUEsMENBQ0FDLE1BQUF0RSxFQUNBdUUsVUFBQSxnQkFDQWpFLEtBQUEsU0FBQWtFLEdBQ0F4RSxFQUFBaUYsWUFBQVQsSUFFQXhFLEVBQUFrRixlQUFBLFNBQUFQLEdBQ0EzRSxFQUFBaUYsWUFBQUwsT0FDQXJFLFFBQUFDLElBQUFtRSxHQUNBM0UsRUFBQTJFLFFBQUFBLEdBRUEzRSxFQUFBbUYsZ0JBQUEsV0FDQW5GLEVBQUFpRixZQUFBSCxRQUdBOUUsRUFBQWlCLElBQUEsV0FBQSxXQUNBakIsRUFBQWlGLFlBQUFHLGNDckNBLFNBQUF4SSxHQUNBLFlBRUFBLEdBQUFDLE9BQUEsY0FBQSxpQkFDQStQLFNBQUEsTUFBQSxXQUVBQyxLQUFBQyxTQUFBLHVDQUVBRCxLQUFBRSxNQUFBLFFBQUEsY0FBQSxlQUFBLEtBQUEsU0FBQUMsRUFBQS9GLEVBQUFuSSxFQUFBbU8sR0FDQSxHQUFBSCxHQUFBRCxLQUFBQyxTQU9BSSxFQUFBLFNBQUE3TixFQUFBOE4sR0FDQSxNQUFBRixHQUFBLFNBQUFHLEVBQUFDLEdBQ0FMLEdBRUFNLE9BQUEsTUFDQXBPLElBQUE0TixFQUNBek4sT0FBQXpDLEVBQUF5SSxPQUFBaEcsR0FBQWtPLElBQUEscUJBQ0FDLFFBQUEsSUFDQUwsTUFBQUEsS0FBQSxJQUlBTSxRQUFBLFNBQUFwSCxHQUNBLFVBQUFBLEVBQUFxSCxPQUNBTCxFQUFBaEgsRUFBQXhELFNBRUF3RCxFQUFBQSxLQUNBK0csRUFBQS9HLEVBQUFBLEtBQUFpQyxVQUVBK0UsRUFBQWhILEtBSUFyRCxNQUFBLFNBQUFxRCxFQUFBcUgsR0FFQUwsRUFEQSxJQUFBSyxFQUNBLEdBQUFDLE9BQUEsbUJBRUF0SCxRQVVBdUgsRUFBQSxTQUFBdk8sR0FDQSxHQUFBd08sR0FBQTVHLEVBQUE2RyxLQUNBLE9BQUFaLEdBQUF0USxFQUFBeUksT0FBQWhHLEdBQUEwTyxFQUFBRixLQUdBLFFBQ0FHLG1CQUFBLFdBQ0EsTUFBQWQsSUFBQWUsRUFBQSx3QkFFQUMsYUFBQSxXQUNBLE1BQUFoQixJQUFBZSxFQUFBLGtCQUVBcEQsWUFBQSxTQUFBM0MsRUFBQWdELEdBQ0EsR0FBQWlELElBQUFGLEVBQUEsY0FTQSxPQVBBL0YsSUFBQSxnQkFBQUEsS0FDQWlHLEVBQUFqRyxTQUFBQSxHQUVBZ0QsR0FBQSxnQkFBQUEsS0FDQWlELEVBQUFqRCxNQUFBQSxHQUdBZ0MsRUFBQWlCLEdBQUEsSUFFQWhELGNBQUEsU0FBQWpELEVBQUErQyxFQUFBN0MsRUFBQThDLEVBQUFGLEdBQ0EsTUFBQWtDLElBQ0FlLEVBQUEsZ0JBQ0EvRixTQUFBQSxFQUNBK0MsU0FBQUEsRUFDQTdDLFNBQUFBLEVBQ0E4QyxNQUFBQSxFQUNBRixNQUFBQSxJQUNBLElBRUFRLGFBQUEsU0FBQXRELEVBQUFrRyxHQUNBLE1BQUFsQixJQUNBZSxFQUFBLGVBQ0EvRixTQUFBQSxFQUNBa0csSUFBQUEsSUFDQSxJQUVBQyxVQUFBLFdBQ0EsTUFBQVQsSUFBQUssRUFBQSxlQUVBaEUsbUJBQUEsU0FBQUosR0FDQSxNQUFBcUQsSUFDQWUsRUFBQSxxQkFDQUssb0JBQUF6RSxJQUNBLElBRUFRLG9CQUFBLFNBQUFpRSxFQUFBbEcsRUFBQWtDLEdBQ0EsTUFBQTRDLElBQ0FlLEVBQUEsc0JBQ0FLLG9CQUFBQSxFQUNBbEcsU0FBQUEsRUFDQWtDLEtBQUFBLElBQ0EsSUFFQWlFLHFCQUFBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQWIsSUFDQUssRUFBQSx1QkFDQU8sYUFBQUEsRUFDQUMsYUFBQUEsSUFDQSxJQUVBeEcsV0FBQSxTQUFBQyxFQUFBRSxHQUNBLE1BQUE4RSxJQUNBZSxFQUFBLGFBQ0EvRixTQUFBQSxFQUNBRSxTQUFBQSxJQUNBLEdBQ0E5SCxLQUFBLFNBQUErRixHQUlBLE1BSEFZLEdBQUF5SCxTQUFBckksR0FHQUEsS0FHQWtELFlBQUEsV0FDQXFFLEdBQUFLLEVBQUEsZ0JBQUEsR0FDQTNOLEtBQUEsV0FDQTJHLEVBQUEwSCxpQkFHQUMsY0FBQSxXQUNBLE1BQUFoQixJQUFBSyxFQUFBLGtCQUFBLElBRUFZLFdBQUEsV0FDQSxNQUFBM0IsSUFBQWUsRUFBQSxnQkFFQWEsZUFBQSxXQUNBLE1BQUE1QixJQUFBZSxFQUFBLG9CQUVBYyxVQUFBLFdBQ0EsTUFBQTdCLElBQUFlLEVBQUEsZUFFQWUsa0JBQUEsU0FBQXJOLEdBQ0EsTUFBQXVMLElBQ0FlLEVBQUEsb0JBQ0F0TSxNQUFBQSxLQUdBc04saUJBQUEsU0FBQXROLEdBQ0EsTUFBQXVMLElBQ0FlLEVBQUEsbUJBQ0F0TSxNQUFBQSxLQUdBdU4sVUFBQSxTQUFBQyxHQUNBLE1BQUFqQyxJQUNBZSxFQUFBLFlBQ0FrQixPQUFBQSxLQUdBQyxtQkFBQSxTQUFBRCxHQUNBLE1BQUFqQyxJQUNBZSxFQUFBLHFCQUNBa0IsT0FBQUEsS0FHQUUsYUFBQSxTQUFBRixHQUNBLE1BQUFqQyxJQUNBZSxFQUFBLGVBQ0FrQixPQUFBQSxLQUdBRyxVQUFBLFNBQUFDLEdBQ0EsTUFBQXJDLElBQ0FlLEVBQUEsWUFDQXNCLE9BQUFBLEtBR0FDLFdBQUEsU0FBQTdOLEVBQUF3TixHQUNBLE1BQUFqQyxJQUNBZSxFQUFBLGFBQ0F0TSxNQUFBQSxFQUNBd04sT0FBQUEsS0FHQU0sYUFBQSxTQUFBOU4sR0FDQSxNQUFBdUwsSUFDQWUsRUFBQSxlQUNBdE0sTUFBQUEsS0FHQStOLGtCQUFBLFdBQ0EsTUFBQXhDLElBQUFlLEVBQUEsdUJBRUEwQixpQkFBQSxTQUFBaE8sR0FDQSxNQUFBdUwsSUFDQWUsRUFBQSxtQkFDQXRNLE1BQUFBLEtBR0FpTyxtQkFBQSxXQUNBLE1BQUFoQyxJQUFBSyxFQUFBLHVCQUFBLElBRUE0QixxQkFBQSxXQUNBLE1BQUEzQyxJQUFBZSxFQUFBLDBCQUVBNkIsaUJBQUEsV0FDQSxNQUFBNUMsSUFBQWUsRUFBQSxzQkFFQThCLG9CQUFBLFdBQ0EsTUFBQTdDLElBQUFlLEVBQUEseUJBRUErQixjQUFBLFdBQ0EsTUFBQTlDLElBQUFlLEVBQUEseUJBS0E1USxPQUFBVCxTQ2pPQSxTQUFBQSxFQUFBcVQsR0FDQSxZQUVBclQsR0FBQUMsT0FBQSxnQkFDQStQLFNBQUEsS0FBQSxXQUVBQyxLQUFBRSxNQUFBLGlCQUFBLE1BQUEsS0FBQSxTQUFBbUQsRUFBQXRHLEVBQUFxRCxHQUdBLEdBQUFrRCxFQUNBLElBQUE5UyxPQUFBK1MsYUFDQUQsRUFBQUQsRUFBQUcsT0FBQSxxQkFDQSxDQUFBLElBQUFoVCxPQUFBaVQsYUFJQSxNQURBL1AsU0FBQUMsSUFBQSx1Q0FDQXlQLENBSEFFLEdBQUE5UyxPQUFBaVQsYUFBQSxnQkFBQSxNQUFBLGFBQUEsVUFPQSxHQUFBQyxJQUNBQyxPQUNBLEtBQUEsUUFDQSxRQUFBLFFBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsTUFBQSxTQUNBLE1BQUEsU0FDQSxPQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsU0FDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLElBQUEsU0FFQUMsWUFDQSxLQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxTQUFBLFFBQ0EsVUFBQSxTQUVBQyxVQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLFFBQUEsUUFDQSxNQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsU0FFQUMsU0FDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxJQUFBLFNBRUFDLGVBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxPQUFBLFNBRUFDLE9BQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsTUFBQSxRQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsT0FBQSxTQUNBLE1BQUEsU0FDQSxLQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxNQUFBLFNBQ0EsTUFBQSxTQUVBQyxPQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FFQUMsZUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLE9BQUEsUUFDQSxLQUFBLFFBQ0EsV0FBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFFBQ0EsT0FBQSxRQUNBLElBQUEsU0FDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsU0FFQUMsWUFDQSxLQUFBLFFBQ0EsV0FBQSxTQUNBLFdBQUEsU0FDQSxNQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxRQUFBLFNBQ0EsVUFBQSxTQUVBQyxjQUNBLFNBQUEsU0FFQUMsWUFDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxLQUFBLFFBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxPQUFBLFNBQ0EsT0FBQSxTQUNBLE9BQUEsU0FDQSxPQUFBLFNBQ0EsVUFBQSxTQUVBQyxlQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLEtBQUEsU0FDQSxNQUFBLFNBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsS0FBQSxRQUNBLE1BQUEs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QUFBLElBQ0FDLFlBQUEsSUFDQTNULEtBQUEsSUFDQTRULFVBQUEsSUFDQUMsUUFBQSxNQUdBM1csWUFBQSwyQ0FDQUMsV0FBQSxTQUFBWSxHQUNBQSxFQUFBVixHQUFBVSxFQUFBVixJQUFBVSxFQUFBeUYsS0FDQXpGLEVBQUFpQyxLQUFBakMsRUFBQWlDLE1BQUEsV0NuQkFyRixRQUFBQyxPQUFBLG9CQUNBK1gsVUFBQSxpQkFBQSx1QkFBQSxTQUFBbUIsR0FDQSxZQUNBLFFBQ0FoQixTQUFBLElBQ0FDLEtBQUEsU0FBQTFRLEVBQUEwSCxHQUNBQSxFQUFBa0osR0FBQSxRQUFBLFNBQUFDLEdBQ0FZLEVBQUFDLEtBQUFoSyxFQUFBLEdBQUFpSyxLQUFBLFdBQ0FkLEVBQUFDLHdCQUtBUixVQUFBLHVCQUFBLHVCQUFBLFNBQUFtQixHQUNBLFlBQ0EsUUFDQWhCLFNBQUEsSUFDQUMsS0FBQSxTQUFBMVEsRUFBQTBILEdBQ0FBLEVBQUFrSixHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQWUsT0FBQUQsTUFBQWQsRUFBQWUsT0FBQUMsT0FBQTlZLE9BQUErWSxTQUFBRCxPQUNBSixFQUFBQyxLQUFBYixFQUFBZSxPQUFBRCxLQUFBLFdBQ0FkLEVBQUFDIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhbmd1bGFyLm1vZHVsZSBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXIgbW9kdWxlc1xuLy8gJ2lmaXNrZScgaXMgdGhlIG5hbWUgb2YgdGhpcyBhbmd1bGFyIG1vZHVsZSBleGFtcGxlIChhbHNvIHNldCBpbiBhIDxib2R5PiBhdHRyaWJ1dGUgaW4gaW5kZXguaHRtbClcbi8vIHRoZSAybmQgcGFyYW1ldGVyIGlzIGFuIGFycmF5IG9mICdyZXF1aXJlcydcbi8vICdpZmlza2UuY29udHJvbGxlcnMnIGlzIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UnLCBbXG4gICAgJ2lvbmljJyxcbiAgICAnaWZpc2tlLmNvbnRyb2xsZXJzJyxcbiAgICAnaWZpc2tlLmRpcmVjdGl2ZXMnLFxuICAgICdpZmlza2UuYXBpJyxcbiAgICAnaWZpc2tlLmRiJyxcbiAgICAnaWZpc2tlLnV0aWxzJyxcbiAgICAnaWZpc2tlLnVwZGF0ZScsXG4gICAgJ2lmaXNrZS5maWx0ZXJzJyxcbiAgICAnaW9uaWMuaW9uLmhlYWRlclNocmluaycsXG4gICAgJ25nQ29yZG92YScsXG4gICAgJ3N5c3RlbUJyb3dzZXInLFxuICAgICduZ0NvcmRvdmFTbXMnLFxuICAgICduZ01lc3NhZ2VzJyxcbiAgICAnSW1nQ2FjaGUnLFxuICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgJ3RhYlNsaWRlQm94J1xuXSlcbiAgICAuY29uc3RhbnQoJyRpb25pY0xvYWRpbmdDb25maWcnLCB7XG5cdHRlbXBsYXRlOiAnPGlvbi1zcGlubmVyPjwvaW9uLXNwaW5uZXI+J1xuXHQvLyBoaWRlT25TdGF0ZUNoYW5nZTogdHJ1ZVxuICAgIH0pXG4gICAgLnJ1bihbJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsICdJbWdDYWNoZScsIGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCBVcGRhdGUsIEltZ0NhY2hlKSB7XG5cdCRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IFxuXHQgICAgLy8gKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkIGZvciBmb3JtIGlucHV0cylcbiAgICAgICAgICAgIGlmKHdpbmRvdy5pb25pYyAmJiB3aW5kb3cuaW9uaWMuS2V5Ym9hcmQpIHtcblx0XHR3aW5kb3cuaW9uaWMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYod2luZG93LlN0YXR1c0Jhcikge1xuXHRcdC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcblx0XHRTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBJbWdDYWNoZS4kaW5pdCgpO1xuICAgICAgICAgICAgVXBkYXRlLnVwZGF0ZSgpO1xuXHR9KTtcbiAgICB9XSlcblxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGlvbmljQ29uZmlnUHJvdmlkZXInLCAnSW1nQ2FjaGVQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyLCBJbWdDYWNoZVByb3ZpZGVyKSB7XG5cblx0SW1nQ2FjaGVQcm92aWRlci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICAgICAgdXNlUGVyc2lzdGVudENhY2hlOiB0cnVlXG5cdH0pO1xuXHRJbWdDYWNoZVByb3ZpZGVyLm1hbnVhbEluaXQgPSB0cnVlO1xuXG5cblx0Ly8gQ2FjaGUgdmlld3MgaW4gdGhlIGZvcndhcmQgc3RhY2tcblx0JGlvbmljQ29uZmlnUHJvdmlkZXIudmlld3MuZm9yd2FyZENhY2hlKHRydWUpO1xuXG5cdC8vIENsZWFyIGJhY2sgYnV0dG9uIGRlZmF1bHQgdGV4dFxuXHQkaW9uaWNDb25maWdQcm92aWRlci5iYWNrQnV0dG9uLnByZXZpb3VzVGl0bGVUZXh0KGZhbHNlKS50ZXh0KCcnKTtcblxuXHQvLyBUYWJzIHBvc2l0aW9uXG5cdCRpb25pY0NvbmZpZ1Byb3ZpZGVyLnRhYnMucG9zaXRpb24oJ2JvdHRvbScpO1xuXG5cdC8qKlxuXHQgKiBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIuIExlYXJuIG1vcmUgaGVyZTpcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG5cdCAqL1xuXG5cdHZhciBkZWZhdWx0VXJsID0gJy9hcHAvbG9naW4nO1xuXHRpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uJykpIHtcblx0ICAgIGRlZmF1bHRVcmwgPSAnL2FwcC9ob21lJztcblx0fVxuXHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGRlZmF1bHRVcmwpO1xuXG5cblxuXHQkc3RhdGVQcm92aWRlclxuXG5cdCAgICAuc3RhdGUoJ2FwcCcsIHtcblx0XHR1cmw6ICcvYXBwJyxcblx0XHQvL2Fic3RyYWN0OiB0cnVlLFxuXHRcdHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tZW51L21lbnUuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ01lbnVDdHJsJ1xuXHQgICAgfSlcblxuXHQgICAgLnN0YXRlKCdhcHAubG9naW4nLCB7XG5cdFx0dXJsOiAnL2xvZ2luJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbG9naW4vbG9naW4uaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ0xvZ2luQ3RybCdcblx0ICAgIH0pXG5cblx0Ly8gQWNjb3VudCByZWNvdmVyeVxuXHQgICAgLnN0YXRlKCdhcHAucmVjb3ZlcicsIHtcblx0XHR1cmw6ICcvcmVjb3ZlcicsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlY292ZXIvcmVjb3Zlci5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnUmVjb3ZlckN0cmwnXG5cdCAgICB9KVxuXHQgICAgLnN0YXRlKCdhcHAucmVjb3Zlci5sb3N0cGFzc3dvcmQnLCB7XG5cdFx0dXJsOiAnL2xvc3RwYXNzd29yZCcsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlY292ZXIvbG9zdHBhc3N3b3JkLmh0bWwnXG5cdCAgICB9KVxuXHQgICAgLnN0YXRlKCdhcHAucmVjb3Zlci5yZXNldHBhc3N3b3JkJywge1xuXHRcdHVybDogJy9yZXNldHBhc3N3b3JkJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVjb3Zlci9yZXNldHBhc3N3b3JkLmh0bWwnXG5cdCAgICB9KVxuXHRcblx0Ly8gQWNjb3VudCByZWdpc3RyYXRpb25cblx0ICAgIC5zdGF0ZSgnYXBwLnJlZ2lzdGVyJywge1xuXHRcdHVybDogJy9yZWdpc3RlcicsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnXG5cdCAgICB9KVxuXHQgICAgLnN0YXRlKCdhcHAucmVnaXN0ZXIuZGV0YWlscycsIHtcblx0XHR1cmw6ICcvZGV0YWlscycsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyX2RldGFpbHMuaHRtbCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC5yZWdpc3Rlci52ZXJpZnknLCB7XG5cdFx0dXJsOiAnL3ZlcmlmeScsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyX3ZlcmlmeS5odG1sJ1xuXHQgICAgfSlcblx0XG5cdC8vXG5cdCAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuXHRcdHVybDogJy9ob21lJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaG9tZS9ob21lLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdIb21lQ3RybCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC5pbmZvJywge1xuXHRcdHVybDogJy9pbmZvJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaW5mby9pbmZvLmh0bWwnXG5cdCAgICB9KVxuXG5cdCAgICAuc3RhdGUoJ2FwcC5idWdzJywge1xuXHRcdHVybDogJy9pbmZvJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWVudS9yZXBvcnQuaHRtbCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC5jb250YWN0Jywge1xuXHRcdHVybDogJy9jb250YWN0Jyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY29udGFjdC9jb250YWN0Lmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdDb250YWN0Q3RybCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC5sZWdhbCcsIHtcblx0XHR1cmw6ICcvbGVnYWwnLFxuXHRcdHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sZWdhbC9sZWdhbC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnTGVnYWxDdHJsJ1xuXHQgICAgfSlcblx0ICAgIC5zdGF0ZSgnYXBwLmFib3V0Jywge1xuXHRcdHVybDogJy9hYm91dCcsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Fib3V0L2Fib3V0Lmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdBYm91dEN0cmwnXG5cdCAgICB9KVxuXHQgICAgLnN0YXRlKCdhcHAudXNlcmluZm8nLCB7XG5cdFx0dXJsOiAnL3VzZXJpbmZvJyxcblx0XHRjb250cm9sbGVyOiAnVXNlckN0cmwnLFxuXHRcdHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyL3VzZXIuaHRtbCcsXG5cdCAgICB9KVxuXG5cdCAgICAuc3RhdGUoJ2FwcC5jb3VudGllcycsIHtcblx0XHR1cmw6ICcvY291bnRpZXMnLFxuXHRcdHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9jb3VudGllcy9jb3VudGllcy5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnQ291bnRpZXNDdHJsJ1xuXHQgICAgfSlcblx0ICAgIC5zdGF0ZSgnYXBwLmFyZWFzJywge1xuXHRcdHVybDogJy9hcmVhcycsXG5cdFx0cGFyYW1zOiB7J2lkJzogZmFsc2UsICdjb3VudHknOiBmYWxzZSwgJ3NlYXJjaCc6ICcnfSxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYV9saXN0L2FyZWFfbGlzdC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnQXJlYXNDdHJsJ1xuXHQgICAgfSlcblx0ICAgIC5zdGF0ZSgnYXBwLmNhcmRzJywge1xuXHRcdHVybDogJy9jYXJkcycsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3VzZXJfY2FyZHMvdXNlcl9jYXJkcy5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnVXNlckNhcmRzQ3RybCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC5mYXZvcml0ZXMnLCB7XG5cdFx0dXJsOiAnL2Zhdm9yaXRlcycsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zhdm9yaXRlcy9mYXZvcml0ZXMuaHRtbCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC5maXNoZXMnLCB7XG5cdFx0dXJsOiAnL2Zpc2hlcycsXG5cdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hlcy9maXNoZXMuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ0Zpc2hlc0N0cmwnXG5cdCAgICB9KVxuXHQgICAgLnN0YXRlKCdhcHAuZmlzaGRldGFpbCcsIHtcblx0XHR1cmw6ICcvZmlzaGRldGFpbC86aWQnLFxuXHRcdHBhcmFtczogeydpZCc6IGZhbHNlLCAnZmlzaCc6IGZhbHNlfSxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvZmlzaF9kZXRhaWwvZmlzaF9kZXRhaWwuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ0Zpc2hEZXRhaWxDdHJsJ1xuXHQgICAgfSlcblx0ICAgIC5zdGF0ZSgnYXBwLm1hcCcsIHtcblx0XHR1cmw6ICcvbWFwJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWFwL21hcC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnTWFwQ3RybCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC50ZWNobmlxdWVzJywge1xuXHRcdHVybDogJy90ZWNobmlxdWVzJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVjaG5pcXVlcy90ZWNobmlxdWVzLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdUZWNobmlxdWVzQ3RybCdcblx0ICAgIH0pXG5cdCAgICAuc3RhdGUoJ2FwcC50ZWNobmlxdWVkZXRhaWwnLCB7XG5cdFx0dXJsOiAnL3RlY2huaXF1ZWRldGFpbC86aWQnLFxuXHRcdHBhcmFtczogeydpZCc6IGZhbHNlLCAndGVjaCc6IGZhbHNlfSxcblx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVjaG5pcXVlX2RldGFpbC90ZWNobmlxdWVfZGV0YWlsLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdUZWNobmlxdWVEZXRhaWxDdHJsJ1xuXHQgICAgfSlcblx0ICAgIC8qLnN0YXRlKCdhcHAucmVwb3J0Jywge1xuXHRcdHVybDogJy9yZXBvcnQnLFxuXHRcdHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZXBvcnQvcmVwb3J0Lmh0bWwnXG5cdCAgICB9KSovXG5cblx0ICAgIC5zdGF0ZSgnYXBwLmFyZWEnLCB7XG5cdFx0dXJsOiAnL2FyZWEvOmlkJyxcblx0XHR2aWV3czoge1xuXHRcdCAgICAnQG1lbnUnOiB7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9hcmVhLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0FyZWFDdHJsJyxcblx0XHQgICAgfSxcblx0XHQgICAgJ2luZm9AbWVudS5hcmVhJzoge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvaW5mby5odG1sJ1xuXHRcdCAgICB9LFxuXHRcdCAgICAnbWFwQG1lbnUuYXJlYSc6IHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL21hcC5odG1sJ1xuXHRcdCAgICB9LFxuXHRcdCAgICAnZmlzaGluZm9AbWVudS5hcmVhJzoge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvZmlzaC5odG1sJ1xuXHRcdCAgICB9LFxuXHRcdCAgICAnY2FyZHNAbWVudS5hcmVhJzoge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvY2FyZHMuaHRtbCdcblx0XHQgICAgfVxuXHRcdH1cblx0ICAgIH0pO1xuICAgIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycsIFtdKTtcbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGlyZWN0aXZlcycsIFtdKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdBYm91dEN0cmwnLCBbJyRzY29wZScsJyRjb3Jkb3ZhQXBwVmVyc2lvbicsICckaW9uaWNQbGF0Zm9ybScsICdVcGRhdGUnLCBmdW5jdGlvbigkc2NvcGUsICRjb3Jkb3ZhQXBwVmVyc2lvbiwgJGlvbmljUGxhdGZvcm0sIFVwZGF0ZSkge1xuXHQkc2NvcGUudmVyc2lvbiA9ICRzY29wZS5kYkRhdGUgPSAnT2vDpG50JztcbiAgICAkc2NvcGUudXBkYXRlID0gVXBkYXRlO1xuXG5cdCRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHdpbmRvdy5jb3Jkb3ZhKSB7XG5cdFx0JGNvcmRvdmFBcHBWZXJzaW9uLmdldEFwcFZlcnNpb24oKS50aGVuKGZ1bmN0aW9uKHZlcnNpb24pIHtcblx0XHQgICAgY29uc29sZS5sb2coJ2lGaXNrZSB2ZXJzaW9uOicsIHZlcnNpb24pO1xuXHRcdCAgICAkc2NvcGUudmVyc2lvbiA9IHZlcnNpb247XG5cdFx0fSk7XG5cdCAgICB9XG5cdH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYUN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRpb25pY0hpc3RvcnknLFxuICAgICdsb2NhbFN0b3JhZ2UnLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAgICckaW9uaWNNb2RhbCcsXG5cbiAgICAnJHN0YXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRpb25pY0hpc3RvcnksIGxvY2FsU3RvcmFnZSwgICRzdGF0ZVBhcmFtcywgREIsICRpb25pY1NsaWRlQm94RGVsZWdhdGUsICRpb25pY01vZGFsLCAkc3RhdGUpIHtcbiAgICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgICAgIGNlbnRlcjoge31cbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcblxuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgIHZhciBpY29ucyA9IHt9O1xuICAgICAgICAgICAgLy8gQXJlYWluZm9cbiAgICAgICAgICAgIERCLmdldEFyZWEoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oYXJlYSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IGFyZWEubGF0LFxuICAgICAgICAgICAgICAgICAgICBsbmc6IGFyZWEubG5nLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBOdW1iZXIoYXJlYS56b29tKSA/IE51bWJlcihhcmVhLnpvb20pIDogOVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlcyA9IGFyZWEuaW1hZ2VzO1xuXG4gICAgICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXJlYSA9IGFyZWE7XG5cbiAgICAgICAgICAgICAgICBEQi5nZXRPcmdhbml6YXRpb24oYXJlYS5vcmdpZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihvcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZyA9IG9yZztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBEQi5nZXRQb2lUeXBlcygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9pX3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBwb2lfdHlwZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcG9pX3R5cGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnNbdHlwZS5JRF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2h0dHA6Ly93d3cuaWZpc2tlLnNlLycrdHlwZS5pY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6ICAgWzE2LCAzN10gLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIERCLmdldFBvaXMoYXJlYS5vcmdpZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9pcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzID0gcG9pcy5tYXAoZnVuY3Rpb24ocG9pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdwb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwb2kubGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcG9pLmxvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29uc1twb2kudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBvaS50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIERCLmdldFBvbHlnb25zKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvbHlnb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLnBhdGhzID0gcG9seWdvbnMubWFwKGZ1bmN0aW9uKHBvbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRsbmdzOiBKU09OLnBhcnNlKCdbJyArIHBvbHkucG9seSArICddJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwb2x5LmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IHBvbHkuYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BvbHlnb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgREIuZ2V0QXJlYUZpc2hlcygkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihmaXNoZXMpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlzaGVzID0gZmlzaGVzO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBEQi5nZXRQcm9kdWN0c0J5QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwcm9kdWN0cykge1xuICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0cyA9IHByb2R1Y3RzO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBcmVhIGZpc2hlc1xuICAgICAgICAkc2NvcGUuc29ydG9yZGVyID0gJy1hbW91bnQnO1xuXG4gICAgICAgIC8vQXJlYV9DYXJkc1xuICAgICAgICAkc2NvcGUuc21zdGVybXMgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzbXNfdGVybXMnKTtcbiAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9IFwic29cIjtcblxuXG4gICAgICAgIC8vU01TLW1vZGFsXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhL3Ntc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsID0gbW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUub3Blbk1vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZU1vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnNob3dUZXJtcyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgJHNjb3BlLnNob3dpbmd0ZXJtcyA9ICEkc2NvcGUuc2hvd2luZ3Rlcm1zO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gZmFsc2U7XG5cbiAgICAgICAgLy9SdWxlcyBtb2RhbFxuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvYXJlYS9ydWxlc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZVJ1bGVzTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vTWFwXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZS5tYXAsIHtcbiAgICAgICAgICAgIGxheWVyczoge1xuICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFwYm94OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTWFwYm94JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3gub3V0ZG9vcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaWtleTogJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdmVybGF5czoge1xuICAgICAgICAgICAgICAgICAgICBwb2lzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU3TDpGxsZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21hcmtlcmNsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiA5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYXNDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJyRpb25pY1Njcm9sbERlbGVnYXRlJyAsJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRpb25pY1Njcm9sbERlbGVnYXRlICxEQikge1xuXG4gICAgdmFyIGNvcHkgPSAkc3RhdGVQYXJhbXMuc2VhcmNoO1xuICAgICRzY29wZS5zZWFyY2ggPSBjb3B5O1xuICAgICRzY29wZS5jb3VudHkgPSAkc3RhdGVQYXJhbXMuY291bnR5O1xuICAgIERCLnNlYXJjaCgnJywgJHN0YXRlUGFyYW1zLmlkKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5hcmVhcyA9IGRhdGE7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gICAgJHNjb3BlLmNsZWFyU2VhcmNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5zZWFyY2ggPSAnJztcbiAgICB9O1xuICAgICRzY29wZS5zY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUuc2Nyb2xsVG9wKCk7XG4gICAgfTtcblxufV0pO1xuXG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDb250YWN0Q3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgbG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICRzY29wZS5jb250YWN0SW5mbyA9IGxvY2FsU3RvcmFnZS5nZXQoJ2NvbnRhY3RJbmZvJyk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDb3VudGllc0N0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICBEQi5nZXRDb3VudGllcygpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAkc2NvcGUuY291bnRpZXMgPSBkYXRhO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignRmlzaERldGFpbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIpIHtcbiAgICAkc2NvcGUuZmlzaCA9ICRzdGF0ZVBhcmFtcy5maXNoO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgaWYoISRzY29wZS5maXNoKSB7XG4gICAgICAgIERCLmdldEZpc2goJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuZmlzaCA9IGRhdGE7XG4gICAgY29uc29sZS5sb2coJHNjb3BlLmZpc2gpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygkc2NvcGUuZmlzaCk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdGaXNoZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgJHNjb3BlLnNvcnRvcmRlciA9ICdzbyc7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICBEQi5nZXRGaXNoZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmZpc2hlcyA9IGRhdGE7XG4gICAgICAgICRzY29wZS5kZWZhdWx0X2ltZyA9IGRhdGFbMF0uaW1nO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSG9tZUN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRpb25pY0hpc3RvcnknLFxuICAgICdsb2NhbFN0b3JhZ2UnLFxuICAgICdzZXNzaW9uRGF0YScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0hpc3RvcnksIGxvY2FsU3RvcmFnZSwgc2Vzc2lvbkRhdGEpIHtcblxuICAgICAgICAkc2NvcGUubG9nZ2VkSW4gPSBzZXNzaW9uRGF0YTtcblxuICAgICAgICAvLyBDdXJyZW50IGhpc3Rvcnkgc3RhY2sgSWQuIFNlZSBhcmVhX2NvbnRyb2xsZXIgZm9yIHVzYWdlLlxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdob21lSGlzdG9yeUlkJywgJGlvbmljSGlzdG9yeS5jdXJyZW50SGlzdG9yeUlkKCkpO1xuXG4gICAgICAgICRzY29wZS5teUZ1bmMgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgIGlmKCRldmVudC5rZXlDb2RlID09IDEzICYmICEkZXZlbnQuc2hpZnRLZXkpIHsgLy9pZiBlbnRlci1rZXlcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5hcmVhcycsIHtzZWFyY2g6ICRldmVudC5zcmNFbGVtZW50LnZhbHVlfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0xlZ2FsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgbG9jYWxTdG9yYWdlKSB7XG4gICAgJHNjb3BlLnRvcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3RvcycpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFtcblx0JyRzY29wZScsIFxuXHQnJHN0YXRlJywgXG5cdCdVcGRhdGUnLCBcblx0JyRpb25pY0xvYWRpbmcnLCBcblx0JyRpb25pY0hpc3RvcnknLCBcblx0JyRpb25pY1ZpZXdTd2l0Y2hlcicsIFxuXHRmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgVXBkYXRlLCAkaW9uaWNMb2FkaW5nLCAkaW9uaWNIaXN0b3J5LCAkaW9uaWNWaWV3U3dpdGNoZXIpIHtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBzaWduSW5cblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciBsb2dpbiBmb3JtLiBWYWxpZGF0ZXMgbG9naW4gaW5wdXQuIFxuXHQgICAgICogTW92ZXMgdG8gaG9tZSB2aWV3IG9uIHN1Y2Nlc3NmdWwgbG9naW4uXG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5zaWduSW4gPSBmdW5jdGlvbihsb2dpbkZvcm0pIHtcblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuXHRcdFVwZGF0ZS51c2VyX2xvZ2luKGxvZ2luRm9ybS51c2VybmFtZS4kdmlld1ZhbHVlLCBsb2dpbkZvcm0ucGFzc3dvcmQuJHZpZXdWYWx1ZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0XHRsb2dpbkZvcm0uJHNldFZhbGlkaXR5KFwibG9naW5FcnJvclwiLCB0cnVlKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmhvbWUnKTtcblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdFx0bG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgZmFsc2UpO1xuXHRcdFx0JHNjb3BlLmVycm9yID0gZXJyb3IucmVzcG9uc2U7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXHQgICAgLyoqIFxuXHQgICAgICogc2tpcFxuXHQgICAgICogU2tpcHMgdG8gdGhlIGhvbWUgdmlldy4gRm9yY2VzIGZvcndhcmQgdHJhbnNpdGlvbiBhbmQgc2V0cyBob21lIGFzIHJvb3Qgdmlldy5cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnNraXAgPSBmdW5jdGlvbigpIHtcblx0XHQkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignZm9yd2FyZCcpO1xuXHRcdCRpb25pY0hpc3RvcnkubmV4dFZpZXdPcHRpb25zKFxuXHRcdCAgICB7XG5cdFx0XHRkaXNhYmxlQmFjazogdHJ1ZSxcblx0XHRcdGhpc3RvcnlSb290OiB0cnVlXG5cdFx0ICAgIH0pO1xuXHRcdCRzdGF0ZS5nbygnYXBwLmhvbWUnKTtcblx0ICAgIH07XG5cdH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01hcEN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJ2xlYWZsZXREYXRhJyxcbiAgICAnREInLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgbGVhZmxldERhdGEsIERCKSB7XG4gICAgICAgICRzY29wZS50ZXN0PSAnaGVqJztcbiAgICAgICAgREIuc2VhcmNoKCcnKS50aGVuKGZ1bmN0aW9uKGFyZWFzKXtcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gYXJlYXMubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsYXllcjogJ2Zpc2hhcmVhcycsXG4gICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXQsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogYS5sbmcsXG4gICAgICAgICAgICAgICAgICAgIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdfc2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3X3Njb3BlLmFyZWEgPSBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld19zY29wZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxhIHVpLXNyZWY9XCJhcmVhLmluZm8oe2lkOiBhcmVhLklEIH0pXCI+e3thcmVhLnR9fTwvYT4nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICBsYXQ6IDYyLjAsXG4gICAgICAgICAgICAgICAgbG5nOiAxNS4wLFxuICAgICAgICAgICAgICAgIHpvb206IDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXllcnM6IHtcbiAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcGJveDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01hcGJveCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97bWFwdHlwZX0ve3p9L3t4fS97eX1AMngucG5nP2FjY2Vzc190b2tlbj17YXBpa2V5fScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXB0eXBlOiAnbWFwYm94Lm91dGRvb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlzaGFyZWFzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRmlza2VvbXLDpWRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFya2VyY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNZW51Q3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJGlvbmljVmlld1N3aXRjaGVyJyxcbiAgICAnJGlvbmljUG9wb3ZlcicsXG4gICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAnVXBkYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljVmlld1N3aXRjaGVyLCAkaW9uaWNQb3BvdmVyLCBzZXNzaW9uRGF0YSwgVXBkYXRlKSB7XG5cbiAgICAkc2NvcGUuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uRGF0YTtcblxuICAgICRpb25pY1BvcG92ZXIuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL21lbnUvcG9wb3Zlci5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlXG4gICAgfSkudGhlbihmdW5jdGlvbihwb3BvdmVyKSB7XG4gICAgICAgICRzY29wZS5wb3BvdmVyID0gcG9wb3ZlcjtcbiAgICB9KTtcblxuICAgICRzY29wZS51c2VyaW5mbyA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdCRzdGF0ZS5nbygnYXBwLnVzZXJpbmZvJyk7XG4gICAgfTtcbiAgICAkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCRzY29wZS5wb3BvdmVyLmhpZGUoKTtcblx0VXBkYXRlLnVzZXJfbG9nb3V0KCk7XG5cblx0JHN0YXRlLmdvKCdhcHAubG9naW4nKTtcbiAgICB9O1xuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdCRpb25pY1ZpZXdTd2l0Y2hlci5uZXh0RGlyZWN0aW9uKCdiYWNrJyk7XG5cdCRzdGF0ZS5nbygnYXBwLmxvZ2luJyk7XG4gICAgfTtcbiAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ2FwcC5yZWdpc3Rlci5kZXRhaWxzJyk7XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgVXBkYXRlLmZvcmNlZFVwZGF0ZSgpO1xuICAgIH07XG5cbn1dKTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ1JlY292ZXJDdHJsJywgW1xuXHQnJHNjb3BlJyxcblx0JyRzdGF0ZScsXG5cdCckaW9uaWNIaXN0b3J5Jyxcblx0JyRpb25pY1BsYXRmb3JtJyxcblx0JyRpb25pY0xvYWRpbmcnLFxuXHQnJGNvcmRvdmFUb2FzdCcsXG5cdCdBUEknLFxuXHRmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljSGlzdG9yeSwgJGlvbmljUGxhdGZvcm0sICRpb25pY0xvYWRpbmcsICRjb3Jkb3ZhVG9hc3QsIEFQSSkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICBcblx0ICAgIHZhciB1c2VyID0gXCJcIjtcblx0ICAgIFxuXHQgICAgLyoqXG5cdCAgICAgKiBza2lwXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3Igc2tpcCBidXR0b25cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnNraXAgPSBmdW5jdGlvbigpIHtcblx0XHQkc2NvcGUuaW5mbyA9IFwiXCI7XG5cdFx0JHN0YXRlLmdvKCdeLnJlc2V0cGFzc3dvcmQnKTtcblx0ICAgIH07XG5cdCAgICBcblxuXHQgICAgLyoqXG5cdCAgICAgKiBsb3N0UGFzc3dvcmRcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciBmaXJzdCBmb3JtXG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5sb3N0UGFzc3dvcmQgPSBmdW5jdGlvbihmb3JtKSB7XG5cblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblx0XHRcblx0XHR1c2VyID0gZm9ybS51c2VyLiR2aWV3VmFsdWU7XG5cdFx0QVBJLnVzZXJfbG9zdF9wYXNzd29yZCh1c2VyKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcblx0XHRcdC8vIFNldCBpbmZvIG1lc3NhZ2UgZm9yIG5leHQgdmlld1xuXHRcdFx0JHNjb3BlLmluZm8gPSAnRW4gw6V0ZXJzdMOkbGxuaW5nc2tvZCBrb21tZXIgc2tpY2thcyB0aWxsIGRpZyBpbm9tIGtvcnQsIHZpYSAnO1x0XHRcdFxuXHRcdFx0aWYgKGRhdGEubWFpbGVkKSB7XG5cdFx0XHQgICAgJHNjb3BlLmluZm8gKz0gJ2UtbWFpbCc7XG5cdFx0XHQgICAgaWYgKGRhdGEudGV4dGVkKSB7XG5cdFx0XHRcdCRzY29wZS5pbmZvICs9ICcgb2NoICc7XG5cdFx0XHQgICAgfVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRhdGEudGV4dGVkKSB7XG5cdFx0XHQgICAgJHNjb3BlLmluZm8gKz0gJ3Ntcyc7XG5cdFx0XHR9XG5cdFx0XHQkc2NvcGUuaW5mbyArPSAnLic7XG5cdFx0XG5cdFx0XHQkc3RhdGUuZ28oJ14ucmVzZXRwYXNzd29yZCcpO1xuXG5cdFx0ICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHQvL1RvRG86IGhhbmRsZSB0aW1lb3V0P1xuXHRcdFx0Ly9Ub0RvOiBjaGVjayBlcnJvciBjb2Rlc1xuXHRcdFx0Zm9ybS51c2VyLiRzZXRWYWxpZGl0eSgnaW52YWxpZFVzZXInLCBmYWxzZSk7XG5cdFx0ICAgIH0pXG5cdFx0ICAgIC5maW5hbGx5KCRpb25pY0xvYWRpbmcuaGlkZSk7XG5cdCAgICB9O1xuXG5cblx0ICAgIC8qKlxuXHQgICAgICogcmVzZXRQYXNzd29yZFxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHNlY29uZCBmb3JtXG5cdCAgICAgKlxuXHQgICAgICogVG9EbzogbG9nIGluIGltbWVkaWF0ZWx5P1xuXHQgICAgICovXG5cdCAgICAkc2NvcGUucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uKGZvcm0pIHtcblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuXHRcdEFQSS51c2VyX3Jlc2V0X3Bhc3N3b3JkKHVzZXIsIGZvcm0ucGFzc3dvcmQuJHZpZXdWYWx1ZSwgZm9ybS5jb2RlLiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXHRcdFx0Ly8gU3VjY2VzcyB0b2FzdFxuXHRcdFx0JGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgJGNvcmRvdmFUb2FzdC5zaG93TG9uZ0JvdHRvbSgnRGl0dCBsw7ZzZW5vcmQgaGFyIMOkbmRyYXRzJyk7XG5cdFx0XHR9KTtcblx0XHRcdC8vIE5hdmlnYXRlIHRvIGN1cnJlbnQgaGlzdG9yeSByb290XG5cdFx0XHQkaW9uaWNIaXN0b3J5LmdvVG9IaXN0b3J5Um9vdCgkaW9uaWNIaXN0b3J5LmN1cnJlbnRWaWV3KCkuaGlzdG9yeUlkKTtcdFxuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0Ly9Ub0RvOiBjaGVjayBlcnJvciBjb2RlXG5cdFx0XHQvLyA1OiBubyBzdWNoIHVzZXJcblx0XHRcdC8vIDEzOiBwYXNzd29yZCBsZW5ndGhcblx0XHRcdC8vIDE2OiBpbnZhbGlkL2V4cGlyZWQgcmVzZXQgY29kZVxuXHRcdCAgICB9KVxuXHRcdCAgICAuZmluYWxseSgkaW9uaWNMb2FkaW5nLmhpZGUpO1xuXHQgICAgfTtcblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsIFtcblx0JyRzY29wZScsXG5cdCckc3RhdGUnLFxuXHQnJGlvbmljTG9hZGluZycsXG5cdCckaW9uaWNNb2RhbCcsXG5cdCckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG5cdCdBUEknLFxuXHQnbG9jYWxTdG9yYWdlJyxcblx0ZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0xvYWRpbmcsICRpb25pY01vZGFsLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSwgQVBJLCBsb2NhbFN0b3JhZ2UpIHtcblxuXHQgICAgdmFyIHVzZXJuYW1lO1xuXG5cdCAgICAvLyBMaXZlIGNoZWNrIGZvciB1c2VybmFtZSBhdmFpbGFiaWxpdHlcblx0ICAgICRzY29wZS5jaGVja1VzZXJuYW1lID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRBUEkudXNlcl9leGlzdHMoaW5wdXQuJHZpZXdWYWx1ZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0aW5wdXQuJHNldFZhbGlkaXR5KCduYW1lVGFrZW4nLCAhZGF0YSk7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXHQgICAgLy8gTGl2ZSBjaGVjayBmb3IgZW1haWwgYXZhaWxhYmlsaXR5XG5cdCAgICAkc2NvcGUuY2hlY2tFbWFpbCA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0QVBJLnVzZXJfZXhpc3RzKG51bGwsIGlucHV0LiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGlucHV0LiRzZXRWYWxpZGl0eSgnZW1haWxUYWtlbicsICFkYXRhKTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cblx0ICAgIC8vIFZhbGlkYXRpb24gZXJyb3JzIG5vdCB0aWVkIHRvIGlucHV0IGZpZWxkXG5cdCAgICAkc2NvcGUuZm9ybUVycm9ycyA9IHt9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIHJlZ2lzdGVyXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3IgdGhlIHJlZ2lzdHJhdGlvbiBmb3JtXG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKGZvcm0pIHtcblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuXHRcdC8vIFNhdmUgcGhvbmUgbnVtYmVyIGZvciBuZXh0IHZpZXdcblx0XHQkc2NvcGUucGhvbmUgPSBmb3JtLnBob25lLiR2aWV3VmFsdWU7XG5cblx0XHQvLyBTYXZlIHVzZXJuYW1lIGZvciB2ZXJpZnkgc3VibWl0IGhhbmRsZXJcblx0XHR1c2VybmFtZSA9IGZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZTtcblxuXHRcdHZhciBwYXNzd29yZCA9IGZvcm0ucGFzc3dvcmQuJHZpZXdWYWx1ZTtcblx0XHR2YXIgZnVsbG5hbWUgPSBmb3JtLmZ1bGxuYW1lLiR2aWV3VmFsdWU7XG5cdFx0dmFyIGVtYWlsID0gZm9ybS5lbWFpbC4kdmlld1ZhbHVlO1xuXG5cdFx0QVBJLnVzZXJfcmVnaXN0ZXIodXNlcm5hbWUsIGZ1bGxuYW1lLCBwYXNzd29yZCwgZW1haWwsICRzY29wZS5waG9uZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Ly8gU3VjY2VzczogR28gdG8gdmVyaWZ5IGFjY291bnQgdmlld1xuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0XHQkc3RhdGUuZ28oJ14udmVyaWZ5Jyk7XG5cblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdC8qKlxuXHRcdFx0ICogRXJyb3I6IEluZm9ybSB0aGUgdXNlciBhYm91dCBmYWlsZWQgcmVnaXN0cmF0aW9uXG5cdFx0XHQgKiBTZWUgQVBJIGRvY3VtZW50YXRpb24gZm9yIGVycm9yIGNvZGVzXG5cdFx0XHQgKiBcblx0XHRcdCAqIFRvRG86IEhhbmRsZSB0aW1lb3V0XG5cdFx0XHQgKi9cblx0XHRcdCRzY29wZS5mb3JtRXJyb3JzLnJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcblx0XHRcdCRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbFRvcCh0cnVlKTtcblxuXHRcdFx0Ly8gSW52YWxpZCBFbWFpbFxuXHRcdFx0aWYgKGVycm9yLmVycm9yX2NvZGUgPT0gOCkge1xuXHRcdFx0ICAgIGZvcm0uZW1haWwuJHNldFZhbGlkaXR5KCdpbnZhbGlkRW1haWwnLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVc2VybmFtZSBvciBFbWFpbCBhbHJlYWR5IHJlZ2lzdGVyZWRcblx0XHRcdGlmIChlcnJvci5lcnJvcl9jb2RlID09IDkpIHtcblx0XHRcdCAgICAkc2NvcGUuY2hlY2tVc2VybmFtZShmb3JtLnVzZXJuYW1lKTtcblx0XHRcdCAgICAkc2NvcGUuY2hlY2tFbWFpbChmb3JtLmVtYWlsKTtcblx0XHRcdH1cblx0XHRcdC8vIEludmFsaWQgcGhvbmUgbnVtYmVyXG5cdFx0XHRpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSAxMCkge1xuXHRcdFx0ICAgIGZvcm0ucGhvbmUuJHNldFZhbGlkaXR5KCdpbnZhbGlkUGhvbmUnLCBmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdCAgICB9KTtcblx0ICAgIH07XG5cblxuXHQgICAgLyoqXG5cdCAgICAgKiB2ZXJpZnlcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciB0aGUgdmVyaWZpY2F0aW9uIGZvcm1cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnZlcmlmeSA9IGZ1bmN0aW9uKGZvcm0pIHtcblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuXHRcdHZhciB2ZXJjb2RlID0gZm9ybS52ZXJjb2RlO1xuXG5cdFx0QVBJLnVzZXJfY29uZmlybSh1c2VybmFtZSwgdmVyY29kZS4kdmlld1ZhbHVlKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHR2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIHRydWUpO1xuXHRcdFx0JHN0YXRlLmdvKCdzdGFydC5sb2dpbicpO1xuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0dmVyY29kZS4kc2V0VmFsaWRpdHkoXCJ2ZXJpZmllZFwiLCBmYWxzZSk7XG5cdFx0ICAgIH0pXG5cdFx0ICAgIC5maW5hbGx5KCRpb25pY0xvYWRpbmcuaGlkZSgpKTtcblx0ICAgIH07XG5cblx0ICAgICRzY29wZS50b3MgPSBsb2NhbFN0b3JhZ2UuZ2V0KCd0b3MnKTtcblx0ICAgIC8vTW9kYWwgd2l0aCB0aGUgRVVMQVxuXHQgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL3JlZ2lzdGVyL2V1bGEuaHRtbCcsIHtcblx0XHRzY29wZTogJHNjb3BlLFxuXHRcdGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuXHQgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuXHRcdCRzY29wZS5ldWxhID0gbW9kYWw7XG5cdCAgICB9KTtcblx0ICAgICRzY29wZS5zaG93RXVsYSA9IGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5ldWxhLnNob3coKTtcblx0ICAgIH07XG5cdCAgICAkc2NvcGUuY2xvc2VFdWxhID0gZnVuY3Rpb24oKSB7XG5cdFx0JHNjb3BlLmV1bGEuaGlkZSgpO1xuXHQgICAgfTtcblx0ICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG5cdFx0JHNjb3BlLmV1bGEucmVtb3ZlKCk7XG5cdCAgICB9KTtcblxuXHR9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdUZWNobmlxdWVEZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ0RCJywgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY1NsaWRlQm94RGVsZWdhdGUpIHtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgICRzY29wZS50ZWNoID0gJHN0YXRlUGFyYW1zLnRlY2g7XG4gICAgJHNjb3BlLmltYWdlcyA9IFtdO1xuXG4gICAgaWYoISRzY29wZS50ZWNoKSB7XG4gICAgICAgIERCLmdldFRlY2huaXF1ZSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5pbWFnZXMgPSBbZGF0YS5pbWcxLCBkYXRhLmltZzIsIGRhdGEuaW1nM10uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEvXFwvJC8udGVzdChlbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICAgICAgICAgICRzY29wZS50ZWNoID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUudGVjaDtcbiAgICAgICAgJHNjb3BlLmltYWdlcyA9IFtkYXRhLmltZzEsIGRhdGEuaW1nMiwgZGF0YS5pbWczXS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAhL1xcLyQvLnRlc3QoZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnVwZGF0ZSgpO1xuICAgIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1RlY2huaXF1ZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0VGVjaG5pcXVlcygpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgJHNjb3BlLnRlY2huaXF1ZXMgPSBkYXRhO1xuICAgIH0pO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgJHNjb3BlLnNvcnRvcmRlciA9ICdzbyc7XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1VzZXJDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgREIuZ2V0VXNlckluZm8oKVxuICAgIC50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgJHNjb3BlLnVzZXIgPSB1c2VyO1xuICAgIH0pO1xuICAgIERCLmdldFVzZXJOdW1iZXJzKClcbiAgICAudGhlbihmdW5jdGlvbihudW1iZXJzKSB7XG4gICAgICAgICRzY29wZS5udW1iZXJzID0gbnVtYmVycztcbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1VzZXJDYXJkc0N0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZVBhcmFtcycsXG4gICAgJ0RCJyxcbiAgICAnJGlvbmljTW9kYWwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljTW9kYWwpIHtcbiAgICAgICAgJHNjb3BlLnByZWQgPSAnLXRvJztcbiAgICAgICAgJHNjb3BlLmVuZHBvaW50ID0gJ2h0dHBzOi8vd3d3LmlmaXNrZS5zZSc7XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5iZWZvcmVFbnRlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgJHNjb3BlLm5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBEQi5nZXRVc2VyUHJvZHVjdHMoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0cyA9IGRhdGE7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG4gICAgICAgIC8vdXNlIHRoZSBzYW1lIG1vZGFsIGFzIGluIGFyZWFfY2FyZHNcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL2FyZWFfY2FyZHMvcnVsZXNfbW9kYWwuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCdcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsID0gbW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUub3BlblJ1bGVzTW9kYWwgPSBmdW5jdGlvbihwcm9kdWN0KSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZVJ1bGVzTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5hcGknLCBbJ2lmaXNrZS51dGlscyddKVxuXHQucHJvdmlkZXIoJ0FQSScsIGZ1bmN0aW9uIEFQSVByb3ZpZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLmJhc2VfdXJsID0gJ2h0dHBzOi8vd3d3LmlmaXNrZS5zZS9hcGkvdjIvYXBpLnBocCc7XG5cbiAgICAgICAgICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCAnc2Vzc2lvbkRhdGEnLCAnbG9jYWxTdG9yYWdlJywgJyRxJywgZnVuY3Rpb24oJGh0dHAsIHNlc3Npb25EYXRhLCBsb2NhbFN0b3JhZ2UsICRxKSB7XG5cdFx0dmFyIGJhc2VfdXJsID0gdGhpcy5iYXNlX3VybDtcblxuXHRcdC8qKlxuXHRcdCAqICMgYXBpX2NhbGwgI1xuXHRcdCAqIGhhbmRsZXMgaHR0cCByZXF1ZXN0c1xuXHRcdCAqIHJldHVybnMgYSAkaHR0cCBvYmplY3QgZm9yIHRoZSByZXF1ZXN0ZWQgYXBpIGNhbGxcblx0XHQgKi9cblx0XHR2YXIgYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMsIGNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcblx0XHRcdCRodHRwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcblx0XHRcdFx0bWV0aG9kOidnZXQnLFxuXHRcdFx0XHR1cmw6IGJhc2VfdXJsLFxuXHRcdFx0XHRwYXJhbXM6IGFuZ3VsYXIuZXh0ZW5kKHBhcmFtcywgeydrZXknOiAnMDEyMzQ1Njc4OWFiY2RlZid9KSxcblx0XHRcdFx0dGltZW91dDogNTAwMCxcblx0XHRcdFx0Y2FjaGU6IChjYWNoZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0KVxuXHRcdFx0Ly8gVG9EbzogUHJvcGVyIGxvZ2dpbmdcblx0XHRcdCAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdGlmKGRhdGEuc3RhdHVzID09PSAnZXJyb3InKSB7XG5cdFx0XHRcdCAgICByZWplY3QoZGF0YS5tZXNzYWdlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ICAgIGlmKGRhdGEuZGF0YSkge1xuXHRcdFx0XHRcdGZ1bGZpbGwoZGF0YS5kYXRhLnJlc3BvbnNlKTtcblx0XHRcdFx0ICAgIH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KGRhdGEpO1xuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9XG5cdFx0XHQgICAgfSlcblx0XHRcdCAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcsIHN0YXR1c1RleHQpIHtcblx0XHRcdFx0aWYgKHN0YXR1cyA9PT0gMCkge1xuXHRcdFx0XHQgICAgcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB0aW1lb3V0JykpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQgICAgcmVqZWN0KGRhdGEpO1xuXHRcdFx0XHR9XG5cdFx0XHQgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiAjIHNlc3Npb25fYXBpX2NhbGwgI1xuXHRcdCAqIHdyYXBwZXIgZm9yIGFwaV9jYWxsIC0gaW5zZXJ0cyB0aGUgc2Vzc2lvbiB0b2tlbiBpbnRvIHBhcmFtc1xuXHRcdCAqL1xuXHRcdHZhciBzZXNzaW9uX2FwaV9jYWxsID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbkRhdGEudG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChhbmd1bGFyLmV4dGVuZChwYXJhbXMsIHtzOiBzZXNzaW9ufSkpO1xuXHRcdH07XG5cblx0XHRyZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBnZXRfbXVuaWNpcGFsaXRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X211bmljaXBhbGl0aWVzJ30pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRfY291bnRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2NvdW50aWVzJ30pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2V4aXN0czogZnVuY3Rpb24odXNlcm5hbWUsIGVtYWlsKSB7XG5cdFx0XHR2YXIgYXJncyA9IHttOiAndXNlcl9leGlzdHMnfTtcblxuXHRcdFx0aWYgKHVzZXJuYW1lICYmIHR5cGVvZiB1c2VybmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdCAgICBhcmdzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZW1haWwgJiYgdHlwZW9mIGVtYWlsID09PSAnc3RyaW5nJykge1xuXHRcdFx0ICAgIGFyZ3MuZW1haWwgPSBlbWFpbDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKGFyZ3MsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9yZWdpc3RlcjogZnVuY3Rpb24odXNlcm5hbWUsIGZ1bGxuYW1lLCBwYXNzd29yZCwgZW1haWwsIHBob25lKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAndXNlcl9yZWdpc3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsbmFtZTogZnVsbG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfY29uZmlybTogZnVuY3Rpb24odXNlcm5hbWUsIHBpbikge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKHsgXG5cdFx0XHQgICAgbTogJ3VzZXJfY29uZmlybScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbjogcGluXG5cdFx0XHR9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfaW5mbzogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfaW5mbyd9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblx0XHQgICAgdXNlcl9sb3N0X3Bhc3N3b3JkOiBmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHQgICAgeyBtOiAndXNlcl9sb3N0X3Bhc3N3b3JkJyxcblx0XHRcdCAgICAgIHVzZXJfaWRlbnRpZmljYXRpb246IHVzZXJcblx0XHRcdCAgICB9LCBmYWxzZSk7XG5cdFx0ICAgIH0sXG5cdFx0ICAgIHVzZXJfcmVzZXRfcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJfaWRlbnRpZmljYXRpb24sIHBhc3N3b3JkLCBjb2RlKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoe1xuXHRcdFx0ICAgIG06ICd1c2VyX3Jlc2V0X3Bhc3N3b3JkJywgXG5cdFx0XHQgICAgdXNlcl9pZGVudGlmaWNhdGlvbjogdXNlcl9pZGVudGlmaWNhdGlvbixcblx0XHRcdCAgICBwYXNzd29yZDogcGFzc3dvcmQsXG5cdFx0XHQgICAgY29kZTogY29kZVxuXHRcdFx0fSwgZmFsc2UpO1xuXHRcdCAgICB9LFxuXHRcdCAgICB1c2VyX2NoYW5nZV9wYXNzd29yZDogZnVuY3Rpb24ob2xkX3Bhc3N3b3JkLCBuZXdfcGFzc3dvcmQpIHtcblx0XHRcdHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHtcblx0XHRcdCAgICBtOiAndXNlcl9jaGFuZ2VfcGFzc3dvcmQnLFxuXHRcdFx0ICAgIG9sZF9wYXNzd29yZDogb2xkX3Bhc3N3b3JkLFxuXHRcdFx0ICAgIG5ld19wYXNzd29yZDogbmV3X3Bhc3N3b3JkXG5cdFx0XHR9LCBmYWxzZSk7XG5cdFx0ICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ3VzZXJfbG9naW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRzZXNzaW9uRGF0YS5zZXRUb2tlbihkYXRhKTtcblxuXHRcdFx0XHQvL25lZWRlZCBmb3IgY2hhaW5pbmcgb2YgcHJvbWlzZXMsIHNob3VsZCBiZSBkb25lIHNvbWUgb3RoZXIgd2F5IHBlcmhhcHM/XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2xvZ291dDogZnVuY3Rpb24oKSB7XG5cdFx0XHRzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9sb2dvdXQnfSwgZmFsc2UpXG5cdFx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRzZXNzaW9uRGF0YS5kZWxldGVUb2tlbigpO1xuXHRcdFx0ICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX3Byb2R1Y3RzOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9wcm9kdWN0cyd9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9maXNoZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2Zpc2hlcyd9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0X3RlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3RlY2huaXF1ZXMnfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9iYWl0czogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfYmFpdHMnfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9vcmdhbml6YXRpb25zOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9vcmdhbml6YXRpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRfb3JnX21vZGlmaWVkOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9vcmdfbW9kaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9hcmVhczogZnVuY3Rpb24oYXJlYWlkKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X2FyZWFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9hcmVhc19tb2RpZmllZDogZnVuY3Rpb24oYXJlYWlkKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X2FyZWFzX21vZGlmaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9wcm9kdWN0czogZnVuY3Rpb24oYXJlYWlkKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3Byb2R1Y3RzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9ydWxlczogZnVuY3Rpb24ocnVsZWlkKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3J1bGVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVpZDogcnVsZWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9waG90b3M6IGZ1bmN0aW9uKG9yZ2lkLCBhcmVhaWQpIHtcblx0XHRcdHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfcGhvdG9zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9tYXBfcG9pczogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfbWFwX3BvaXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9tYXBfcG9pX3R5cGVzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbWFwX3BvaV90eXBlcyd9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0X21hcF9wb2x5Z29uczogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfbWFwX3BvbHlnb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2dldF9mYXZvcml0ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2dldF9mYXZvcml0ZXMnfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRfdGVybXNfb2Zfc2VydmljZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVybXNfb2Zfc2VydmljZSd9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0X2NvbnRhY3RfaW5mbzogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY29udGFjdF9pbmZvJ30pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRfZW5naW5lX3BvbGljaWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9lbmdpbmVfcG9saWNpZXMnfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9zbXNfdGVybXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3Ntc190ZXJtcyd9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXHRcdH07XG4gICAgICAgICAgICB9XTtcblx0fSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kYicsIFtdKVxuICAgIC5wcm92aWRlcignREInLCBmdW5jdGlvbiBEQlByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuJGdldCA9IFsgJyRjb3Jkb3ZhU1FMaXRlJywgJ0FQSScsICckcScsIGZ1bmN0aW9uKCRjb3Jkb3ZhU1FMaXRlLCBBUEksICRxKSB7XG5cblxuICAgICAgICAgICAgdmFyIGRiO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5zcWxpdGVQbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBkYiA9ICRjb3Jkb3ZhU1FMaXRlLm9wZW5EQignZmlza2ViYXNlbi5kYicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cub3BlbkRhdGFiYXNlKSB7XG4gICAgICAgICAgICAgICAgZGIgPSB3aW5kb3cub3BlbkRhdGFiYXNlKCdmaXNrZWJhc2VuLmRiJywgJzEuMCcsICdmaXNrZWJhc2VuJywgMTAqMTAyNCoxMDI0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UsIHNvcnJ5Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB2YXIgdGFibGVEZWYgPSB7XG4gICAgICAgICAgICAgICAgJ0FyZWEnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3JnaWQnLCAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2t3JywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydub3RlJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYzEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYzInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYzMnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbTEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbTInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbTMnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbGF0JywgICAncmVhbCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xuZycsICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd6b29tJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncG50JywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY2FyJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZW5nJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaGNwJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbWFwJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3dzYycsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ0FyZWFfRmlzaCc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYWlkJywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ZpZCcsICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydhbW91bnQnLCAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY29tbWVudCcsICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdQcm9kdWN0JzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QyJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbm8nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbScsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BmJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYWknLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3JpJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjaCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncHJpY2UnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaGwnLCAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ0NvdW50eSc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncycsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdNdW5pY2lwYWxpdHknOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbmFtZScsICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnRmlzaCc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21heCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ljb24nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbWcnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW4nLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2dlbycsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzaXplJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbGF0JywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3JlYycsICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1J1bGUnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2ZXInLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnVXNlcl9Qcm9kdWN0JzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydhdCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY29kZScsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ZyJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmdWxsbmFtZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ290JywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVmMScsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3JlZjInLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3RvJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwaWQnLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncGRmJywgICAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1VzZXJfSW5mbyc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndXNlcm5hbWUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsb2dnZWRpbicsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ0lQMScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnSVAyJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyduYW1lJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2VtYWlsJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZCcsICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1VzZXJfTnVtYmVyJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ251bWJlcicsICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdUZWNobmlxdWUnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkZScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZGEnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ljb24nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbWcxJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW1nMicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltZzMnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd5b3V0dWJlJywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdPcmdhbml6YXRpb24nOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjcCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3VybCcsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY28nLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2YXQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZHAnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2Z2YScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydvcmcnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbWwnLCAgICAgJ2ludCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnUG9pJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndHlwZScsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbGEnLCAgICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsbycsICAgICAncmVhbCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnUG9pX1R5cGUnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdQb2x5Z29uJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ZlcicsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BvbHknLCAgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBjcmVhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldHZhbCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLnJvd3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dmFsLnB1c2goZGF0YS5yb3dzLml0ZW0oaSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dmFsO1xuICAgICAgICAgICAgfTtcblxuXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUYWJsZTogZnVuY3Rpb24odGFibGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gJyArIHRhYmxlICsgJzsnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbmdsZURhdGEgPSBkYXRhW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydERhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZURlZlt0YWJsZV0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydERhdGEucHVzaChzaW5nbGVEYXRhW3RhYmxlRGVmW3RhYmxlXVtpXVswXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJTlNFUlQgSU5UTycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWQUxVRVMoPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLD8nLnJlcGVhdChpbnNlcnREYXRhLmxlbmd0aC0xKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ10uam9pbignICcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5LCBpbnNlcnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGNsZWFuVGFibGU6IGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEcm9wcyBhbGwgdGFibGVzIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgICAgICAqIEBtZXRob2QgY2xlYW5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHRhYmxlIGluIHRhYmxlRGVmKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIGFsbCB0YWJsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEluaXRpYWxpZXMgdGhlIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbiggZnVuY3Rpb24gKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB0YWJsZSBpbiB0YWJsZURlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInICsgdGFibGVEZWZbdGFibGVdLmpvaW4oJ19fX1wiJykuc3BsaXQoJywnKS5qb2luKCdcIiAnKS5zcGxpdCgnX19fJykuam9pbignLCAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIFBSSU1BUlkgS0VZKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInICsgdGFibGVEZWZbdGFibGVdWzBdWzBdICsgJ1wiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpKTsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cblxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhbiBhcmVhXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRBcmVhXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBpZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdldEFyZWE6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoYXJlYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBjcmVhdGVPYmplY3QoYXJlYSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBEQiBzaG91bGQgbm90IG5lZWQgQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9waG90b3Mob2JqZWN0Lm9yZ2lkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2VzID0gaW1hZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0QXJlYUZpc2hlczogZnVuY3Rpb24oYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcSggZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYV9GaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBGaXNoIE9OIEFyZWFfRmlzaC5maWQgPSBGaXNoLklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgQXJlYV9GaXNoLmFpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2FpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNlYXJjaGVzIHRoZSBkYXRhYmFzZSB1c2luZyBhIHF1ZXJ5XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBUaGUgcXVlcnkgaXMgbWF0Y2hlZCB0byBhIG5hbWUgYW5kL29yIGtleXdvcmRcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIHNlYXJjaFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hzdHJpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaHN0cmluZywgY291bnR5X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcSggZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIHQgTElLRSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY291bnR5X2lkID8gJ0FORCBjMSA9ID8nOicnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5X2lkID8gWyclJyArIHNlYXJjaHN0cmluZyArICclJywgY291bnR5X2lkXTpbJyUnICsgc2VhcmNoc3RyaW5nICsgJyUnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhIHByb2R1Y3RcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldFByb2R1Y3RcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHByb2R1Y3RfaWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbihwcm9kdWN0X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIFByb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFByb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBzbydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3Byb2R1Y3RfaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBHZXRzIGFsbCBwcm9kdWN0cyBmcm9tIGFuIGFyZWFcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldFByb2R1Y3RzQnlBcmVhXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBhcmVhX2lkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ2V0UHJvZHVjdHNCeUFyZWE6IGZ1bmN0aW9uKGFyZWFfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGFpID0gPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHNvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXJlYV9pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldENvdW50aWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgQ291bnR5LionLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIENvdW50eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gQXJlYSBPTiBBcmVhLmMxID0gQ291bnR5LklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgQ291bnR5LnQnXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0VXNlclByb2R1Y3RzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgVXNlcl9Qcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX1Byb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMRUZUIEpPSU4gUHJvZHVjdCBPTiBQcm9kdWN0LklEID0gVXNlcl9Qcm9kdWN0LnBpZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xFRlQgSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldEZpc2hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldEZpc2g6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldFRlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRUZWNobmlxdWU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBUZWNobmlxdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldE9yZ2FuaXphdGlvbjogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIE9yZ2FuaXphdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX0luZm8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KHVzZXIpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0VXNlck51bWJlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX051bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldFBvaXM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIG9yZ2lkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldFBvaVR5cGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUG9pX1R5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRQb2x5Z29uczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUG9seWdvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIG9yZ2lkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfV07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmZpbHRlcnMnLCBbXSlcbi5maWx0ZXIoJ25vYnJzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8oPGJyPlxccyopKy9nLCAnPGJyPicpO1xuICAgIH07XG59KTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLnVwZGF0ZScsIFsnaWZpc2tlLmFwaScsICdpZmlza2UuZGInLCAnaWZpc2tlLnV0aWxzJ10pXG4gICAgLnByb3ZpZGVyKCdVcGRhdGUnLCBmdW5jdGlvbiBVcGRhdGVQcm92aWRlcigpIHtcblxuXG4gICAgICAgIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICdBUEknLFxuICAgICAgICAgICAgJ0RCJyxcbiAgICAgICAgICAgICdsb2NhbFN0b3JhZ2UnLFxuICAgICAgICAgICAgJyRxJyxcbiAgICAgICAgICAgICckaW9uaWNMb2FkaW5nJyxcbiAgICAgICAgICAgICdzZXNzaW9uRGF0YScsXG4gICAgICAgICAgICBmdW5jdGlvbihBUEksIERCLCBsb2NhbFN0b3JhZ2UsICRxLCAkaW9uaWNMb2FkaW5nLCBzZXNzaW9uRGF0YSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIExBU1RfVVBEQVRFID0gJ2xhc3RfdXBkYXRlJztcblxuICAgICAgICAgICAgICAgIHZhciBwb3B1bGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfYXJlYXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXNoQXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlzaGVzID0gZGF0YVtrZXldLmZpc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgZmlzaEtleSBpbiBmaXNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpc2hBcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0lEJzoga2V5KydfJytmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZDogZmlzaEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhaWQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZpc2hlc1tmaXNoS2V5XVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBmaXNoZXNbZmlzaEtleV1bMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdBcmVhJywgZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ0FyZWFfRmlzaCcsIGZpc2hBcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBBcmVhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9wcm9kdWN0cygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1Byb2R1Y3QnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFByb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvdW50aWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnQ291bnR5JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBDb3VudHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X211bmljaXBhbGl0aWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnTXVuaWNpcGFsaXR5JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBNdW5pY2lwYWxpdHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2Zpc2hlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ0Zpc2gnLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEZpc2gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3J1bGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUnVsZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUnVsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfdGVjaG5pcXVlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1RlY2huaXF1ZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVGVjaG5pcXVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9vcmdhbml6YXRpb25zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnT3JnYW5pemF0aW9uJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBPcmdhbml6YXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X21hcF9wb2lzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUG9pJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQb2knKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X21hcF9wb2lfdHlwZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQb2lfVHlwZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUG9pX1R5cGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X21hcF9wb2x5Z29ucygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1BvbHlnb24nLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFBvbHlnb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBwb3B1bGF0ZVVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9wcm9kdWN0cygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1VzZXJfUHJvZHVjdCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9Qcm9kdWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlcnMgPSBkYXRhLm51bWJlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bUFyciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBudW1iZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bUFyci5wdXNoKHsnbnVtYmVyJzogbnVtYmVyc1tpXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9JbmZvJywgW2RhdGFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9JbmZvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9OdW1iZXInLCBudW1BcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX051bWJlcnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xlYW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9Qcm9kdWN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX051bWJlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9JbmZvJylcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCB1c2VyIGluZm8gZnJvbSBkYXRhYmFzZScpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgcmVtb3ZlIHVzZXIgZGF0YSBmcm9tIGRhdGFiYXNlIScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVGdW5jID0gZnVuY3Rpb24oZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RVcGRhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZighZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VXBkYXRlID0gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYVdlZWsgPSAxMDAwKjM2MDAqMjQqNztcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFRpbWUgLSBsYXN0VXBkYXRlID4gYVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmluaXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIERCIHN5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBhbGwgdGhlIHRoaW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVyci5lcnJvcl9jb2RlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdyB0byB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdHb3QgYW4gZXJyb3IsIHdpbGwgdHJ5IHRvIHJlY3JlYXRlIGFsbCB0YWJsZXM6ICcsIGVycik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLmNsZWFuKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIGFsbCB0aGUgdGhpbmdzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KExBU1RfVVBEQVRFLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RpbGwgZXJyb3IsIGhhbmRsZSBpdCEnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF90ZXJtc19vZl9zZXJ2aWNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCd0b3MnLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Ntc190ZXJtcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih0ZXJtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Ntc190ZXJtcycsIHRlcm1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9jb250YWN0X2luZm8oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2NvbnRhY3RJbmZvJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmluaXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIERCIHN5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlVXNlcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vX3VwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBmb3JjZWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnVuYyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB1c2VyX2xvZ291dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhblVzZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2xvZ2luOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBUEkudXNlcl9sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdF91cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXQoTEFTVF9VUERBVEUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS51dGlscycsIFtdKVxuXG4uZmFjdG9yeSgnbG9jYWxTdG9yYWdlJywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4uc2VydmljZSgnc2Vzc2lvbkRhdGEnLCBbJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKGxvY2FsU3RvcmFnZSkge1xuICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzZXNzaW9uJyk7XG5cbiAgICB0aGlzLnNldFRva2VuID0gZnVuY3Rpb24odCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdzZXNzaW9uJywgdCk7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0O1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gc2V0Jyk7XG4gICAgfTtcbiAgICB0aGlzLmRlbGV0ZVRva2VuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmUoJ3Nlc3Npb24nKTtcbiAgICAgICAgdGhpcy50b2tlbiA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiB1bnNldCcpO1xuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnbmdDb3Jkb3ZhU21zJywgW10pXG4uZGlyZWN0aXZlKCduZ0NvcmRvdmFTbXMnLCBbJyRjb3Jkb3ZhU21zJywgJyRpb25pY1BvcHVwJywgZnVuY3Rpb24oJGNvcmRvdmFTbXMsICRpb25pY1BvcHVwKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRpb25pY1BvcHVwLnByb21wdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2tyaXYgaW4gZGl0dCBuYW1uJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUeXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnRklTS0EgJyArIGF0dHJzLm5nQ29yZG92YVNtcyArICcgJyArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU21zLnNlbmQoJzcyNDU2JywgbWVzc2FnZSwgJ0lOVEVOVCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2N1ZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRpcmVjdGl2ZXMnKVxuICAgIC5kaXJlY3RpdmUoJ2lmaXNrZUlucHV0JywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgdHJhbnNjbHVkZTogdHJ1ZSxcblxuXHQgICAgc2NvcGU6IHtcblx0XHRuYW1lOiAnQCcsXG5cdFx0aWQ6ICdAJyxcblx0XHRsYWJlbDogJ0AnLFxuXHRcdHBsYWNlaG9sZGVyOiAnQCcsXG5cdFx0dHlwZTogJ0AnLFxuXHRcdG5nUGF0dGVybjogJ0AnLFxuXHRcdG5nTW9kZWw6ICc9PydcblxuXHQgICAgfSxcblx0ICAgIHRlbXBsYXRlVXJsOiAnZGlyZWN0aXZlcy9pbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUpIHtcblx0XHQkc2NvcGUuaWQgPSAkc2NvcGUuaWQgfHwgJHNjb3BlLm5hbWU7XG5cdFx0JHNjb3BlLnR5cGUgPSAkc2NvcGUudHlwZSB8fCAndGV4dCc7XG5cdCAgICB9XG5cdH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ3N5c3RlbUJyb3dzZXInLCBbXSlcbi5kaXJlY3RpdmUoJ3N5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGVsWzBdLmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4uZGlyZWN0aXZlKCdnbG9iYWxTeXN0ZW1Ccm93c2VyJywgWyckY29yZG92YUluQXBwQnJvd3NlcicsIGZ1bmN0aW9uKCRjb3Jkb3ZhSW5BcHBCcm93c2VyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmhyZWYgJiYgZS50YXJnZXQuaG9zdCAhPT0gd2luZG93LmxvY2F0aW9uLmhvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3BlbihlLnRhcmdldC5ocmVmLCAnX3N5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9