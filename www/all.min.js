angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive","tabSlideBox"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&window.StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!0,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/app/login";window.localStorage.getItem("session")&&(r="/app/home"),t.otherwise(r),e.state("app",{url:"/app",templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("app.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("app.recover",{url:"/recover",templateUrl:"components/recover/recover.html",controller:"RecoverCtrl"}).state("app.recover.lostpassword",{url:"/lostpassword",templateUrl:"components/recover/lostpassword.html"}).state("app.recover.resetpassword",{url:"/resetpassword",templateUrl:"components/recover/resetpassword.html"}).state("app.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("app.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("app.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("app.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("app.info",{url:"/info",templateUrl:"components/info/info.html"}).state("app.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("app.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("app.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("app.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("app.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("app.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("app.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("app.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("app.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("app.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("app.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("app.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("app.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("app.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("app.area",{url:"/area/:id",views:{"@menu":{templateUrl:"components/area/area.html",controller:"AreaCtrl"},"info@menu.area":{templateUrl:"components/area/info.html"},"map@menu.area":{templateUrl:"components/area/map.html"},"fishinfo@menu.area":{templateUrl:"components/area/fish.html"},"cards@menu.area":{templateUrl:"components/area/cards.html"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Okänt",e.update=o,n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log("iFiske version:",t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$ionicHistory","localStorage","$stateParams","DB","$ionicSlideBoxDelegate","$ionicModal",function(e,t,n,o,r,i,s){e.map={center:{}},e.image_endpoint="http://www.ifiske.se";var l={};r.getArea(o.id).then(function(t){e.map.center={lat:t.lat,lng:t.lng,zoom:Number(t.zoom)?Number(t.zoom):9},e.images=t.images,i.update(),e.area=t,r.getOrganization(t.orgid).then(function(t){e.org=t}),r.getPoiTypes().then(function(n){for(var o=0;o<n.length;++o){var i=n[o];l[i.ID]={iconUrl:"http://www.ifiske.se/"+i.icon,iconAnchor:[16,37],popupAnchor:[0,-35]}}r.getPois(t.orgid).then(function(n){e.map.markers=n.map(function(e){return{layer:"pois",lat:e.la,lng:e.lo,icon:l[e.type],message:e.t}}),e.map.markers.push({layer:"pois",lat:t.lat,lng:t.lng,message:t.t})},function(e){console.error(e)}),r.getPolygons(t.orgid).then(function(t){e.map.paths=t.map(function(e){return{latlngs:JSON.parse("["+e.poly+"]"),color:e.c,weight:2,opacity:.5,fillColor:e.c,type:"polygon"}}),console.log(e)},function(e){console.error(e)})})},function(e){console.log(e)}),r.getAreaFishes(o.id).then(function(t){e.fishes=t},function(e){console.log(e)}),r.getProductsByArea(o.id).then(function(t){e.products=t},function(e){console.log(e)}),e.sortorder="-amount",e.smsterms=n.get("sms_terms"),e.predicate="so",s.fromTemplateUrl("components/area/sms_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,s.fromTemplateUrl("components/area/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()}),angular.extend(e.map,{layers:{baselayers:{outdoors:{name:"Utomhuskarta",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}},satellite:{name:"Satellit",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.satellite",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{pois:{name:"Ställen",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}},paths:{}})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){var r=t.search;e.search=r,e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){e.search=""},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("app.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading","$ionicHistory","$ionicViewSwitcher",function(e,t,n,o,r,i){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),i.nextDirection("forward"),t.go("app.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})},e.skip=function(){i.nextDirection("forward"),r.nextViewOptions({disableBack:!0,historyRoot:!0}),t.go("app.home")}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","DB",function(e,t,n){n.search("").then(function(t){e.markers=t.map(function(t){return{layer:"fishareas",lat:t.lat,lng:t.lng,getMessageScope:function(){var n=e.$new();return n.area=t,n},message:'<a ui-sref="menu.area({id: area.ID })">{{area.t}}</a>'}})}),angular.extend(e,{center:{lat:62,lng:15,zoom:5},layers:{baselayers:{outdoors:{name:"Utomhuskarta",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}},satellite:{name:"Satellit",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.satellite",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{fishareas:{name:"Fiskeområden",type:"markercluster",visible:!0,layerOptions:{showOnSelector:!1,disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicViewSwitcher","$ionicPopover","sessionData","Update",function(e,t,n,o,r,i){e.sessionData=r,o.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("app.userinfo")},e.logout=function(){e.popover.hide(),i.user_logout(),t.go("app.login")},e.login=function(){e.popover.hide(),n.nextDirection("back"),t.go("app.login")},e.register=function(){e.popover.hide(),t.go("app.register.details")},e.update=function(){i.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RecoverCtrl",["$scope","$state","$ionicHistory","$ionicPlatform","$ionicLoading","$cordovaToast","API",function(e,t,n,o,r,i,s){"use strict";var l="";e.skip=function(){e.info="",t.go("^.resetpassword")},e.lostPassword=function(n){r.show(),l=n.user.$viewValue,s.user_lost_password(l).then(function(n){e.info="En återställningskod kommer skickas till dig inom kort, via ",n.mailed&&(e.info+="e-mail",n.texted&&(e.info+=" och ")),n.texted&&(e.info+="sms"),e.info+=".",t.go("^.resetpassword")},function(){n.user.$setValidity("invalidUser",!1)})["finally"](r.hide)},e.resetPassword=function(e){r.show(),s.user_reset_password(l,e.password.$viewValue,e.code.$viewValue).then(function(e){console.log(e),o.ready(function(){i.showLongBottom("Ditt lösenord har ändrats")}),n.goToHistoryRoot(n.currentView().historyId)},function(e){console.log(e)})["finally"](r.hide)}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,r,i,s){var l;e.checkUsername=function(e){i.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t)})},e.checkEmail=function(e){i.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,l=o.username.$viewValue;var s=o.password.$viewValue,a=o.fullname.$viewValue,u=o.email.$viewValue;i.user_register(l,a,s,u,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,r.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;i.user_confirm(l,o.$viewValue).then(function(){o.$setValidity("verified",!0),t.go("start.login")},function(){o.$setValidity("verified",!1)})["finally"](n.hide())},e.tos=s.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","$ionicModal",function(e,t,n,o){e.pred="-to",e.endpoint="https://www.ifiske.se",e.$on("$ionicView.beforeEnter",function(){e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)})}),o.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()})}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,s=function(n,o){return r(function(r,s){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:o!==!1}).success(function(e){"error"===e.status?s(e.message):e.data?r(e.data.response):s(e)}).error(function(e,t){s(0===t?new Error("Request timeout"):e)})})},l=function(t){var o=n.token;return s(e.extend(t,{s:o}))};return{get_municipalities:function(){return s({m:"get_municipalities"})},get_counties:function(){return s({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return e&&"string"==typeof e&&(n.username=e),t&&"string"==typeof t&&(n.email=t),s(n,!1)},user_register:function(e,t,n,o,r){return s({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r},!1)},user_confirm:function(e,t){return s({m:"user_confirm",username:e,pin:t},!1)},user_info:function(){return l({m:"user_info"})},user_lost_password:function(e){return s({m:"user_lost_password",user_identification:e},!1)},user_reset_password:function(e,t,n){return s({m:"user_reset_password",user_identification:e,password:t,code:n},!1)},user_change_password:function(e,t){return l({m:"user_change_password",old_password:e,new_password:t},!1)},user_login:function(e,t){return s({m:"user_login",username:e,password:t},!1).then(function(e){return n.setToken(e),e})},user_logout:function(){l({m:"user_logout"},!1).then(function(){n.deleteToken()})},user_products:function(){return l({m:"user_products"},!1)},get_fishes:function(){return s({m:"get_fishes"})},get_techniques:function(){return s({m:"get_techniques"})},get_baits:function(){return s({m:"get_baits"})},get_organizations:function(e){return s({m:"get_organizations",orgid:e})},get_org_modified:function(e){return s({m:"get_org_modified",orgid:e})},get_areas:function(e){return s({m:"get_areas",areaid:e})},get_areas_modified:function(e){return s({m:"get_areas_modified",areaid:e})},get_products:function(e){return s({m:"get_products",areaid:e})},get_rules:function(e){return s({m:"get_rules",ruleid:e})},get_photos:function(e,t){return s({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return s({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return s({m:"get_map_poi_types"})},get_map_polygons:function(e){return s({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return l({m:"user_get_favorites"},!1)},get_terms_of_service:function(){return s({m:"get_terms_of_service"})},get_contact_info:function(){return s({m:"get_contact_info"})},get_engine_policies:function(){return s({m:"get_engine_policies"})},get_sms_terms:function(){return s({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]],Poi:[["ID","int"],["orgid","int"],["type","int"],["price","int"],["t","text"],["d","text"],["la","real"],["lo","real"]],Poi_Type:[["ID","int"],["t","text"],["icon","text"]],Polygon:[["ID","int"],["orgid","int"],["t","text"],["c","text"],["ver","int"],["mod","int"],["poly","text"]]},s=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],s=[],l=0;l<i[e].length;++l)s.push(r[i[e][l][0]]);var a=["INSERT INTO",e,"VALUES(?",",?".repeat(s.length-1),")"].join(" ");n.executeSql(a,s)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){for(var n=i[t],o=[],r=0;r<n.length;++r)o.push('"'+n[r][0]+'" '+n[r][1]);o=o.join(", ");var s=["CREATE TABLE IF NOT EXISTS",t,"(",o,", PRIMARY KEY(",'"'+n[0][0]+'"',"));"].join(" ");e.executeSql(s)}},t,e)})},getArea:function(t){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=s(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e,o(t)},function(e){console.warn(e),o(t)})},i)})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(s(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(s(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(s(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(s(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(s(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(s(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(s(e))},n)})},getPois:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Poi","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},getPoiTypes:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM Poi_Type"].join(" ")).then(function(e){t(s(e))},n)})},getPolygons:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Polygon","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("onebr",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}).filter("nobrs",function(){return function(e){return e.replace(/(<br(\s*\/)*>)+/g,"")}}).filter("cleantables",function(){return function(e){return e=e.replace(/(<\/?table>)+/g,""),e=e.replace(/(<\/?tr>)+/g,""),e=e.replace(/(<\/?th>)+/g,""),e=e.replace(/(<(\/?)td.*?>)+?/g,"<$2p>"),e=e.replace(/<p>\s*<\/p>/g,"")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var s="last_update",l=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e){var i=e[r].fish;for(var s in i)n.push({ID:r+"_"+s,fid:s,aid:r,amount:i[s][0],comment:i[s][1]})}return o.all([t.populateTable("Area",e),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})}),e.get_map_pois().then(function(e){return t.populateTable("Poi",e).then(function(){console.log("Populated Poi")},function(e){return console.log(e),o.reject(e)})}),e.get_map_poi_types().then(function(e){return t.populateTable("Poi_Type",e).then(function(){console.log("Populated Poi_Type")},function(e){return console.log(e),o.reject(e)})}),e.get_map_polygons().then(function(e){return t.populateTable("Polygon",e).then(function(){console.log("Populated Polygon")},function(e){return console.log(e),o.reject(e)})})])},a=function(){return o.all([e.user_products().then(function(e){return console.log(e),t.populateTable("User_Product",e).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},u=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){r.show();var p=Date.now(),f=0;c||(f=n.get(s));var m=6048e5;p-f>m?(t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([a(),l()]):l()}).then(function(){console.log("Populated all the things"),n.set(s,p),r.hide()},function(o){return 7!==o.error_code?(console.warn("Got an error, will try to recreate all tables:",o),t.clean().then(function(){return t.init()}).then(function(){return l()}).then(function(){console.log("Populated all the things"),n.set(s,p),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(u(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e)}),e.get_contact_info().then(function(e){n.set("contactInfo",e)})):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&a().then(function(){r.hide()},function(e){console.err(e),r.hide()}),r.hide()}):(console.log("no_update"),r.hide())};return{update:function(){c()},forcedUpdate:function(){c(!0)},user_logout:function(){u(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(s)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfY29udHJvbGxlci5qcyIsImFyZWFfbGlzdC9hcmVhX2xpc3RfY29udHJvbGxlci5qcyIsImNvbnRhY3QvY29udGFjdF9jb250cm9sbGVyLmpzIiwiY291bnRpZXMvY291bnRpZXNfY29udHJvbGxlci5qcyIsImZpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJmaXNoZXMvZmlzaGVzX2NvbnRyb2xsZXIuanMiLCJob21lL2hvbWVfY29udHJvbGxlci5qcyIsImxlZ2FsL2xlZ2FsX2NvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dpbl9jb250cm9sbGVyLmpzIiwibWFwL21hcF9jb250cm9sbGVyLmpzIiwibWVudS9tZW51X2NvbnRyb2xsZXIuanMiLCJyZWNvdmVyL3JlY292ZXJfY29udHJvbGxlci5qcyIsInJlZ2lzdGVyL3JlZ2lzdGVyX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWxfY29udHJvbGxlci5qcyIsInRlY2huaXF1ZXMvdGVjaG5pcXVlc19jb250cm9sbGVyLmpzIiwidXNlci91c2VyX2NvbnRyb2xsZXIuanMiLCJ1c2VyX2NhcmRzL3VzZXJfY2FyZHNfY29udHJvbGxlci5qcyIsImFwaS5qcyIsImRiLmpzIiwiZmlsdGVyLmpzIiwidXBkYXRlLmpzIiwidXRpbHMuanMiLCJpZmlza2Vfc21zL2lmaXNrZV9zbXMuanMiLCJpbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuanMiLCJzeXN0ZW1fYnJvd3Nlci9zeXN0ZW1fYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZSIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiVXBkYXRlIiwiSW1nQ2FjaGUiLCJyZWFkeSIsIndpbmRvdyIsImlvbmljIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCIkaW5pdCIsInVwZGF0ZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJJbWdDYWNoZVByb3ZpZGVyIiwic2V0T3B0aW9ucyIsImRlYnVnIiwidXNlUGVyc2lzdGVudENhY2hlIiwibWFudWFsSW5pdCIsInZpZXdzIiwiZm9yd2FyZENhY2hlIiwiYmFja0J1dHRvbiIsInByZXZpb3VzVGl0bGVUZXh0IiwidGV4dCIsInRhYnMiLCJwb3NpdGlvbiIsImRlZmF1bHRVcmwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJwYXJhbXMiLCJpZCIsImNvdW50eSIsInNlYXJjaCIsImZpc2giLCJ0ZWNoIiwiQG1lbnUiLCJpbmZvQG1lbnUuYXJlYSIsIm1hcEBtZW51LmFyZWEiLCJmaXNoaW5mb0BtZW51LmFyZWEiLCJjYXJkc0BtZW51LmFyZWEiLCIkc2NvcGUiLCIkY29yZG92YUFwcFZlcnNpb24iLCJ2ZXJzaW9uIiwiZGJEYXRlIiwiY29yZG92YSIsImdldEFwcFZlcnNpb24iLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsIiRpb25pY0hpc3RvcnkiLCIkc3RhdGVQYXJhbXMiLCJEQiIsIiRpb25pY1NsaWRlQm94RGVsZWdhdGUiLCIkaW9uaWNNb2RhbCIsIm1hcCIsImNlbnRlciIsImltYWdlX2VuZHBvaW50IiwiaWNvbnMiLCJnZXRBcmVhIiwiYXJlYSIsImxhdCIsImxuZyIsInpvb20iLCJOdW1iZXIiLCJpbWFnZXMiLCJnZXRPcmdhbml6YXRpb24iLCJvcmdpZCIsIm9yZyIsImdldFBvaVR5cGVzIiwicG9pX3R5cGVzIiwiaSIsImxlbmd0aCIsInR5cGUiLCJJRCIsImljb25VcmwiLCJpY29uIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwiZ2V0UG9pcyIsInBvaXMiLCJtYXJrZXJzIiwicG9pIiwibGF5ZXIiLCJsYSIsImxvIiwibWVzc2FnZSIsInQiLCJwdXNoIiwiZXJyIiwiZXJyb3IiLCJnZXRQb2x5Z29ucyIsInBvbHlnb25zIiwicGF0aHMiLCJwb2x5IiwibGF0bG5ncyIsIkpTT04iLCJwYXJzZSIsImNvbG9yIiwiYyIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsQ29sb3IiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsInNtc3Rlcm1zIiwiZ2V0IiwicHJlZGljYXRlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsInNtc19tb2RhbCIsIm9wZW5Nb2RhbCIsInByb2R1Y3QiLCJzaG93IiwiY2xvc2VNb2RhbCIsImhpZGUiLCJzaG93VGVybXMiLCJzaG93aW5ndGVybXMiLCJydWxlc19tb2RhbCIsIm9wZW5SdWxlc01vZGFsIiwiY2xvc2VSdWxlc01vZGFsIiwiJG9uIiwicmVtb3ZlIiwiZXh0ZW5kIiwibGF5ZXJzIiwiYmFzZWxheWVycyIsIm91dGRvb3JzIiwibmFtZSIsImxheWVyT3B0aW9ucyIsIm1hcHR5cGUiLCJhcGlrZXkiLCJzYXRlbGxpdGUiLCJvdmVybGF5cyIsInZpc2libGUiLCJzaG93T25TZWxlY3RvciIsImRpc2FibGVDbHVzdGVyaW5nQXRab29tIiwiY2h1bmtlZExvYWRpbmciLCJzaG93Q292ZXJhZ2VPbkhvdmVyIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCIkaW9uaWNTY3JvbGxEZWxlZ2F0ZSIsImNvcHkiLCJkYXRhIiwiYXJlYXMiLCJjbGVhclNlYXJjaCIsInNjcm9sbFRvcCIsIiRzdGF0ZSIsImNvbnRhY3RJbmZvIiwiZ2V0Q291bnRpZXMiLCJjb3VudGllcyIsImdldEZpc2giLCJnZXRGaXNoZXMiLCJkZWZhdWx0X2ltZyIsImltZyIsInNlc3Npb25EYXRhIiwibG9nZ2VkSW4iLCJzZXQiLCJjdXJyZW50SGlzdG9yeUlkIiwibXlGdW5jIiwiJGV2ZW50Iiwia2V5Q29kZSIsInNoaWZ0S2V5IiwiZ28iLCJzcmNFbGVtZW50IiwidmFsdWUiLCJ0b3MiLCIkaW9uaWNMb2FkaW5nIiwiJGlvbmljVmlld1N3aXRjaGVyIiwic2lnbkluIiwibG9naW5Gb3JtIiwidXNlcl9sb2dpbiIsInVzZXJuYW1lIiwiJHZpZXdWYWx1ZSIsInBhc3N3b3JkIiwiJHNldFZhbGlkaXR5IiwibmV4dERpcmVjdGlvbiIsInJlc3BvbnNlIiwic2tpcCIsIm5leHRWaWV3T3B0aW9ucyIsImRpc2FibGVCYWNrIiwiaGlzdG9yeVJvb3QiLCJsZWFmbGV0RGF0YSIsImEiLCJnZXRNZXNzYWdlU2NvcGUiLCJuZXdfc2NvcGUiLCIkbmV3IiwiZmlzaGFyZWFzIiwiJGlvbmljUG9wb3ZlciIsInBvcG92ZXIiLCJ1c2VyaW5mbyIsImxvZ291dCIsInVzZXJfbG9nb3V0IiwibG9naW4iLCJyZWdpc3RlciIsImZvcmNlZFVwZGF0ZSIsIiRjb3Jkb3ZhVG9hc3QiLCJBUEkiLCJ1c2VyIiwiaW5mbyIsImxvc3RQYXNzd29yZCIsImZvcm0iLCJ1c2VyX2xvc3RfcGFzc3dvcmQiLCJtYWlsZWQiLCJ0ZXh0ZWQiLCJyZXNldFBhc3N3b3JkIiwidXNlcl9yZXNldF9wYXNzd29yZCIsImNvZGUiLCJzaG93TG9uZ0JvdHRvbSIsImdvVG9IaXN0b3J5Um9vdCIsImN1cnJlbnRWaWV3IiwiaGlzdG9yeUlkIiwiY2hlY2tVc2VybmFtZSIsImlucHV0IiwidXNlcl9leGlzdHMiLCJjaGVja0VtYWlsIiwiZm9ybUVycm9ycyIsInBob25lIiwiZnVsbG5hbWUiLCJlbWFpbCIsInVzZXJfcmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25FcnJvciIsImVycm9yX2NvZGUiLCJ2ZXJpZnkiLCJ2ZXJjb2RlIiwidXNlcl9jb25maXJtIiwiZXVsYSIsInNob3dFdWxhIiwiY2xvc2VFdWxhIiwiaW1nMSIsImltZzIiLCJpbWczIiwiZmlsdGVyIiwiZWwiLCJ0ZXN0IiwiZ2V0VGVjaG5pcXVlIiwiZ2V0VGVjaG5pcXVlcyIsInRlY2huaXF1ZXMiLCJnZXRVc2VySW5mbyIsImdldFVzZXJOdW1iZXJzIiwibnVtYmVycyIsInByZWQiLCJlbmRwb2ludCIsIm5vdyIsIkRhdGUiLCJnZXRVc2VyUHJvZHVjdHMiLCJwcm92aWRlciIsInRoaXMiLCJiYXNlX3VybCIsIiRnZXQiLCIkaHR0cCIsIiRxIiwiYXBpX2NhbGwiLCJjYWNoZSIsImZ1bGZpbGwiLCJyZWplY3QiLCJtZXRob2QiLCJrZXkiLCJ0aW1lb3V0Iiwic3VjY2VzcyIsInN0YXR1cyIsIkVycm9yIiwic2Vzc2lvbl9hcGlfY2FsbCIsInNlc3Npb24iLCJ0b2tlbiIsInMiLCJnZXRfbXVuaWNpcGFsaXRpZXMiLCJtIiwiZ2V0X2NvdW50aWVzIiwiYXJncyIsInBpbiIsInVzZXJfaW5mbyIsInVzZXJfaWRlbnRpZmljYXRpb24iLCJ1c2VyX2NoYW5nZV9wYXNzd29yZCIsIm9sZF9wYXNzd29yZCIsIm5ld19wYXNzd29yZCIsInNldFRva2VuIiwiZGVsZXRlVG9rZW4iLCJ1c2VyX3Byb2R1Y3RzIiwiZ2V0X2Zpc2hlcyIsImdldF90ZWNobmlxdWVzIiwiZ2V0X2JhaXRzIiwiZ2V0X29yZ2FuaXphdGlvbnMiLCJnZXRfb3JnX21vZGlmaWVkIiwiZ2V0X2FyZWFzIiwiYXJlYWlkIiwiZ2V0X2FyZWFzX21vZGlmaWVkIiwiZ2V0X3Byb2R1Y3RzIiwiZ2V0X3J1bGVzIiwicnVsZWlkIiwiZ2V0X3Bob3RvcyIsImdldF9tYXBfcG9pcyIsImdldF9tYXBfcG9pX3R5cGVzIiwiZ2V0X21hcF9wb2x5Z29ucyIsInVzZXJfZ2V0X2Zhdm9yaXRlcyIsImdldF90ZXJtc19vZl9zZXJ2aWNlIiwiZ2V0X2NvbnRhY3RfaW5mbyIsImdldF9lbmdpbmVfcG9saWNpZXMiLCJnZXRfc21zX3Rlcm1zIiwidW5kZWZpbmVkIiwiJGNvcmRvdmFTUUxpdGUiLCJkYiIsInNxbGl0ZVBsdWdpbiIsIm9wZW5EQiIsIm9wZW5EYXRhYmFzZSIsInRhYmxlRGVmIiwiQXJlYSIsIkFyZWFfRmlzaCIsIlByb2R1Y3QiLCJDb3VudHkiLCJNdW5pY2lwYWxpdHkiLCJGaXNoIiwiUnVsZSIsIlVzZXJfUHJvZHVjdCIsIlVzZXJfSW5mbyIsIlVzZXJfTnVtYmVyIiwiVGVjaG5pcXVlIiwiT3JnYW5pemF0aW9uIiwiUG9pIiwiUG9pX1R5cGUiLCJQb2x5Z29uIiwiY3JlYXRlT2JqZWN0IiwicmV0dmFsIiwicm93cyIsIml0ZW0iLCJwb3B1bGF0ZVRhYmxlIiwidGFibGUiLCJ0cmFuc2FjdGlvbiIsInR4IiwiZXhlY3V0ZVNxbCIsInNpbmdsZURhdGEiLCJpbnNlcnREYXRhIiwicXVlcnkiLCJyZXBlYXQiLCJqb2luIiwiY2xlYW5UYWJsZSIsImNsZWFuIiwiaW5pdCIsInRhYmxlVmFsdWVzIiwiZXhlY3V0ZSIsIm9iamVjdCIsIndhcm4iLCJhaWQiLCJzZWFyY2hzdHJpbmciLCJjb3VudHlfaWQiLCJnZXRQcm9kdWN0IiwicHJvZHVjdF9pZCIsImFyZWFfaWQiLCJyZXBsYWNlIiwiTEFTVF9VUERBVEUiLCJwb3B1bGF0ZSIsImFsbCIsImZpc2hBcnIiLCJmaXNoS2V5IiwiZmlkIiwiYW1vdW50IiwiY29tbWVudCIsInBvcHVsYXRlVXNlciIsIm51bUFyciIsIm51bWJlciIsImNsZWFuVXNlciIsInVwZGF0ZUZ1bmMiLCJmb3JjZWQiLCJjdXJyZW50VGltZSIsImxhc3RVcGRhdGUiLCJhV2VlayIsInRlcm1zIiwibGFzdF91cGRhdGUiLCJmYWN0b3J5IiwiJHdpbmRvdyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2VydmljZSIsImRpcmVjdGl2ZSIsIiRjb3Jkb3ZhU21zIiwiJGlvbmljUG9wdXAiLCJyZXN0cmljdCIsImxpbmsiLCJhdHRycyIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvbXB0IiwidGl0bGUiLCJpbnB1dFR5cGUiLCJuZ0NvcmRvdmFTbXMiLCJzZW5kIiwidHJhbnNjbHVkZSIsImxhYmVsIiwicGxhY2Vob2xkZXIiLCJuZ1BhdHRlcm4iLCJuZ01vZGVsIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuIiwiaHJlZiIsInRhcmdldCIsImhvc3QiLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6IkFBS0FBLFFBQUFDLE9BQUEsVUFDQSxRQUNBLHFCQUNBLG9CQUNBLGFBQ0EsWUFDQSxlQUNBLGdCQUNBLGlCQUNBLHlCQUNBLFlBQ0EsZ0JBQ0EsZUFDQSxhQUNBLFdBQ0Esb0JBQ0EsZ0JBR0FDLFNBQUEsdUJBQ0FDLFNBQUEsZ0NBR0FDLEtBQUEsaUJBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FGLEVBQUFHLE1BQUEsV0FFQUMsT0FBQUMsT0FBQUQsT0FBQUMsTUFBQUMsVUFDQUYsT0FBQUMsTUFBQUMsU0FBQUMsMEJBQUEsR0FFQUgsT0FBQUksV0FFQUosT0FBQUksVUFBQUMsZUFHQVAsRUFBQVEsUUFDQVQsRUFBQVUsY0FJQUMsUUFDQSxpQkFDQSxxQkFDQSx1QkFDQSxtQkFDQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBQSxFQUFBQyxZQUNBQyxPQUFBLEVBQ0FDLG9CQUFBLElBRUFILEVBQUFJLFlBQUEsRUFJQUwsRUFBQU0sTUFBQUMsY0FBQSxHQUdBUCxFQUFBUSxXQUFBQyxtQkFBQSxHQUFBQyxLQUFBLElBR0FWLEVBQUFXLEtBQUFDLFNBQUEsU0FPQSxJQUFBQyxHQUFBLFlBQ0F4QixRQUFBeUIsYUFBQUMsUUFBQSxhQUNBRixFQUFBLGFBRUFkLEVBQUFpQixVQUFBSCxHQUlBZixFQUVBbUIsTUFBQSxPQUNBQyxJQUFBLE9BRUFDLFlBQUEsNEJBQ0FDLFdBQUEsYUFHQUgsTUFBQSxhQUNBQyxJQUFBLFNBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsY0FJQUgsTUFBQSxlQUNBQyxJQUFBLFdBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsZ0JBRUFILE1BQUEsNEJBQ0FDLElBQUEsZ0JBQ0FDLFlBQUEseUNBRUFGLE1BQUEsNkJBQ0FDLElBQUEsaUJBQ0FDLFlBQUEsMENBSUFGLE1BQUEsZ0JBQ0FDLElBQUEsWUFDQUMs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SUFBQXBULE9BQUFxVCxhQUtBLE1BREFuUSxTQUFBQyxJQUFBLHVDQUNBNlAsQ0FKQUUsR0FBQWxULE9BQUFxVCxhQUNBLGdCQUFBLE1BQUEsYUFBQSxVQU1BLEdBQUFDLElBQ0FDLE9BQ0EsS0FBQSxRQUNBLFFBQUEsUUFDQSxJQUFBLFNBQ0EsS0FBQSxTQUNBLE9BQUEsU0FDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxNQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsSUFBQSxTQUVBQyxZQUNBLEtBQUEsU0FDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLFNBQUEsUUFDQSxVQUFBLFNBRUFDLFVBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsUUFBQSxRQUNBLE1BQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxTQUVBQyxTQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLElBQUEsU0FFQUMsZUFDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE9BQUEsU0FFQUMsT0FDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxNQUFBLFFBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxPQUFBLFNBQ0EsTUFBQSxTQUNBLEtBQUEsU0FDQSxNQUFBLFNBQ0EsT0FBQSxTQUNBLE1BQUEsU0FDQSxNQUFBLFNBRUFDLE9BQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUVBQyxlQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsT0FBQSxRQUNBLEtBQUEsUUFDQSxXQUFBLFNBQ0EsS0FBQSxTQUNBLE9BQUEsUUFDQSxPQUFBLFFBQ0EsSUFBQSxTQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0Es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QUFBQyxPQUFBLG9CQUNBa1ksVUFBQSxpQkFBQSx1QkFBQSxTQUFBbUIsR0FDQSxZQUNBLFFBQ0FoQixTQUFBLElBQ0FDLEtBQUEsU0FBQTVRLEVBQUE0SCxHQUNBQSxFQUFBa0osR0FBQSxRQUFBLFNBQUFDLEdBQ0FZLEVBQUFDLEtBQUFoSyxFQUFBLEdBQUFpSyxLQUFBLFdBQ0FkLEVBQUFDLHdCQUtBUixVQUFBLHVCQUFBLHVCQUFBLFNBQUFtQixHQUNBLFlBQ0EsUUFDQWhCLFNBQUEsSUFDQUMsS0FBQSxTQUFBNVEsRUFBQTRILEdBQ0FBLEVBQUFrSixHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQWUsT0FBQUQsTUFBQWQsRUFBQWUsT0FBQUMsT0FBQWpaLE9BQUFrWixTQUFBRCxPQUNBSixFQUFBQyxLQUFBYixFQUFBZSxPQUFBRCxLQUFBLFdBQ0FkLEVBQUFDIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhbmd1bGFyLm1vZHVsZSBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXIgbW9kdWxlc1xuLy8gJ2lmaXNrZScgaXMgdGhlIG5hbWUgb2YgdGhpcyBhbmd1bGFyIG1vZHVsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnaWZpc2tlLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlJywgW1xuICAgICdpb25pYycsXG4gICAgJ2lmaXNrZS5jb250cm9sbGVycycsXG4gICAgJ2lmaXNrZS5kaXJlY3RpdmVzJyxcbiAgICAnaWZpc2tlLmFwaScsXG4gICAgJ2lmaXNrZS5kYicsXG4gICAgJ2lmaXNrZS51dGlscycsXG4gICAgJ2lmaXNrZS51cGRhdGUnLFxuICAgICdpZmlza2UuZmlsdGVycycsXG4gICAgJ2lvbmljLmlvbi5oZWFkZXJTaHJpbmsnLFxuICAgICduZ0NvcmRvdmEnLFxuICAgICdzeXN0ZW1Ccm93c2VyJyxcbiAgICAnbmdDb3Jkb3ZhU21zJyxcbiAgICAnbmdNZXNzYWdlcycsXG4gICAgJ0ltZ0NhY2hlJyxcbiAgICAnbGVhZmxldC1kaXJlY3RpdmUnLFxuICAgICd0YWJTbGlkZUJveCdcbl0pXG5cbiAgICAuY29uc3RhbnQoJyRpb25pY0xvYWRpbmdDb25maWcnLCB7XG5cdHRlbXBsYXRlOiAnPGlvbi1zcGlubmVyPjwvaW9uLXNwaW5uZXI+J1xuXHQvLyBoaWRlT25TdGF0ZUNoYW5nZTogdHJ1ZVxuICAgIH0pXG4gICAgLnJ1bihbJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsICdJbWdDYWNoZScsIGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCBVcGRhdGUsIEltZ0NhY2hlKSB7XG5cdCRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmQgZm9yIGZvcm0gaW5wdXRzXG4gICAgICAgICAgICBpZiAod2luZG93LmlvbmljICYmIHdpbmRvdy5pb25pYy5LZXlib2FyZCkge1xuXHRcdHdpbmRvdy5pb25pYy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuXHRcdC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcblx0XHR3aW5kb3cuU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBJbWdDYWNoZS4kaW5pdCgpO1xuICAgICAgICAgICAgVXBkYXRlLnVwZGF0ZSgpO1xuXHR9KTtcbiAgICB9XSlcblxuICAgIC5jb25maWcoW1xuXHQnJHN0YXRlUHJvdmlkZXInLFxuXHQnJHVybFJvdXRlclByb3ZpZGVyJyxcblx0JyRpb25pY0NvbmZpZ1Byb3ZpZGVyJyxcblx0J0ltZ0NhY2hlUHJvdmlkZXInLFxuXHRmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkaW9uaWNDb25maWdQcm92aWRlciwgSW1nQ2FjaGVQcm92aWRlcikge1xuXG5cdCAgICBJbWdDYWNoZVByb3ZpZGVyLnNldE9wdGlvbnMoe1xuXHRcdGRlYnVnOiB0cnVlLFxuXHRcdHVzZVBlcnNpc3RlbnRDYWNoZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICBJbWdDYWNoZVByb3ZpZGVyLm1hbnVhbEluaXQgPSB0cnVlO1xuXG5cblx0ICAgIC8vIENhY2hlIHZpZXdzIGluIHRoZSBmb3J3YXJkIHN0YWNrXG5cdCAgICAkaW9uaWNDb25maWdQcm92aWRlci52aWV3cy5mb3J3YXJkQ2FjaGUodHJ1ZSk7XG5cblx0ICAgIC8vIENsZWFyIGJhY2sgYnV0dG9uIGRlZmF1bHQgdGV4dFxuXHQgICAgJGlvbmljQ29uZmlnUHJvdmlkZXIuYmFja0J1dHRvbi5wcmV2aW91c1RpdGxlVGV4dChmYWxzZSkudGV4dCgnJyk7XG5cblx0ICAgIC8vIFRhYnMgcG9zaXRpb25cblx0ICAgICRpb25pY0NvbmZpZ1Byb3ZpZGVyLnRhYnMucG9zaXRpb24oJ2JvdHRvbScpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlci4gTGVhcm4gbW9yZSBoZXJlOlxuXHQgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG5cdCAgICAgKi9cblxuXHQgICAgdmFyIGRlZmF1bHRVcmwgPSAnL2FwcC9sb2dpbic7XG5cdCAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uJykpIHtcblx0XHRkZWZhdWx0VXJsID0gJy9hcHAvaG9tZSc7XG5cdCAgICB9XG5cdCAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGRlZmF1bHRVcmwpO1xuXG5cblxuXHQgICAgJHN0YXRlUHJvdmlkZXJcblxuXHRcdC5zdGF0ZSgnYXBwJywge1xuXHRcdCAgICB1cmw6ICcvYXBwJyxcblx0XHQgICAgLy9hYnN0cmFjdDogdHJ1ZSxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21lbnUvbWVudS5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ01lbnVDdHJsJ1xuXHRcdH0pXG5cblx0XHQuc3RhdGUoJ2FwcC5sb2dpbicsIHtcblx0XHQgICAgdXJsOiAnL2xvZ2luJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xvZ2luL2xvZ2luLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnTG9naW5DdHJsJ1xuXHRcdH0pXG5cblx0ICAgIC8vIEFjY291bnQgcmVjb3Zlcnlcblx0XHQuc3RhdGUoJ2FwcC5yZWNvdmVyJywge1xuXHRcdCAgICB1cmw6ICcvcmVjb3ZlcicsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWNvdmVyL3JlY292ZXIuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdSZWNvdmVyQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLnJlY292ZXIubG9zdHBhc3N3b3JkJywge1xuXHRcdCAgICB1cmw6ICcvbG9zdHBhc3N3b3JkJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlY292ZXIvbG9zdHBhc3N3b3JkLmh0bWwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5yZWNvdmVyLnJlc2V0cGFzc3dvcmQnLCB7XG5cdFx0ICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlY292ZXIvcmVzZXRwYXNzd29yZC5odG1sJ1xuXHRcdH0pXG5cdCAgICBcblx0ICAgIC8vIEFjY291bnQgcmVnaXN0cmF0aW9uXG5cdFx0LnN0YXRlKCdhcHAucmVnaXN0ZXInLCB7XG5cdFx0ICAgIHVybDogJy9yZWdpc3RlcicsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ1JlZ2lzdGVyQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLnJlZ2lzdGVyLmRldGFpbHMnLCB7XG5cdFx0ICAgIHVybDogJy9kZXRhaWxzJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyX2RldGFpbHMuaHRtbCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLnJlZ2lzdGVyLnZlcmlmeScsIHtcblx0XHQgICAgdXJsOiAnL3ZlcmlmeScsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlcl92ZXJpZnkuaHRtbCdcblx0XHR9KVxuXHQgICAgXG5cdCAgICAvL1xuXHRcdC5zdGF0ZSgnYXBwLmhvbWUnLCB7XG5cdFx0ICAgIHVybDogJy9ob21lJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2hvbWUvaG9tZS5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ0hvbWVDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuaW5mbycsIHtcblx0XHQgICAgdXJsOiAnL2luZm8nLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaW5mby9pbmZvLmh0bWwnXG5cdFx0fSlcblxuXHRcdC5zdGF0ZSgnYXBwLmJ1Z3MnLCB7XG5cdFx0ICAgIHVybDogJy9pbmZvJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21lbnUvcmVwb3J0Lmh0bWwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5jb250YWN0Jywge1xuXHRcdCAgICB1cmw6ICcvY29udGFjdCcsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9jb250YWN0L2NvbnRhY3QuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDb250YWN0Q3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLmxlZ2FsJywge1xuXHRcdCAgICB1cmw6ICcvbGVnYWwnLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbGVnYWwvbGVnYWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdMZWdhbEN0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5hYm91dCcsIHtcblx0XHQgICAgdXJsOiAnL2Fib3V0Jyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Fib3V0L2Fib3V0Lmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQWJvdXRDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAudXNlcmluZm8nLCB7XG5cdFx0ICAgIHVybDogJy91c2VyaW5mbycsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyL3VzZXIuaHRtbCcsXG5cdFx0fSlcblxuXHRcdC5zdGF0ZSgnYXBwLmNvdW50aWVzJywge1xuXHRcdCAgICB1cmw6ICcvY291bnRpZXMnLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvY291bnRpZXMvY291bnRpZXMuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDb3VudGllc0N0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5hcmVhcycsIHtcblx0XHQgICAgdXJsOiAnL2FyZWFzJyxcblx0XHQgICAgcGFyYW1zOiB7J2lkJzogZmFsc2UsICdjb3VudHknOiBmYWxzZSwgJ3NlYXJjaCc6ICcnfSxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWFfbGlzdC9hcmVhX2xpc3QuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdBcmVhc0N0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5jYXJkcycsIHtcblx0XHQgICAgdXJsOiAnL2NhcmRzJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3VzZXJfY2FyZHMvdXNlcl9jYXJkcy5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ1VzZXJDYXJkc0N0cmwnXG5cdFx0fSlcblx0XHQuc3RhdGUoJ2FwcC5mYXZvcml0ZXMnLCB7XG5cdFx0ICAgIHVybDogJy9mYXZvcml0ZXMnLFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvZmF2b3JpdGVzL2Zhdm9yaXRlcy5odG1sJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuZmlzaGVzJywge1xuXHRcdCAgICB1cmw6ICcvZmlzaGVzJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hlcy9maXNoZXMuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdGaXNoZXNDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAuZmlzaGRldGFpbCcsIHtcblx0XHQgICAgdXJsOiAnL2Zpc2hkZXRhaWwvOmlkJyxcblx0XHQgICAgcGFyYW1zOiB7J2lkJzogZmFsc2UsICdmaXNoJzogZmFsc2V9LFxuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvZmlzaF9kZXRhaWwvZmlzaF9kZXRhaWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdGaXNoRGV0YWlsQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLm1hcCcsIHtcblx0XHQgICAgdXJsOiAnL21hcCcsXG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tYXAvbWFwLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnTWFwQ3RybCdcblx0XHR9KVxuXHRcdC5zdGF0ZSgnYXBwLnRlY2huaXF1ZXMnLCB7XG5cdFx0ICAgIHVybDogJy90ZWNobmlxdWVzJyxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZXMvdGVjaG5pcXVlcy5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ1RlY2huaXF1ZXNDdHJsJ1xuXHRcdH0pXG5cdFx0LnN0YXRlKCdhcHAudGVjaG5pcXVlZGV0YWlsJywge1xuXHRcdCAgICB1cmw6ICcvdGVjaG5pcXVlZGV0YWlsLzppZCcsXG5cdFx0ICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAndGVjaCc6IGZhbHNlfSxcblx0XHQgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZV9kZXRhaWwvdGVjaG5pcXVlX2RldGFpbC5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ1RlY2huaXF1ZURldGFpbEN0cmwnXG5cdFx0fSlcblx0ICAgIC8qLnN0YXRlKCdhcHAucmVwb3J0Jywge1xuXHQgICAgICB1cmw6ICcvcmVwb3J0Jyxcblx0ICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3JlcG9ydC9yZXBvcnQuaHRtbCdcblx0ICAgICAgfSkqL1xuXG5cdFx0LnN0YXRlKCdhcHAuYXJlYScsIHtcblx0XHQgICAgdXJsOiAnL2FyZWEvOmlkJyxcblx0XHQgICAgdmlld3M6IHtcblx0XHRcdCdAbWVudSc6IHtcblx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9hcmVhLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdBcmVhQ3RybCcsXG5cdFx0XHR9LFxuXHRcdFx0J2luZm9AbWVudS5hcmVhJzoge1xuXHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2luZm8uaHRtbCdcblx0XHRcdH0sXG5cdFx0XHQnbWFwQG1lbnUuYXJlYSc6IHtcblx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYS9tYXAuaHRtbCdcblx0XHRcdH0sXG5cdFx0XHQnZmlzaGluZm9AbWVudS5hcmVhJzoge1xuXHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2Zpc2guaHRtbCdcblx0XHRcdH0sXG5cdFx0XHQnY2FyZHNAbWVudS5hcmVhJzoge1xuXHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2NhcmRzLmh0bWwnXG5cdFx0XHR9XG5cdFx0ICAgIH1cblx0XHR9KTtcblx0fV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJywgW10pO1xuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kaXJlY3RpdmVzJywgW10pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIFsnJHNjb3BlJywnJGNvcmRvdmFBcHBWZXJzaW9uJywgJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJGNvcmRvdmFBcHBWZXJzaW9uLCAkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlKSB7XG5cdCRzY29wZS52ZXJzaW9uID0gJHNjb3BlLmRiRGF0ZSA9ICdPa8OkbnQnO1xuICAgICRzY29wZS51cGRhdGUgPSBVcGRhdGU7XG5cblx0JGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAod2luZG93LmNvcmRvdmEpIHtcblx0XHQkY29yZG92YUFwcFZlcnNpb24uZ2V0QXBwVmVyc2lvbigpLnRoZW4oZnVuY3Rpb24odmVyc2lvbikge1xuXHRcdCAgICBjb25zb2xlLmxvZygnaUZpc2tlIHZlcnNpb246JywgdmVyc2lvbik7XG5cdFx0ICAgICRzY29wZS52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHR9KTtcblx0ICAgIH1cblx0fSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJGlvbmljSGlzdG9yeScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgJyRzdGF0ZVBhcmFtcycsXG4gICAgJ0RCJyxcbiAgICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICAgJyRpb25pY01vZGFsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRpb25pY0hpc3RvcnksIGxvY2FsU3RvcmFnZSwgICRzdGF0ZVBhcmFtcywgREIsICRpb25pY1NsaWRlQm94RGVsZWdhdGUsICRpb25pY01vZGFsKSB7XG4gICAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgICAgICBjZW50ZXI6IHt9XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG5cbiAgICAgICAgdmFyIGljb25zID0ge307XG5cbiAgICAgICAgLy8gQXJlYWluZm9cbiAgICAgICAgREIuZ2V0QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGFyZWEpIHtcbiAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogYXJlYS5sYXQsXG4gICAgICAgICAgICAgICAgbG5nOiBhcmVhLmxuZyxcbiAgICAgICAgICAgICAgICB6b29tOiBOdW1iZXIoYXJlYS56b29tKSA/IE51bWJlcihhcmVhLnpvb20pIDogOVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5pbWFnZXMgPSBhcmVhLmltYWdlcztcblxuICAgICAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICAgICAgICAgICRzY29wZS5hcmVhID0gYXJlYTtcblxuICAgICAgICAgICAgREIuZ2V0T3JnYW5pemF0aW9uKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihvcmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JnID0gb3JnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBEQi5nZXRQb2lUeXBlcygpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb2lfdHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaV90eXBlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHBvaV90eXBlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbdHlwZS5JRF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaHR0cDovL3d3dy5pZmlza2Uuc2UvJyArIHR5cGUuaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFsxNiwgMzddLCAvLyBwb2ludCBvZiB0aGUgaWNvbiB3aGljaCB3aWxsIGNvcnJlc3BvbmQgdG8gbWFya2VyJ3MgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLTM1XSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgREIuZ2V0UG9pcyhhcmVhLm9yZ2lkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzID0gcG9pcy5tYXAoZnVuY3Rpb24ocG9pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAncG9pcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwb2kubGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBwb2kubG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnNbcG9pLnR5cGVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBvaS50XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdwb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYXJlYS5sYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGFyZWEubG5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYXJlYS50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgREIuZ2V0UG9seWdvbnMoYXJlYS5vcmdpZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb2x5Z29ucykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLnBhdGhzID0gcG9seWdvbnMubWFwKGZ1bmN0aW9uKHBvbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG5nczogSlNPTi5wYXJzZSgnWycgKyBwb2x5LnBvbHkgKyAnXScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwb2x5LmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IHBvbHkuYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWdvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIERCLmdldEFyZWFGaXNoZXMoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihmaXNoZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5maXNoZXMgPSBmaXNoZXM7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgREIuZ2V0UHJvZHVjdHNCeUFyZWEoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwcm9kdWN0cykge1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gcHJvZHVjdHM7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXJlYSBmaXNoZXNcbiAgICAgICAgJHNjb3BlLnNvcnRvcmRlciA9ICctYW1vdW50JztcblxuICAgICAgICAvL0FyZWFfQ2FyZHNcbiAgICAgICAgJHNjb3BlLnNtc3Rlcm1zID0gbG9jYWxTdG9yYWdlLmdldCgnc21zX3Rlcm1zJyk7XG4gICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSAnc28nO1xuXG4gICAgICAgIC8vU01TLW1vZGFsXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhL3Ntc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsID0gbW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUub3Blbk1vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZU1vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnNob3dUZXJtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnNob3dpbmd0ZXJtcyA9ICEkc2NvcGUuc2hvd2luZ3Rlcm1zO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gZmFsc2U7XG5cbiAgICAgICAgLy9SdWxlcyBtb2RhbFxuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvYXJlYS9ydWxlc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZVJ1bGVzTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vTWFwXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZS5tYXAsIHtcbiAgICAgICAgICAgIGxheWVyczoge1xuICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ZG9vcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVdG9taHVza2FydGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3h5eicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQve21hcHR5cGV9L3t6fS97eH0ve3l9QDJ4LnBuZz9hY2Nlc3NfdG9rZW49e2FwaWtleX0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwdHlwZTogJ21hcGJveC5vdXRkb29ycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiAncGsuZXlKMUlqb2liV0ZwYzNSb2J5SXNJbUVpT2lJM1VtczVSMEl3SW4wLkRPaFU4MWNsSExFaFRqODFESU9qZGcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNhdGVsbGl0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NhdGVsbGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3guc2F0ZWxsaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9pczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1N0w6RsbGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtYXJrZXJjbHVzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T25TZWxlY3RvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoczoge31cbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhc0N0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnICwnREInLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJGlvbmljU2Nyb2xsRGVsZWdhdGUgLERCKSB7XG5cbiAgICB2YXIgY29weSA9ICRzdGF0ZVBhcmFtcy5zZWFyY2g7XG4gICAgJHNjb3BlLnNlYXJjaCA9IGNvcHk7XG4gICAgJHNjb3BlLmNvdW50eSA9ICRzdGF0ZVBhcmFtcy5jb3VudHk7XG4gICAgREIuc2VhcmNoKCcnLCAkc3RhdGVQYXJhbXMuaWQpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmFyZWFzID0gZGF0YTtcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbiAgICAkc2NvcGUuY2xlYXJTZWFyY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnNlYXJjaCA9ICcnO1xuICAgIH07XG4gICAgJHNjb3BlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUb3AoKTtcbiAgICB9O1xuXG59XSk7XG5cbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NvbnRhY3RDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgJHNjb3BlLmNvbnRhY3RJbmZvID0gbG9jYWxTdG9yYWdlLmdldCgnY29udGFjdEluZm8nKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NvdW50aWVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldENvdW50aWVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRzY29wZS5jb3VudGllcyA9IGRhdGE7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdGaXNoRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQikge1xuICAgICRzY29wZS5maXNoID0gJHN0YXRlUGFyYW1zLmZpc2g7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICBpZighJHNjb3BlLmZpc2gpIHtcbiAgICAgICAgREIuZ2V0RmlzaCgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5maXNoID0gZGF0YTtcbiAgICBjb25zb2xlLmxvZygkc2NvcGUuZmlzaCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCRzY29wZS5maXNoKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0Zpc2hlc0N0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICAkc2NvcGUuc29ydG9yZGVyID0gJ3NvJztcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgIERCLmdldEZpc2hlcygpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAkc2NvcGUuZmlzaGVzID0gZGF0YTtcbiAgICAgICAgJHNjb3BlLmRlZmF1bHRfaW1nID0gZGF0YVswXS5pbWc7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdIb21lQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJGlvbmljSGlzdG9yeScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgJ3Nlc3Npb25EYXRhJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljSGlzdG9yeSwgbG9jYWxTdG9yYWdlLCBzZXNzaW9uRGF0YSkge1xuXG4gICAgICAgICRzY29wZS5sb2dnZWRJbiA9IHNlc3Npb25EYXRhO1xuXG4gICAgICAgIC8vIEN1cnJlbnQgaGlzdG9yeSBzdGFjayBJZC4gU2VlIGFyZWFfY29udHJvbGxlciBmb3IgdXNhZ2UuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2hvbWVIaXN0b3J5SWQnLCAkaW9uaWNIaXN0b3J5LmN1cnJlbnRIaXN0b3J5SWQoKSk7XG5cbiAgICAgICAgJHNjb3BlLm15RnVuYyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgaWYoJGV2ZW50LmtleUNvZGUgPT0gMTMgJiYgISRldmVudC5zaGlmdEtleSkgeyAvL2lmIGVudGVyLWtleVxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFyZWFzJywge3NlYXJjaDogJGV2ZW50LnNyY0VsZW1lbnQudmFsdWV9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTGVnYWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBsb2NhbFN0b3JhZ2UpIHtcbiAgICAkc2NvcGUudG9zID0gbG9jYWxTdG9yYWdlLmdldCgndG9zJyk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignTG9naW5DdHJsJywgW1xuXHQnJHNjb3BlJywgXG5cdCckc3RhdGUnLCBcblx0J1VwZGF0ZScsIFxuXHQnJGlvbmljTG9hZGluZycsIFxuXHQnJGlvbmljSGlzdG9yeScsIFxuXHQnJGlvbmljVmlld1N3aXRjaGVyJywgXG5cdGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBVcGRhdGUsICRpb25pY0xvYWRpbmcsICRpb25pY0hpc3RvcnksICRpb25pY1ZpZXdTd2l0Y2hlcikge1xuXG5cdCAgICAvKipcblx0ICAgICAqIHNpZ25JblxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIGxvZ2luIGZvcm0uIFZhbGlkYXRlcyBsb2dpbiBpbnB1dC4gXG5cdCAgICAgKiBNb3ZlcyB0byBob21lIHZpZXcgb24gc3VjY2Vzc2Z1bCBsb2dpbi5cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnNpZ25JbiA9IGZ1bmN0aW9uKGxvZ2luRm9ybSkge1xuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG5cdFx0VXBkYXRlLnVzZXJfbG9naW4obG9naW5Gb3JtLnVzZXJuYW1lLiR2aWV3VmFsdWUsIGxvZ2luRm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcblx0XHRcdGxvZ2luRm9ybS4kc2V0VmFsaWRpdHkoXCJsb2dpbkVycm9yXCIsIHRydWUpO1xuXHRcdFx0JGlvbmljVmlld1N3aXRjaGVyLm5leHREaXJlY3Rpb24oJ2ZvcndhcmQnKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmhvbWUnKTtcblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdFx0bG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgZmFsc2UpO1xuXHRcdFx0JHNjb3BlLmVycm9yID0gZXJyb3IucmVzcG9uc2U7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXHQgICAgLyoqIFxuXHQgICAgICogc2tpcFxuXHQgICAgICogU2tpcHMgdG8gdGhlIGhvbWUgdmlldy4gRm9yY2VzIGZvcndhcmQgdHJhbnNpdGlvbiBhbmQgc2V0cyBob21lIGFzIHJvb3Qgdmlldy5cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnNraXAgPSBmdW5jdGlvbigpIHtcblx0XHQkaW9uaWNWaWV3U3dpdGNoZXIubmV4dERpcmVjdGlvbignZm9yd2FyZCcpO1xuXHRcdCRpb25pY0hpc3RvcnkubmV4dFZpZXdPcHRpb25zKFxuXHRcdCAgICB7XG5cdFx0XHRkaXNhYmxlQmFjazogdHJ1ZSxcblx0XHRcdGhpc3RvcnlSb290OiB0cnVlXG5cdFx0ICAgIH0pO1xuXHRcdCRzdGF0ZS5nbygnYXBwLmhvbWUnKTtcblx0ICAgIH07XG5cdH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01hcEN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJ2xlYWZsZXREYXRhJyxcbiAgICAnREInLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgbGVhZmxldERhdGEsIERCKSB7XG4gICAgICAgIERCLnNlYXJjaCgnJykudGhlbihmdW5jdGlvbihhcmVhcykge1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBhcmVhcy5tYXAoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyOiAnZmlzaGFyZWFzJyxcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBhLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxuZyxcbiAgICAgICAgICAgICAgICAgICAgZ2V0TWVzc2FnZVNjb3BlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdfc2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3X3Njb3BlLmFyZWEgPSBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld19zY29wZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxhIHVpLXNyZWY9XCJtZW51LmFyZWEoe2lkOiBhcmVhLklEIH0pXCI+e3thcmVhLnR9fTwvYT4nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICBsYXQ6IDYyLjAsXG4gICAgICAgICAgICAgICAgbG5nOiAxNS4wLFxuICAgICAgICAgICAgICAgIHpvb206IDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXllcnM6IHtcbiAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dGRvb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVXRvbWh1c2thcnRhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3gub3V0ZG9vcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaWtleTogJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzYXRlbGxpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTYXRlbGxpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97bWFwdHlwZX0ve3p9L3t4fS97eX1AMngucG5nP2FjY2Vzc190b2tlbj17YXBpa2V5fScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXB0eXBlOiAnbWFwYm94LnNhdGVsbGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiAncGsuZXlKMUlqb2liV0ZwYzNSb2J5SXNJbUVpT2lJM1VtczVSMEl3SW4wLkRPaFU4MWNsSExFaFRqODFESU9qZGcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG92ZXJsYXlzOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpc2hhcmVhczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Zpc2tlb21yw6VkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21hcmtlcmNsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dPblNlbGVjdG9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbTogOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua2VkTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kczogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01lbnVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNWaWV3U3dpdGNoZXInLFxuICAgICckaW9uaWNQb3BvdmVyJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgICdVcGRhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNWaWV3U3dpdGNoZXIsICRpb25pY1BvcG92ZXIsIHNlc3Npb25EYXRhLCBVcGRhdGUpIHtcblxuICAgICRzY29wZS5zZXNzaW9uRGF0YSA9IHNlc3Npb25EYXRhO1xuXG4gICAgJGlvbmljUG9wb3Zlci5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvbWVudS9wb3BvdmVyLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGVcbiAgICB9KS50aGVuKGZ1bmN0aW9uKHBvcG92ZXIpIHtcbiAgICAgICAgJHNjb3BlLnBvcG92ZXIgPSBwb3BvdmVyO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLnVzZXJpbmZvID0gZnVuY3Rpb24oKSB7XG5cdCRzY29wZS5wb3BvdmVyLmhpZGUoKTtcblx0JHN0YXRlLmdvKCdhcHAudXNlcmluZm8nKTtcbiAgICB9O1xuICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHRVcGRhdGUudXNlcl9sb2dvdXQoKTtcblxuXHQkc3RhdGUuZ28oJ2FwcC5sb2dpbicpO1xuICAgIH07XG4gICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24oKSB7XG5cdCRzY29wZS5wb3BvdmVyLmhpZGUoKTtcblx0JGlvbmljVmlld1N3aXRjaGVyLm5leHREaXJlY3Rpb24oJ2JhY2snKTtcblx0JHN0YXRlLmdvKCdhcHAubG9naW4nKTtcbiAgICB9O1xuICAgICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdCRzdGF0ZS5nbygnYXBwLnJlZ2lzdGVyLmRldGFpbHMnKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBVcGRhdGUuZm9yY2VkVXBkYXRlKCk7XG4gICAgfTtcblxufV0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignUmVjb3ZlckN0cmwnLCBbXG5cdCckc2NvcGUnLFxuXHQnJHN0YXRlJyxcblx0JyRpb25pY0hpc3RvcnknLFxuXHQnJGlvbmljUGxhdGZvcm0nLFxuXHQnJGlvbmljTG9hZGluZycsXG5cdCckY29yZG92YVRvYXN0Jyxcblx0J0FQSScsXG5cdGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNIaXN0b3J5LCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljTG9hZGluZywgJGNvcmRvdmFUb2FzdCwgQVBJKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIFxuXHQgICAgdmFyIHVzZXIgPSBcIlwiO1xuXHQgICAgXG5cdCAgICAvKipcblx0ICAgICAqIHNraXBcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciBza2lwIGJ1dHRvblxuXHQgICAgICovXG5cdCAgICAkc2NvcGUuc2tpcCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5pbmZvID0gXCJcIjtcblx0XHQkc3RhdGUuZ28oJ14ucmVzZXRwYXNzd29yZCcpO1xuXHQgICAgfTtcblx0ICAgIFxuXG5cdCAgICAvKipcblx0ICAgICAqIGxvc3RQYXNzd29yZFxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIGZpcnN0IGZvcm1cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLmxvc3RQYXNzd29yZCA9IGZ1bmN0aW9uKGZvcm0pIHtcblxuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXHRcdFxuXHRcdHVzZXIgPSBmb3JtLnVzZXIuJHZpZXdWYWx1ZTtcblx0XHRBUEkudXNlcl9sb3N0X3Bhc3N3b3JkKHVzZXIpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFxuXHRcdFx0Ly8gU2V0IGluZm8gbWVzc2FnZSBmb3IgbmV4dCB2aWV3XG5cdFx0XHQkc2NvcGUuaW5mbyA9ICdFbiDDpXRlcnN0w6RsbG5pbmdza29kIGtvbW1lciBza2lja2FzIHRpbGwgZGlnIGlub20ga29ydCwgdmlhICc7XHRcdFx0XG5cdFx0XHRpZiAoZGF0YS5tYWlsZWQpIHtcblx0XHRcdCAgICAkc2NvcGUuaW5mbyArPSAnZS1tYWlsJztcblx0XHRcdCAgICBpZiAoZGF0YS50ZXh0ZWQpIHtcblx0XHRcdFx0JHNjb3BlLmluZm8gKz0gJyBvY2ggJztcblx0XHRcdCAgICB9XG5cdFx0XHR9XG5cdFx0XHRpZiAoZGF0YS50ZXh0ZWQpIHtcblx0XHRcdCAgICAkc2NvcGUuaW5mbyArPSAnc21zJztcblx0XHRcdH1cblx0XHRcdCRzY29wZS5pbmZvICs9ICcuJztcblx0XHRcblx0XHRcdCRzdGF0ZS5nbygnXi5yZXNldHBhc3N3b3JkJyk7XG5cblx0XHQgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdC8vVG9EbzogaGFuZGxlIHRpbWVvdXQ/XG5cdFx0XHQvL1RvRG86IGNoZWNrIGVycm9yIGNvZGVzXG5cdFx0XHRmb3JtLnVzZXIuJHNldFZhbGlkaXR5KCdpbnZhbGlkVXNlcicsIGZhbHNlKTtcblx0XHQgICAgfSlcblx0XHQgICAgLmZpbmFsbHkoJGlvbmljTG9hZGluZy5oaWRlKTtcblx0ICAgIH07XG5cblxuXHQgICAgLyoqXG5cdCAgICAgKiByZXNldFBhc3N3b3JkXG5cdCAgICAgKiBTdWJtaXQgaGFuZGxlciBmb3Igc2Vjb25kIGZvcm1cblx0ICAgICAqXG5cdCAgICAgKiBUb0RvOiBsb2cgaW4gaW1tZWRpYXRlbHk/XG5cdCAgICAgKi9cblx0ICAgICRzY29wZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24oZm9ybSkge1xuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG5cdFx0QVBJLnVzZXJfcmVzZXRfcGFzc3dvcmQodXNlciwgZm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlLCBmb3JtLmNvZGUuJHZpZXdWYWx1ZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHQvLyBTdWNjZXNzIHRvYXN0XG5cdFx0XHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHRcdCAgICAkY29yZG92YVRvYXN0LnNob3dMb25nQm90dG9tKCdEaXR0IGzDtnNlbm9yZCBoYXIgw6RuZHJhdHMnKTtcblx0XHRcdH0pO1xuXHRcdFx0Ly8gTmF2aWdhdGUgdG8gY3VycmVudCBoaXN0b3J5IHJvb3Rcblx0XHRcdCRpb25pY0hpc3RvcnkuZ29Ub0hpc3RvcnlSb290KCRpb25pY0hpc3RvcnkuY3VycmVudFZpZXcoKS5oaXN0b3J5SWQpO1x0XG5cdFx0ICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0XHQvL1RvRG86IGNoZWNrIGVycm9yIGNvZGVcblx0XHRcdC8vIDU6IG5vIHN1Y2ggdXNlclxuXHRcdFx0Ly8gMTM6IHBhc3N3b3JkIGxlbmd0aFxuXHRcdFx0Ly8gMTY6IGludmFsaWQvZXhwaXJlZCByZXNldCBjb2RlXG5cdFx0ICAgIH0pXG5cdFx0ICAgIC5maW5hbGx5KCRpb25pY0xvYWRpbmcuaGlkZSk7XG5cdCAgICB9O1xuXHR9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbiAgICAuY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgW1xuXHQnJHNjb3BlJyxcblx0JyRzdGF0ZScsXG5cdCckaW9uaWNMb2FkaW5nJyxcblx0JyRpb25pY01vZGFsJyxcblx0JyRpb25pY1Njcm9sbERlbGVnYXRlJyxcblx0J0FQSScsXG5cdCdsb2NhbFN0b3JhZ2UnLFxuXHRmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljTG9hZGluZywgJGlvbmljTW9kYWwsICRpb25pY1Njcm9sbERlbGVnYXRlLCBBUEksIGxvY2FsU3RvcmFnZSkge1xuXG5cdCAgICB2YXIgdXNlcm5hbWU7XG5cblx0ICAgIC8vIExpdmUgY2hlY2sgZm9yIHVzZXJuYW1lIGF2YWlsYWJpbGl0eVxuXHQgICAgJHNjb3BlLmNoZWNrVXNlcm5hbWUgPSBmdW5jdGlvbihpbnB1dCkge1xuXHRcdEFQSS51c2VyX2V4aXN0cyhpbnB1dC4kdmlld1ZhbHVlKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRpbnB1dC4kc2V0VmFsaWRpdHkoJ25hbWVUYWtlbicsICFkYXRhKTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cdCAgICAvLyBMaXZlIGNoZWNrIGZvciBlbWFpbCBhdmFpbGFiaWxpdHlcblx0ICAgICRzY29wZS5jaGVja0VtYWlsID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRBUEkudXNlcl9leGlzdHMobnVsbCwgaW5wdXQuJHZpZXdWYWx1ZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0aW5wdXQuJHNldFZhbGlkaXR5KCdlbWFpbFRha2VuJywgIWRhdGEpO1xuXHRcdCAgICB9KTtcblx0ICAgIH07XG5cblxuXHQgICAgLy8gVmFsaWRhdGlvbiBlcnJvcnMgbm90IHRpZWQgdG8gaW5wdXQgZmllbGRcblx0ICAgICRzY29wZS5mb3JtRXJyb3JzID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogcmVnaXN0ZXJcblx0ICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciB0aGUgcmVnaXN0cmF0aW9uIGZvcm1cblx0ICAgICAqL1xuXHQgICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oZm9ybSkge1xuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG5cdFx0Ly8gU2F2ZSBwaG9uZSBudW1iZXIgZm9yIG5leHQgdmlld1xuXHRcdCRzY29wZS5waG9uZSA9IGZvcm0ucGhvbmUuJHZpZXdWYWx1ZTtcblxuXHRcdC8vIFNhdmUgdXNlcm5hbWUgZm9yIHZlcmlmeSBzdWJtaXQgaGFuZGxlclxuXHRcdHVzZXJuYW1lID0gZm9ybS51c2VybmFtZS4kdmlld1ZhbHVlO1xuXG5cdFx0dmFyIHBhc3N3b3JkID0gZm9ybS5wYXNzd29yZC4kdmlld1ZhbHVlO1xuXHRcdHZhciBmdWxsbmFtZSA9IGZvcm0uZnVsbG5hbWUuJHZpZXdWYWx1ZTtcblx0XHR2YXIgZW1haWwgPSBmb3JtLmVtYWlsLiR2aWV3VmFsdWU7XG5cblx0XHRBUEkudXNlcl9yZWdpc3Rlcih1c2VybmFtZSwgZnVsbG5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgJHNjb3BlLnBob25lKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHQvLyBTdWNjZXNzOiBHbyB0byB2ZXJpZnkgYWNjb3VudCB2aWV3XG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcblx0XHRcdCRzdGF0ZS5nbygnXi52ZXJpZnknKTtcblxuXHRcdCAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0LyoqXG5cdFx0XHQgKiBFcnJvcjogSW5mb3JtIHRoZSB1c2VyIGFib3V0IGZhaWxlZCByZWdpc3RyYXRpb25cblx0XHRcdCAqIFNlZSBBUEkgZG9jdW1lbnRhdGlvbiBmb3IgZXJyb3IgY29kZXNcblx0XHRcdCAqIFxuXHRcdFx0ICogVG9EbzogSGFuZGxlIHRpbWVvdXRcblx0XHRcdCAqL1xuXHRcdFx0JHNjb3BlLmZvcm1FcnJvcnMucmVnaXN0cmF0aW9uRXJyb3IgPSB0cnVlO1xuXHRcdFx0JGlvbmljU2Nyb2xsRGVsZWdhdGUuc2Nyb2xsVG9wKHRydWUpO1xuXG5cdFx0XHQvLyBJbnZhbGlkIEVtYWlsXG5cdFx0XHRpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSA4KSB7XG5cdFx0XHQgICAgZm9ybS5lbWFpbC4kc2V0VmFsaWRpdHkoJ2ludmFsaWRFbWFpbCcsIGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdC8vIFVzZXJuYW1lIG9yIEVtYWlsIGFscmVhZHkgcmVnaXN0ZXJlZFxuXHRcdFx0aWYgKGVycm9yLmVycm9yX2NvZGUgPT0gOSkge1xuXHRcdFx0ICAgICRzY29wZS5jaGVja1VzZXJuYW1lKGZvcm0udXNlcm5hbWUpO1xuXHRcdFx0ICAgICRzY29wZS5jaGVja0VtYWlsKGZvcm0uZW1haWwpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gSW52YWxpZCBwaG9uZSBudW1iZXJcblx0XHRcdGlmIChlcnJvci5lcnJvcl9jb2RlID09IDEwKSB7XG5cdFx0XHQgICAgZm9ybS5waG9uZS4kc2V0VmFsaWRpdHkoJ2ludmFsaWRQaG9uZScsIGZhbHNlKTtcblx0XHRcdH1cblxuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXG5cdCAgICAvKipcblx0ICAgICAqIHZlcmlmeVxuXHQgICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHRoZSB2ZXJpZmljYXRpb24gZm9ybVxuXHQgICAgICovXG5cdCAgICAkc2NvcGUudmVyaWZ5ID0gZnVuY3Rpb24oZm9ybSkge1xuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG5cdFx0dmFyIHZlcmNvZGUgPSBmb3JtLnZlcmNvZGU7XG5cblx0XHRBUEkudXNlcl9jb25maXJtKHVzZXJuYW1lLCB2ZXJjb2RlLiR2aWV3VmFsdWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHZlcmNvZGUuJHNldFZhbGlkaXR5KFwidmVyaWZpZWRcIiwgdHJ1ZSk7XG5cdFx0XHQkc3RhdGUuZ28oJ3N0YXJ0LmxvZ2luJyk7XG5cdFx0ICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHR2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIGZhbHNlKTtcblx0XHQgICAgfSlcblx0XHQgICAgLmZpbmFsbHkoJGlvbmljTG9hZGluZy5oaWRlKCkpO1xuXHQgICAgfTtcblxuXHQgICAgJHNjb3BlLnRvcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3RvcycpO1xuXHQgICAgLy9Nb2RhbCB3aXRoIHRoZSBFVUxBXG5cdCAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvcmVnaXN0ZXIvZXVsYS5odG1sJywge1xuXHRcdHNjb3BlOiAkc2NvcGUsXG5cdFx0YW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG5cdFx0JHNjb3BlLmV1bGEgPSBtb2RhbDtcblx0ICAgIH0pO1xuXHQgICAgJHNjb3BlLnNob3dFdWxhID0gZnVuY3Rpb24oKSB7XG5cdFx0JHNjb3BlLmV1bGEuc2hvdygpO1xuXHQgICAgfTtcblx0ICAgICRzY29wZS5jbG9zZUV1bGEgPSBmdW5jdGlvbigpIHtcblx0XHQkc2NvcGUuZXVsYS5oaWRlKCk7XG5cdCAgICB9O1xuXHQgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHQkc2NvcGUuZXVsYS5yZW1vdmUoKTtcblx0ICAgIH0pO1xuXG5cdH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1RlY2huaXF1ZURldGFpbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnREInLCAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSkge1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgJHNjb3BlLnRlY2ggPSAkc3RhdGVQYXJhbXMudGVjaDtcbiAgICAkc2NvcGUuaW1hZ2VzID0gW107XG5cbiAgICBpZighJHNjb3BlLnRlY2gpIHtcbiAgICAgICAgREIuZ2V0VGVjaG5pcXVlKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmltYWdlcyA9IFtkYXRhLmltZzEsIGRhdGEuaW1nMiwgZGF0YS5pbWczXS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIS9cXC8kLy50ZXN0KGVsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgJHNjb3BlLnRlY2ggPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS50ZWNoO1xuICAgICAgICAkc2NvcGUuaW1hZ2VzID0gW2RhdGEuaW1nMSwgZGF0YS5pbWcyLCBkYXRhLmltZzNdLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgcmV0dXJuICEvXFwvJC8udGVzdChlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgfVxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVGVjaG5pcXVlc0N0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICBEQi5nZXRUZWNobmlxdWVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAkc2NvcGUudGVjaG5pcXVlcyA9IGRhdGE7XG4gICAgfSk7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICAkc2NvcGUuc29ydG9yZGVyID0gJ3NvJztcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVXNlckN0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICBEQi5nZXRVc2VySW5mbygpXG4gICAgLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICAkc2NvcGUudXNlciA9IHVzZXI7XG4gICAgfSk7XG4gICAgREIuZ2V0VXNlck51bWJlcnMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKG51bWJlcnMpIHtcbiAgICAgICAgJHNjb3BlLm51bWJlcnMgPSBudW1iZXJzO1xuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVXNlckNhcmRzQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlUGFyYW1zJyxcbiAgICAnREInLFxuICAgICckaW9uaWNNb2RhbCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCLCAkaW9uaWNNb2RhbCkge1xuICAgICAgICAkc2NvcGUucHJlZCA9ICctdG8nO1xuICAgICAgICAkc2NvcGUuZW5kcG9pbnQgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlJztcblxuICAgICAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUVudGVyJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAkc2NvcGUubm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIERCLmdldFVzZXJQcm9kdWN0cygpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gZGF0YTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICAgICAgLy91c2UgdGhlIHNhbWUgbW9kYWwgYXMgaW4gYXJlYV9jYXJkc1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvYXJlYV9jYXJkcy9ydWxlc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0KTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmNsb3NlUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmFwaScsIFsnaWZpc2tlLnV0aWxzJ10pXG5cdC5wcm92aWRlcignQVBJJywgZnVuY3Rpb24gQVBJUHJvdmlkZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZV91cmwgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlL2FwaS92Mi9hcGkucGhwJztcblx0ICAgIFxuICAgICAgICAgICAgdGhpcy4kZ2V0ID0gW1xuXHRcdCckaHR0cCcsXG5cdFx0J3Nlc3Npb25EYXRhJyxcblx0XHQnbG9jYWxTdG9yYWdlJyxcblx0XHQnJHEnLFxuXHRcdGZ1bmN0aW9uKCRodHRwLCBzZXNzaW9uRGF0YSwgbG9jYWxTdG9yYWdlLCAkcSkge1xuXHRcdCAgICB2YXIgYmFzZV91cmwgPSB0aGlzLmJhc2VfdXJsO1xuXG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiAjIGFwaV9jYWxsICNcblx0XHQgICAgICogaGFuZGxlcyBodHRwIHJlcXVlc3RzXG5cdFx0ICAgICAqIHJldHVybnMgYSAkaHR0cCBvYmplY3QgZm9yIHRoZSByZXF1ZXN0ZWQgYXBpIGNhbGxcblx0XHQgICAgICovXG5cdFx0ICAgIHZhciBhcGlfY2FsbCA9IGZ1bmN0aW9uKHBhcmFtcywgY2FjaGUpIHtcblx0XHRcdHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcblx0XHRcdCAgICAkaHR0cChcblx0XHRcdFx0e1xuXHRcdFx0XHQgICAgbWV0aG9kOidnZXQnLFxuXHRcdFx0XHQgICAgdXJsOiBiYXNlX3VybCxcblx0XHRcdFx0ICAgIHBhcmFtczogYW5ndWxhci5leHRlbmQocGFyYW1zLCB7J2tleSc6ICcwMTIzNDU2Nzg5YWJjZGVmJ30pLFxuXHRcdFx0XHQgICAgdGltZW91dDogNTAwMCxcblx0XHRcdFx0ICAgIGNhY2hlOiAoY2FjaGUgIT09IGZhbHNlKVxuXHRcdFx0XHR9XG5cdFx0XHQgICAgKVxuXHRcdFx0ICAgIC8vIFRvRG86IFByb3BlciBsb2dnaW5nXG5cdFx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0ICAgIGlmKGRhdGEuc3RhdHVzID09PSAnZXJyb3InKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGRhdGEubWVzc2FnZSk7XG5cdFx0XHRcdCAgICB9IGVsc2Uge1xuXHRcdFx0XHRcdGlmKGRhdGEuZGF0YSkge1xuXHRcdFx0XHRcdCAgICBmdWxmaWxsKGRhdGEuZGF0YS5yZXNwb25zZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQgICAgcmVqZWN0KGRhdGEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fSlcblx0XHRcdFx0LmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnLCBzdGF0dXNUZXh0KSB7XG5cdFx0XHRcdCAgICBpZiAoc3RhdHVzID09PSAwKSB7XG5cdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB0aW1lb3V0JykpO1xuXHRcdFx0XHQgICAgfSBlbHNlIHtcblx0XHRcdFx0XHRyZWplY3QoZGF0YSk7XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0ICAgIH07XG5cblx0XHQgICAgLyoqXG5cdFx0ICAgICAqICMgc2Vzc2lvbl9hcGlfY2FsbCAjXG5cdFx0ICAgICAqIHdyYXBwZXIgZm9yIGFwaV9jYWxsIC0gaW5zZXJ0cyB0aGUgc2Vzc2lvbiB0b2tlbiBpbnRvIHBhcmFtc1xuXHRcdCAgICAgKi9cblx0XHQgICAgdmFyIHNlc3Npb25fYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcblx0XHRcdHZhciBzZXNzaW9uID0gc2Vzc2lvbkRhdGEudG9rZW47XG5cdFx0XHRyZXR1cm4gYXBpX2NhbGwoYW5ndWxhci5leHRlbmQocGFyYW1zLCB7czogc2Vzc2lvbn0pKTtcblx0XHQgICAgfTtcblxuXHRcdCAgICByZXR1cm4ge1xuXHRcdFx0Z2V0X211bmljaXBhbGl0aWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbXVuaWNpcGFsaXRpZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X2NvdW50aWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY291bnRpZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9leGlzdHM6IGZ1bmN0aW9uKHVzZXJuYW1lLCBlbWFpbCkge1xuXHRcdFx0ICAgIHZhciBhcmdzID0ge206ICd1c2VyX2V4aXN0cyd9O1xuXG5cdFx0XHQgICAgaWYgKHVzZXJuYW1lICYmIHR5cGVvZiB1c2VybmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0YXJncy51c2VybmFtZSA9IHVzZXJuYW1lO1xuXHRcdFx0ICAgIH1cblx0XHRcdCAgICBpZiAoZW1haWwgJiYgdHlwZW9mIGVtYWlsID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRhcmdzLmVtYWlsID0gZW1haWw7XG5cdFx0XHQgICAgfVxuXG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKGFyZ3MsIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX3JlZ2lzdGVyOiBmdW5jdGlvbih1c2VybmFtZSwgZnVsbG5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgcGhvbmUpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ3VzZXJfcmVnaXN0ZXInLFxuXHRcdFx0XHQgIHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdFx0ICBmdWxsbmFtZTogZnVsbG5hbWUsXG5cdFx0XHRcdCAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuXHRcdFx0XHQgIGVtYWlsOiBlbWFpbCxcblx0XHRcdFx0ICBwaG9uZTogcGhvbmVcblx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfY29uZmlybTogZnVuY3Rpb24odXNlcm5hbWUsIHBpbikge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7IFxuXHRcdFx0XHRtOiAndXNlcl9jb25maXJtJyxcblx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0XHRwaW46IHBpblxuXHRcdFx0ICAgIH0sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2luZm86IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9pbmZvJ30pO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfbG9zdF9wYXNzd29yZDogZnVuY3Rpb24odXNlcikge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAndXNlcl9sb3N0X3Bhc3N3b3JkJyxcblx0XHRcdFx0ICB1c2VyX2lkZW50aWZpY2F0aW9uOiB1c2VyXG5cdFx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX3Jlc2V0X3Bhc3N3b3JkOiBmdW5jdGlvbih1c2VyX2lkZW50aWZpY2F0aW9uLCBwYXNzd29yZCwgY29kZSkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7XG5cdFx0XHRcdG06ICd1c2VyX3Jlc2V0X3Bhc3N3b3JkJywgXG5cdFx0XHRcdHVzZXJfaWRlbnRpZmljYXRpb246IHVzZXJfaWRlbnRpZmljYXRpb24sXG5cdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZCxcblx0XHRcdFx0Y29kZTogY29kZVxuXHRcdFx0ICAgIH0sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2NoYW5nZV9wYXNzd29yZDogZnVuY3Rpb24ob2xkX3Bhc3N3b3JkLCBuZXdfcGFzc3dvcmQpIHtcblx0XHRcdCAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7XG5cdFx0XHRcdG06ICd1c2VyX2NoYW5nZV9wYXNzd29yZCcsXG5cdFx0XHRcdG9sZF9wYXNzd29yZDogb2xkX3Bhc3N3b3JkLFxuXHRcdFx0XHRuZXdfcGFzc3dvcmQ6IG5ld19wYXNzd29yZFxuXHRcdFx0ICAgIH0sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyX2xvZ2luOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ3VzZXJfbG9naW4nLFxuXHRcdFx0XHQgIHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdFx0ICBwYXNzd29yZDogcGFzc3dvcmRcblx0XHRcdFx0fSwgZmFsc2UpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0ICAgIHNlc3Npb25EYXRhLnNldFRva2VuKGRhdGEpO1xuXG5cdFx0XHRcdCAgICAvL25lZWRlZCBmb3IgY2hhaW5pbmcgb2YgcHJvbWlzZXMsIHNob3VsZCBiZSBkb25lIHNvbWUgb3RoZXIgd2F5IHBlcmhhcHM/XG5cdFx0XHRcdCAgICByZXR1cm4gZGF0YTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9sb2dvdXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2xvZ291dCd9LCBmYWxzZSlcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHQgICAgc2Vzc2lvbkRhdGEuZGVsZXRlVG9rZW4oKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcl9wcm9kdWN0czogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX3Byb2R1Y3RzJ30sIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfZmlzaGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfZmlzaGVzJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF90ZWNobmlxdWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVjaG5pcXVlcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfYmFpdHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9iYWl0cyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfb3JnYW5pemF0aW9uczogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9vcmdhbml6YXRpb25zJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X29yZ19tb2RpZmllZDogZnVuY3Rpb24ob3JnaWQpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoXG5cdFx0XHRcdHsgbTogJ2dldF9vcmdfbW9kaWZpZWQnLFxuXHRcdFx0XHQgIG9yZ2lkOiBvcmdpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfYXJlYXM6IGZ1bmN0aW9uKGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X2FyZWFzJyxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfYXJlYXNfbW9kaWZpZWQ6IGZ1bmN0aW9uKGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X2FyZWFzX21vZGlmaWVkJyxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfcHJvZHVjdHM6IGZ1bmN0aW9uKGFyZWFpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X3Byb2R1Y3RzJyxcblx0XHRcdFx0ICBhcmVhaWQ6IGFyZWFpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfcnVsZXM6IGZ1bmN0aW9uKHJ1bGVpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X3J1bGVzJyxcblx0XHRcdFx0ICBydWxlaWQ6IHJ1bGVpZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfcGhvdG9zOiBmdW5jdGlvbihvcmdpZCwgYXJlYWlkKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKFxuXHRcdFx0XHR7IG06ICdnZXRfcGhvdG9zJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWQsXG5cdFx0XHRcdCAgYXJlYWlkOiBhcmVhaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X21hcF9wb2lzOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X21hcF9wb2lzJyxcblx0XHRcdFx0ICBvcmdpZDogb3JnaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X21hcF9wb2lfdHlwZXMgOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbWFwX3BvaV90eXBlcyd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfbWFwX3BvbHlnb25zOiBmdW5jdGlvbihvcmdpZCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbChcblx0XHRcdFx0eyBtOiAnZ2V0X21hcF9wb2x5Z29ucycsXG5cdFx0XHRcdCAgb3JnaWQ6IG9yZ2lkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHVzZXJfZ2V0X2Zhdm9yaXRlczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2dldF9mYXZvcml0ZXMnfSwgZmFsc2UpO1xuXHRcdFx0fSxcblx0XHRcdGdldF90ZXJtc19vZl9zZXJ2aWNlOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVybXNfb2Zfc2VydmljZSd9KTtcblx0XHRcdH0sXG5cdFx0XHRnZXRfY29udGFjdF9pbmZvOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY29udGFjdF9pbmZvJ30pO1xuXHRcdFx0fSxcblx0XHRcdGdldF9lbmdpbmVfcG9saWNpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9lbmdpbmVfcG9saWNpZXMnfSk7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0X3Ntc190ZXJtczogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3Ntc190ZXJtcyd9KTtcblx0XHRcdH1cblx0XHQgICAgfTtcblx0XHR9XTtcblx0fSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kYicsIFtdKVxuICAgIC5wcm92aWRlcignREInLCBmdW5jdGlvbiBEQlByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICckY29yZG92YVNRTGl0ZScsXG4gICAgICAgICAgICAnQVBJJyxcbiAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICBmdW5jdGlvbigkY29yZG92YVNRTGl0ZSwgQVBJLCAkcSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRiO1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc3FsaXRlUGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiID0gJGNvcmRvdmFTUUxpdGUub3BlbkRCKCdmaXNrZWJhc2VuLmRiJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cub3BlbkRhdGFiYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiID0gd2luZG93Lm9wZW5EYXRhYmFzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdmaXNrZWJhc2VuLmRiJywgJzEuMCcsICdmaXNrZWJhc2VuJywgMTAgKiAxMDI0ICogMTAyNCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UsIHNvcnJ5Jyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlRGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAnQXJlYSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ29yZ2lkJywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2t3JywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbm90ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjMScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYzInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2MzJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtMScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbTInLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ20zJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsYXQnLCAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xuZycsICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnem9vbScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwbnQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY2FyJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2VuZycsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydoY3AnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbWFwJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd3c2MnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnQXJlYV9GaXNoJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2FpZCcsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydmaWQnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnYW1vdW50JywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NvbW1lbnQnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0MicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydubycsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbScsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwZicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydhaScsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3JpJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnY2gnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwcmljZScsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydobCcsICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdDb3VudHknOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3MnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ011bmljaXBhbGl0eSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyduYW1lJywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtYXgnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbWcnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2luJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZ2VvJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzaXplJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncmVjJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdSdWxlJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd2ZXInLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1VzZXJfUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydhdCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2NvZGUnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnZnInLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydmdWxsbmFtZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvdCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydyZWYxJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3JlZjInLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndG8nLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwaWQnLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3BkZicsICAgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1VzZXJfSW5mbyc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd1c2VybmFtZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsb2dnZWRpbicsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydJUDEnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydJUDInLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyduYW1lJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydlbWFpbCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjcmVhdGVkJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdVc2VyX051bWJlcic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbnVtYmVyJywgJ3RleHQnXVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnVGVjaG5pcXVlJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkZScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2RhJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpbWcxJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltZzInLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaW1nMycsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd5b3V0dWJlJywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ09yZ2FuaXphdGlvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjcCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd1cmwnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydjbycsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ21vZCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsndmF0JywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkcCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2Z2YScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnb3JnJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtbCcsICAgICAnaW50J11cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ1BvaSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3R5cGUnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncHJpY2UnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsYScsICAgICAncmVhbCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydsbycsICAgICAncmVhbCddXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdQb2lfVHlwZSc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnUG9seWdvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2MnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ZlcicsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydwb2x5JywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dmFsID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5yb3dzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR2YWwucHVzaChkYXRhLnJvd3MuaXRlbShpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVUYWJsZTogZnVuY3Rpb24odGFibGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgdGFibGUgKyAnOycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW5nbGVEYXRhID0gZGF0YVtpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0RGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZURlZlt0YWJsZV0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnREYXRhLnB1c2goc2luZ2xlRGF0YVt0YWJsZURlZlt0YWJsZV1baV1bMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSU5TRVJUIElOVE8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWQUxVRVMoPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyw/Jy5yZXBlYXQoaW5zZXJ0RGF0YS5sZW5ndGggLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5LCBpbnNlcnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBjbGVhblRhYmxlOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRHJvcHMgYWxsIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBjbGVhblxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY2xlYW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdGFibGUgaW4gdGFibGVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIGFsbCB0YWJsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJbml0aWFsaWVzIHRoZSB0YWJsZXMgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCBpbiB0YWJsZURlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gdGFibGVEZWZbdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVWYWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEJ1aWxkcyBhIHN0cmluZyB3aXRoIFwiXCIgYXJvdW5kIGFsbCBuYW1lcywgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIFNRTCBUYWJsZSB3aXRvdXQgaGF2aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB0byB3b3JyeSBhYm91dCB1c2luZyByZXNlcnZlZCBrZXl3b3Jkcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLnB1c2goJ1wiJyArIHRhYmxlW2ldWzBdICsgJ1wiICcgKyB0YWJsZVtpXVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcyA9IHRhYmxlVmFsdWVzLmpvaW4oJywgJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJygnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIFBSSU1BUlkgS0VZKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyArIHRhYmxlWzBdWzBdICsgJ1wiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSk7J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cblxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IGFuIGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gaWRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGdldEFyZWE6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihhcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBjcmVhdGVPYmplY3QoYXJlYSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETzogREIgc2hvdWxkIG5vdCBuZWVkIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Bob3RvcyhvYmplY3Qub3JnaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlcyA9IGltYWdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEFyZWFGaXNoZXM6IGZ1bmN0aW9uKGFpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYV9GaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gRmlzaCBPTiBBcmVhX0Zpc2guZmlkID0gRmlzaC5JRCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBBcmVhX0Zpc2guYWlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2FpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBTZWFyY2hlcyB0aGUgZGF0YWJhc2UgdXNpbmcgYSBxdWVyeVxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGUgcXVlcnkgaXMgbWF0Y2hlZCB0byBhIG5hbWUgYW5kL29yIGtleXdvcmRcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBzZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBmdW5jdGlvbihzZWFyY2hzdHJpbmcsIGNvdW50eV9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSB0IExJS0UgPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb3VudHlfaWQgPyAnQU5EIGMxID0gPycgOiAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSB0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eV9pZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnJScgKyBzZWFyY2hzdHJpbmcgKyAnJScsIGNvdW50eV9pZF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJyUnICsgc2VhcmNoc3RyaW5nICsgJyUnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYSBwcm9kdWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0UHJvZHVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHByb2R1Y3RfaWRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGdldFByb2R1Y3Q6IGZ1bmN0aW9uKHByb2R1Y3RfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFByb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBzbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcHJvZHVjdF9pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBHZXRzIGFsbCBwcm9kdWN0cyBmcm9tIGFuIGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRQcm9kdWN0c0J5QXJlYVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGFyZWFfaWRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGdldFByb2R1Y3RzQnlBcmVhOiBmdW5jdGlvbihhcmVhX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIFByb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBhaSA9ID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgc28nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FyZWFfaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRDb3VudGllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIENvdW50eS4qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQ291bnR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gQXJlYSBPTiBBcmVhLmMxID0gQ291bnR5LklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIENvdW50eS50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRVc2VyUHJvZHVjdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBVc2VyX1Byb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX1Byb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTEVGVCBKT0lOIFByb2R1Y3QgT04gUHJvZHVjdC5JRCA9IFVzZXJfUHJvZHVjdC5waWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTEVGVCBKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEZpc2hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRGaXNoOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gRmlzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFRlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VGVjaG5pcXVlOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldE9yZ2FuaXphdGlvbjogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIE9yZ2FuaXphdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX0luZm8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdCh1c2VyKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRVc2VyTnVtYmVyczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX051bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9pczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBvcmdpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldFBvaVR5cGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvaV9UeXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRQb2x5Z29uczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgb3JnaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmZpbHRlcnMnLCBbXSlcbi5maWx0ZXIoJ29uZWJyJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8oPGJyPlxccyopKy9nLCAnPGJyPicpO1xuICAgIH07XG59KVxuLmZpbHRlcignbm9icnMnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLyg8YnIoXFxzKlxcLykqPikrL2csICcnKTtcbiAgICB9O1xufSlcbi5maWx0ZXIoJ2NsZWFudGFibGVzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDxcXC8/dGFibGU+KSsvZywgJycpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8XFwvP3RyPikrL2csICcnKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oPFxcLz90aD4pKy9nLCAnJyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDwoXFwvPyl0ZC4qPz4pKz8vZywgJzwkMnA+Jyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvPHA+XFxzKjxcXC9wPi9nLCAnJyk7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9O1xufSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS51cGRhdGUnLCBbJ2lmaXNrZS5hcGknLCAnaWZpc2tlLmRiJywgJ2lmaXNrZS51dGlscyddKVxuICAgIC5wcm92aWRlcignVXBkYXRlJywgZnVuY3Rpb24gVXBkYXRlUHJvdmlkZXIoKSB7XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJ0FQSScsXG4gICAgICAgICAgICAnREInLFxuICAgICAgICAgICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgJyRpb25pY0xvYWRpbmcnLFxuICAgICAgICAgICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKEFQSSwgREIsIGxvY2FsU3RvcmFnZSwgJHEsICRpb25pY0xvYWRpbmcsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgTEFTVF9VUERBVEUgPSAnbGFzdF91cGRhdGUnO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9hcmVhcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpc2hBcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlzaGVzID0gZGF0YVtrZXldLmZpc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGZpc2hLZXkgaW4gZmlzaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXNoQXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJRCc6IGtleSArICdfJyArIGZpc2hLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlkOiBmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFpZDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmlzaGVzW2Zpc2hLZXldWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGZpc2hlc1tmaXNoS2V5XVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ0FyZWEnLCBkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnQXJlYV9GaXNoJywgZmlzaEFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEFyZWEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUHJvZHVjdCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUHJvZHVjdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfY291bnRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdDb3VudHknLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIENvdW50eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbXVuaWNpcGFsaXRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdNdW5pY2lwYWxpdHknLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE11bmljaXBhbGl0eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfZmlzaGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnRmlzaCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgRmlzaCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcnVsZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdSdWxlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBSdWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF90ZWNobmlxdWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVGVjaG5pcXVlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBUZWNobmlxdWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X29yZ2FuaXphdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdPcmdhbml6YXRpb24nLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE9yZ2FuaXphdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvaXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQb2knLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFBvaScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvaV90eXBlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1BvaV9UeXBlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQb2lfVHlwZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvbHlnb25zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUG9seWdvbicsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUG9seWdvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlVXNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVXNlcl9Qcm9kdWN0JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX1Byb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9pbmZvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVycyA9IGRhdGEubnVtYmVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bUFyci5wdXNoKHsnbnVtYmVyJzogbnVtYmVyc1tpXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9JbmZvJywgW2RhdGFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9JbmZvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9OdW1iZXInLCBudW1BcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX051bWJlcnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xlYW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9Qcm9kdWN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX051bWJlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9JbmZvJylcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCB1c2VyIGluZm8gZnJvbSBkYXRhYmFzZScpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgcmVtb3ZlIHVzZXIgZGF0YSBmcm9tIGRhdGFiYXNlIScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRnVuYyA9IGZ1bmN0aW9uKGZvcmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0VXBkYXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0KExBU1RfVVBEQVRFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhV2VlayA9IDEwMDAgKiAzNjAwICogMjQgKiA3O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBsYXN0VXBkYXRlID4gYVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmluaXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIERCIHN5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0YS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlVXNlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdWxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIGFsbCB0aGUgdGhpbmdzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldChMQVNUX1VQREFURSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5lcnJvcl9jb2RlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdyB0byB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdHb3QgYW4gZXJyb3IsIHdpbGwgdHJ5IHRvIHJlY3JlYXRlIGFsbCB0YWJsZXM6JywgZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIuY2xlYW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdWxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgYWxsIHRoZSB0aGluZ3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGlsbCBlcnJvciwgaGFuZGxlIGl0IScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Rlcm1zX29mX3NlcnZpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3RvcycsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Ntc190ZXJtcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih0ZXJtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Ntc190ZXJtcycsIHRlcm1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9jb250YWN0X2luZm8oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2NvbnRhY3RJbmZvJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5pbml0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXplZCBEQiBzeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vX3VwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBmb3JjZWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnVuYyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB1c2VyX2xvZ291dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhblVzZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2xvZ2luOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBUEkudXNlcl9sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdF91cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXQoTEFTVF9VUERBVEUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS51dGlscycsIFtdKVxuXG4uZmFjdG9yeSgnbG9jYWxTdG9yYWdlJywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4uc2VydmljZSgnc2Vzc2lvbkRhdGEnLCBbJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKGxvY2FsU3RvcmFnZSkge1xuICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzZXNzaW9uJyk7XG5cbiAgICB0aGlzLnNldFRva2VuID0gZnVuY3Rpb24odCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdzZXNzaW9uJywgdCk7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0O1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gc2V0Jyk7XG4gICAgfTtcbiAgICB0aGlzLmRlbGV0ZVRva2VuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmUoJ3Nlc3Npb24nKTtcbiAgICAgICAgdGhpcy50b2tlbiA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiB1bnNldCcpO1xuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnbmdDb3Jkb3ZhU21zJywgW10pXG4uZGlyZWN0aXZlKCduZ0NvcmRvdmFTbXMnLCBbJyRjb3Jkb3ZhU21zJywgJyRpb25pY1BvcHVwJywgZnVuY3Rpb24oJGNvcmRvdmFTbXMsICRpb25pY1BvcHVwKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRpb25pY1BvcHVwLnByb21wdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2tyaXYgaW4gZGl0dCBuYW1uJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUeXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnRklTS0EgJyArIGF0dHJzLm5nQ29yZG92YVNtcyArICcgJyArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU21zLnNlbmQoJzcyNDU2JywgbWVzc2FnZSwgJ0lOVEVOVCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2N1ZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRpcmVjdGl2ZXMnKVxuICAgIC5kaXJlY3RpdmUoJ2lmaXNrZUlucHV0JywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgdHJhbnNjbHVkZTogdHJ1ZSxcblxuXHQgICAgc2NvcGU6IHtcblx0XHRuYW1lOiAnQCcsXG5cdFx0aWQ6ICdAJyxcblx0XHRsYWJlbDogJ0AnLFxuXHRcdHBsYWNlaG9sZGVyOiAnQCcsXG5cdFx0dHlwZTogJ0AnLFxuXHRcdG5nUGF0dGVybjogJ0AnLFxuXHRcdG5nTW9kZWw6ICc9PydcblxuXHQgICAgfSxcblx0ICAgIHRlbXBsYXRlVXJsOiAnZGlyZWN0aXZlcy9pbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUpIHtcblx0XHQkc2NvcGUuaWQgPSAkc2NvcGUuaWQgfHwgJHNjb3BlLm5hbWU7XG5cdFx0JHNjb3BlLnR5cGUgPSAkc2NvcGUudHlwZSB8fCAndGV4dCc7XG5cdCAgICB9XG5cdH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ3N5c3RlbUJyb3dzZXInLCBbXSlcbi5kaXJlY3RpdmUoJ3N5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGVsWzBdLmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4uZGlyZWN0aXZlKCdnbG9iYWxTeXN0ZW1Ccm93c2VyJywgWyckY29yZG92YUluQXBwQnJvd3NlcicsIGZ1bmN0aW9uKCRjb3Jkb3ZhSW5BcHBCcm93c2VyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmhyZWYgJiYgZS50YXJnZXQuaG9zdCAhPT0gd2luZG93LmxvY2F0aW9uLmhvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3BlbihlLnRhcmdldC5ocmVmLCAnX3N5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9