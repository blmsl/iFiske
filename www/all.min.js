angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive","tabSlideBox"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!0,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/start/login";window.localStorage.getItem("session")&&(r="/menu/home"),t.otherwise(r),e.state("start",{url:"/start","abstract":!0,templateUrl:"components/start/start.html"}).state("start.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("start.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("start.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("start.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("menu",{url:"/menu","abstract":!0,templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("menu.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("menu.info",{url:"/info",templateUrl:"components/info/info.html"}).state("menu.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("menu.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("menu.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("menu.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("menu.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("menu.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("menu.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("menu.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("menu.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("menu.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("menu.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("menu.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("menu.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("menu.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("menu.report",{url:"/report",templateUrl:"components/report/report.html"}).state("menu.area",{url:"/area/:id",views:{"@menu":{templateUrl:"components/area/area.html",controller:"AreaCtrl"},"info@menu.area":{templateUrl:"components/area/info.html"},"map@menu.area":{templateUrl:"components/area/map.html"},"fishinfo@menu.area":{templateUrl:"components/area/fish.html"},"cards@menu.area":{templateUrl:"components/area/cards.html"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Okänt",e.update=o,n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log("iFiske version:",t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$ionicHistory","localStorage","$stateParams","DB","$ionicSlideBoxDelegate","$ionicModal","$state",function(e,t,n,o,r,i,s){e.map={center:{}},e.image_endpoint="http://www.ifiske.se",e.$on("$ionicView.beforeEnter",function(){var t={};r.getArea(o.id).then(function(n){e.map.center={lat:n.lat,lng:n.lng,zoom:Number(n.zoom)?Number(n.zoom):9},e.images=n.images,i.update(),e.area=n,r.getOrganization(n.orgid).then(function(t){e.org=t}),r.getPoiTypes().then(function(o){for(var i=0;i<o.length;++i){var s=o[i];t[s.ID]={iconUrl:"http://www.ifiske.se/"+s.icon,iconAnchor:[16,37]}}r.getPois(n.orgid).then(function(n){e.map.markers=n.map(function(e){return{layer:"pois",lat:e.la,lng:e.lo,icon:t[e.type],message:e.t}})},function(e){console.error(e)}),r.getPolygons(n.orgid).then(function(t){e.map.paths=t.map(function(e){return{latlngs:JSON.parse("["+e.poly+"]"),color:e.c,weight:2,opacity:.5,fillColor:e.c,type:"polygon"}})},function(e){console.error(e)})})},function(e){console.log(e)}),r.getAreaFishes(o.id).then(function(t){console.log(t),e.fishes=t},function(e){console.log(e)}),r.getProductsByArea(o.id).then(function(t){e.products=t},function(e){console.log(e)})}),e.sortorder="-amount",e.smsterms=n.get("sms_terms"),e.predicate="so",s.fromTemplateUrl("components/area/sms_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,s.fromTemplateUrl("components/area/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()}),angular.extend(e.map,{layers:{baselayers:{mapbox:{name:"Mapbox",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{pois:{name:"Ställen",type:"markercluster",visible:!0,layerOptions:{disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){var r=t.search;e.search=r,e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){e.search=""},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("menu.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading",function(e,t,n,o){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),t.go("menu.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","DB",function(e,t,n){e.test="hej",n.search("").then(function(t){e.markers=t.map(function(t){return{layer:"fishareas",lat:t.lat,lng:t.lng,getMessageScope:function(){var n=e.$new();return n.area=t,n},message:'<a ui-sref="area.info({id: area.ID })">{{area.t}}</a>'}})}),angular.extend(e,{center:{lat:62,lng:15,zoom:5},layers:{baselayers:{mapbox:{name:"Mapbox",type:"xyz",url:"http://api.tiles.mapbox.com/v4/{maptype}/{z}/{x}/{y}@2x.png?access_token={apikey}",layerOptions:{maptype:"mapbox.outdoors",apikey:"pk.eyJ1IjoibWFpc3RobyIsImEiOiI3Ums5R0IwIn0.DOhU81clHLEhTj81DIOjdg"}}},overlays:{fishareas:{name:"Fiskeområden",type:"markercluster",visible:!0,layerOptions:{disableClusteringAtZoom:9,chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}}}}})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicPopover","sessionData","Update",function(e,t,n,o,r){e.sessionData=o,n.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("menu.userinfo")},e.logout=function(){e.popover.hide(),r.user_logout(),t.go("start.login")},e.login=function(){e.popover.hide(),t.go("start.login")},e.register=function(){e.popover.hide(),t.go("start.register.details")},e.update=function(){r.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,r,i,s){var l;e.checkUsername=function(e){i.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t)})},e.checkEmail=function(e){i.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,l=o.username.$viewValue;var s=o.password.$viewValue,u=o.fullname.$viewValue,a=o.email.$viewValue;i.user_register(l,u,s,a,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,r.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;i.user_confirm(l,o.$viewValue).then(function(){t.go("start.login"),o.$setValidity("verified",!0),n.hide()},function(){o.$setValidity("verified",!1),n.hide()})},e.tos=s.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","$ionicModal",function(e,t,n,o){e.pred="-to",e.endpoint="https://www.ifiske.se",e.$on("$ionicView.beforeEnter",function(){e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)})}),o.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()})}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,s=function(n){return r(function(o,r){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:!0}).success(function(e){"error"===e.status?r(e.message):e.data?o(e.data.response):r(e)}).error(function(e,t){r(0===t?new Error("Request timeout"):e)})})},l=function(t){var o=n.token;return s(e.extend(t,{s:o}))};return{get_municipalities:function(){return s({m:"get_municipalities"})},get_counties:function(){return s({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return"string"==typeof e&&(n.username=e),"string"==typeof t&&(n.email=t),s(n)},user_register:function(e,t,n,o,r){return s({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r})},user_confirm:function(e,t){return s({m:"user_confirm",username:e,pin:t})},user_info:function(){return l({m:"user_info"})},user_login:function(e,t){return s({m:"user_login",username:e,password:t}).then(function(e){return n.setToken(e),e})},user_logout:function(){l({m:"user_logout"}).then(function(){n.deleteToken()})},user_products:function(){return l({m:"user_products"})},get_fishes:function(){return s({m:"get_fishes"})},get_techniques:function(){return s({m:"get_techniques"})},get_baits:function(){return s({m:"get_baits"})},get_organizations:function(e){return s({m:"get_organizations",orgid:e})},get_org_modified:function(e){return s({m:"get_org_modified",orgid:e})},get_areas:function(e){return s({m:"get_areas",areaid:e})},get_areas_modified:function(e){return s({m:"get_areas_modified",areaid:e})},get_products:function(e){return s({m:"get_products",areaid:e})},get_rules:function(e){return s({m:"get_rules",ruleid:e})},get_photos:function(e,t){return s({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return s({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return s({m:"get_map_poi_types"})},get_map_polygons:function(e){return s({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return l({m:"user_get_favorites"})},get_terms_of_service:function(){return s({m:"get_terms_of_service"})},get_contact_info:function(){return s({m:"get_contact_info"})},get_engine_policies:function(){return s({m:"get_engine_policies"})},get_sms_terms:function(){return s({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]],Poi:[["ID","int"],["orgid","int"],["type","int"],["price","int"],["t","text"],["d","text"],["la","real"],["lo","real"]],Poi_Type:[["ID","int"],["t","text"],["icon","text"]],Polygon:[["ID","int"],["orgid","int"],["t","text"],["c","text"],["ver","int"],["mod","int"],["poly","text"]]},s=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],s=[],l=0;l<i[e].length;++l)s.push(r[i[e][l][0]]);var u=["INSERT INTO",e,"VALUES(?",",?".repeat(s.length-1),")"].join(" ");n.executeSql(u,s)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){var n=["CREATE TABLE IF NOT EXISTS",t,"(",'"'+i[t].join('___"').split(",").join('" ').split("___").join(", "),", PRIMARY KEY(",'"'+i[t][0][0]+'"',"));"].join(" ");e.executeSql(n)}},t,e)})},getArea:function(t){return o(function(o){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=s(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e,o(t)},function(){o(t)})})})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(s(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(s(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(s(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(s(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(s(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(s(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(s(e))},n)})},getPois:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Poi","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},getPoiTypes:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM Poi_Type"].join(" ")).then(function(e){t(s(e))},n)})},getPolygons:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Polygon","WHERE orgid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("onebr",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}).filter("nobrs",function(){return function(e){return e.replace(/(<br(\s*\/)*>)+/g,"")}}).filter("cleantables",function(){return function(e){return e=e.replace(/(<\/?table>)+/g,""),e=e.replace(/(<\/?tr>)+/g,""),e=e.replace(/(<\/?th>)+/g,""),e=e.replace(/(<(\/?)td.*?>)+?/g,"<$2p>"),e=e.replace(/<p>\s*<\/p>/g,"")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var s="last_update",l=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e){var i=e[r].fish;for(var s in i)n.push({ID:r+"_"+s,fid:s,aid:r,amount:i[s][0],comment:i[s][1]})}return o.all([t.populateTable("Area",e),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})}),e.get_map_pois().then(function(e){return t.populateTable("Poi",e).then(function(){console.log("Populated Poi")},function(e){return console.log(e),o.reject(e)})}),e.get_map_poi_types().then(function(e){return t.populateTable("Poi_Type",e).then(function(){console.log("Populated Poi_Type")},function(e){return console.log(e),o.reject(e)})}),e.get_map_polygons().then(function(e){return t.populateTable("Polygon",e).then(function(){console.log("Populated Polygon")},function(e){return console.log(e),o.reject(e)})})])},u=function(){return o.all([e.user_products().then(function(e){return console.log(e),t.populateTable("User_Product",e).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},a=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){r.show();var f=Date.now(),m=0;c||(m=n.get(s));var p=6048e5;f-m>p?(t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([u(),l()]):l()}).then(function(){console.log("Populated all the things"),n.set(s,f),r.hide()},function(o){return 7!==o.error_code?(console.warn("Got an error, will try to recreate all tables: ",o),t.clean().then(function(){return t.init()}).then(function(){return l()}).then(function(){console.log("Populated all the things"),n.set(s,f),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(a(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e)}),e.get_contact_info().then(function(e){n.set("contactInfo",e)})):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&u().then(function(){r.hide()},function(){r.hide()}),r.hide()}):(console.log("no_update"),r.hide())};return{update:function(){c()},forcedUpdate:function(){c(!0)},user_logout:function(){a(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(s)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhL2FyZWFfY29udHJvbGxlci5qcyIsImFyZWFfbGlzdC9hcmVhX2xpc3RfY29udHJvbGxlci5qcyIsImNvbnRhY3QvY29udGFjdF9jb250cm9sbGVyLmpzIiwiY291bnRpZXMvY291bnRpZXNfY29udHJvbGxlci5qcyIsImZpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJmaXNoZXMvZmlzaGVzX2NvbnRyb2xsZXIuanMiLCJob21lL2hvbWVfY29udHJvbGxlci5qcyIsImxlZ2FsL2xlZ2FsX2NvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dpbl9jb250cm9sbGVyLmpzIiwibWFwL21hcF9jb250cm9sbGVyLmpzIiwibWVudS9tZW51X2NvbnRyb2xsZXIuanMiLCJyZWdpc3Rlci9yZWdpc3Rlcl9jb250cm9sbGVyLmpzIiwidGVjaG5pcXVlX2RldGFpbC90ZWNobmlxdWVfZGV0YWlsX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVzL3RlY2huaXF1ZXNfY29udHJvbGxlci5qcyIsInVzZXIvdXNlcl9jb250cm9sbGVyLmpzIiwidXNlcl9jYXJkcy91c2VyX2NhcmRzX2NvbnRyb2xsZXIuanMiLCJhcGkuanMiLCJkYi5qcyIsImZpbHRlci5qcyIsInVwZGF0ZS5qcyIsInV0aWxzLmpzIiwiaWZpc2tlX3Ntcy9pZmlza2Vfc21zLmpzIiwiaW5wdXRfZmllbGQvaWZpc2tlX2lucHV0LmpzIiwic3lzdGVtX2Jyb3dzZXIvc3lzdGVtX2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidGVtcGxhdGUiLCJydW4iLCIkaW9uaWNQbGF0Zm9ybSIsIlVwZGF0ZSIsIkltZ0NhY2hlIiwicmVhZHkiLCJ3aW5kb3ciLCJpb25pYyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0IiwiJGluaXQiLCJ1cGRhdGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiSW1nQ2FjaGVQcm92aWRlciIsInNldE9wdGlvbnMiLCJkZWJ1ZyIsInVzZVBlcnNpc3RlbnRDYWNoZSIsIm1hbnVhbEluaXQiLCJ2aWV3cyIsImZvcndhcmRDYWNoZSIsImJhY2tCdXR0b24iLCJwcmV2aW91c1RpdGxlVGV4dCIsInRleHQiLCJ0YWJzIiwicG9zaXRpb24iLCJkZWZhdWx0VXJsIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwiYWJzdHJhY3QiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJwYXJhbXMiLCJpZCIsImNvdW50eSIsInNlYXJjaCIsImZpc2giLCJ0ZWNoIiwiQG1lbnUiLCJpbmZvQG1lbnUuYXJlYSIsIm1hcEBtZW51LmFyZWEiLCJmaXNoaW5mb0BtZW51LmFyZWEiLCJjYXJkc0BtZW51LmFyZWEiLCIkc2NvcGUiLCIkY29yZG92YUFwcFZlcnNpb24iLCJ2ZXJzaW9uIiwiZGJEYXRlIiwiY29yZG92YSIsImdldEFwcFZlcnNpb24iLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsIiRpb25pY0hpc3RvcnkiLCIkc3RhdGVQYXJhbXMiLCJEQiIsIiRpb25pY1NsaWRlQm94RGVsZWdhdGUiLCIkaW9uaWNNb2RhbCIsIm1hcCIsImNlbnRlciIsImltYWdlX2VuZHBvaW50IiwiJG9uIiwiaWNvbnMiLCJnZXRBcmVhIiwiYXJlYSIsImxhdCIsImxuZyIsInpvb20iLCJOdW1iZXIiLCJpbWFnZXMiLCJnZXRPcmdhbml6YXRpb24iLCJvcmdpZCIsIm9yZyIsImdldFBvaVR5cGVzIiwicG9pX3R5cGVzIiwiaSIsImxlbmd0aCIsInR5cGUiLCJJRCIsImljb25VcmwiLCJpY29uIiwiaWNvbkFuY2hvciIsImdldFBvaXMiLCJwb2lzIiwibWFya2VycyIsInBvaSIsImxheWVyIiwibGEiLCJsbyIsIm1lc3NhZ2UiLCJ0IiwiZXJyIiwiZXJyb3IiLCJnZXRQb2x5Z29ucyIsInBvbHlnb25zIiwicGF0aHMiLCJwb2x5IiwibGF0bG5ncyIsIkpTT04iLCJwYXJzZSIsImNvbG9yIiwiYyIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsQ29sb3IiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsInNtc3Rlcm1zIiwiZ2V0IiwicHJlZGljYXRlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsInNtc19tb2RhbCIsIm9wZW5Nb2RhbCIsInByb2R1Y3QiLCJzaG93IiwiY2xvc2VNb2RhbCIsImhpZGUiLCJzaG93VGVybXMiLCJzaG93aW5ndGVybXMiLCJydWxlc19tb2RhbCIsIm9wZW5SdWxlc01vZGFsIiwiY2xvc2VSdWxlc01vZGFsIiwicmVtb3ZlIiwiZXh0ZW5kIiwibGF5ZXJzIiwiYmFzZWxheWVycyIsIm1hcGJveCIsIm5hbWUiLCJsYXllck9wdGlvbnMiLCJtYXB0eXBlIiwiYXBpa2V5Iiwib3ZlcmxheXMiLCJ2aXNpYmxlIiwiZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb20iLCJjaHVua2VkTG9hZGluZyIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJyZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kcyIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiY29weSIsImRhdGEiLCJhcmVhcyIsImNsZWFyU2VhcmNoIiwic2Nyb2xsVG9wIiwiJHN0YXRlIiwiY29udGFjdEluZm8iLCJnZXRDb3VudGllcyIsImNvdW50aWVzIiwiZ2V0RmlzaCIsImdldEZpc2hlcyIsImRlZmF1bHRfaW1nIiwiaW1nIiwic2Vzc2lvbkRhdGEiLCJsb2dnZWRJbiIsInNldCIsImN1cnJlbnRIaXN0b3J5SWQiLCJteUZ1bmMiLCIkZXZlbnQiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJnbyIsInNyY0VsZW1lbnQiLCJ2YWx1ZSIsInRvcyIsIiRpb25pY0xvYWRpbmciLCJzaWduSW4iLCJsb2dpbkZvcm0iLCJ1c2VyX2xvZ2luIiwidXNlcm5hbWUiLCIkdmlld1ZhbHVlIiwicGFzc3dvcmQiLCIkc2V0VmFsaWRpdHkiLCJyZXNwb25zZSIsImxlYWZsZXREYXRhIiwidGVzdCIsImEiLCJnZXRNZXNzYWdlU2NvcGUiLCJuZXdfc2NvcGUiLCIkbmV3IiwiZmlzaGFyZWFzIiwiJGlvbmljUG9wb3ZlciIsInBvcG92ZXIiLCJ1c2VyaW5mbyIsImxvZ291dCIsInVzZXJfbG9nb3V0IiwibG9naW4iLCJyZWdpc3RlciIsImZvcmNlZFVwZGF0ZSIsIkFQSSIsImNoZWNrVXNlcm5hbWUiLCJpbnB1dCIsInVzZXJfZXhpc3RzIiwiY2hlY2tFbWFpbCIsImZvcm1FcnJvcnMiLCJmb3JtIiwicGhvbmUiLCJmdWxsbmFtZSIsImVtYWlsIiwidXNlcl9yZWdpc3RlciIsInJlZ2lzdHJhdGlvbkVycm9yIiwiZXJyb3JfY29kZSIsInZlcmlmeSIsInZlcmNvZGUiLCJ1c2VyX2NvbmZpcm0iLCJldWxhIiwic2hvd0V1bGEiLCJjbG9zZUV1bGEiLCJpbWcxIiwiaW1nMiIsImltZzMiLCJmaWx0ZXIiLCJlbCIsImdldFRlY2huaXF1ZSIsImdldFRlY2huaXF1ZXMiLCJ0ZWNobmlxdWVzIiwiZ2V0VXNlckluZm8iLCJ1c2VyIiwiZ2V0VXNlck51bWJlcnMiLCJudW1iZXJzIiwicHJlZCIsImVuZHBvaW50Iiwibm93IiwiRGF0ZSIsImdldFVzZXJQcm9kdWN0cyIsInByb3ZpZGVyIiwidGhpcyIsImJhc2VfdXJsIiwiJGdldCIsIiRodHRwIiwiJHEiLCJhcGlfY2FsbCIsImZ1bGZpbGwiLCJyZWplY3QiLCJtZXRob2QiLCJrZXkiLCJ0aW1lb3V0IiwiY2FjaGUiLCJzdWNjZXNzIiwic3RhdHVzIiwiRXJyb3IiLCJzZXNzaW9uX2FwaV9jYWxsIiwic2Vzc2lvbiIsInRva2VuIiwicyIsImdldF9tdW5pY2lwYWxpdGllcyIsIm0iLCJnZXRfY291bnRpZXMiLCJhcmdzIiwicGluIiwidXNlcl9pbmZvIiwic2V0VG9rZW4iLCJkZWxldGVUb2tlbiIsInVzZXJfcHJvZHVjdHMiLCJnZXRfZmlzaGVzIiwiZ2V0X3RlY2huaXF1ZXMiLCJnZXRfYmFpdHMiLCJnZXRfb3JnYW5pemF0aW9ucyIsImdldF9vcmdfbW9kaWZpZWQiLCJnZXRfYXJlYXMiLCJhcmVhaWQiLCJnZXRfYXJlYXNfbW9kaWZpZWQiLCJnZXRfcHJvZHVjdHMiLCJnZXRfcnVsZXMiLCJydWxlaWQiLCJnZXRfcGhvdG9zIiwiZ2V0X21hcF9wb2lzIiwiZ2V0X21hcF9wb2lfdHlwZXMiLCJnZXRfbWFwX3BvbHlnb25zIiwidXNlcl9nZXRfZmF2b3JpdGVzIiwiZ2V0X3Rlcm1zX29mX3NlcnZpY2UiLCJnZXRfY29udGFjdF9pbmZvIiwiZ2V0X2VuZ2luZV9wb2xpY2llcyIsImdldF9zbXNfdGVybXMiLCJ1bmRlZmluZWQiLCIkY29yZG92YVNRTGl0ZSIsImRiIiwic3FsaXRlUGx1Z2luIiwib3BlbkRCIiwib3BlbkRhdGFiYXNlIiwidGFibGVEZWYiLCJBcmVhIiwiQXJlYV9GaXNoIiwiUHJvZHVjdCIsIkNvdW50eSIsIk11bmljaXBhbGl0eSIsIkZpc2giLCJSdWxlIiwiVXNlcl9Qcm9kdWN0IiwiVXNlcl9JbmZvIiwiVXNlcl9OdW1iZXIiLCJUZWNobmlxdWUiLCJPcmdhbml6YXRpb24iLCJQb2kiLCJQb2lfVHlwZSIsIlBvbHlnb24iLCJjcmVhdGVPYmplY3QiLCJyZXR2YWwiLCJyb3dzIiwicHVzaCIsIml0ZW0iLCJwb3B1bGF0ZVRhYmxlIiwidGFibGUiLCJ0cmFuc2FjdGlvbiIsInR4IiwiZXhlY3V0ZVNxbCIsInNpbmdsZURhdGEiLCJpbnNlcnREYXRhIiwicXVlcnkiLCJyZXBlYXQiLCJqb2luIiwiY2xlYW5UYWJsZSIsImNsZWFuIiwiaW5pdCIsInNwbGl0IiwiZXhlY3V0ZSIsIm9iamVjdCIsImFpZCIsInNlYXJjaHN0cmluZyIsImNvdW50eV9pZCIsImdldFByb2R1Y3QiLCJwcm9kdWN0X2lkIiwiYXJlYV9pZCIsInJlcGxhY2UiLCJMQVNUX1VQREFURSIsInBvcHVsYXRlIiwiYWxsIiwiZmlzaEFyciIsImZpc2hLZXkiLCJmaWQiLCJhbW91bnQiLCJjb21tZW50IiwicG9wdWxhdGVVc2VyIiwibnVtQXJyIiwibnVtYmVyIiwiY2xlYW5Vc2VyIiwidXBkYXRlRnVuYyIsImZvcmNlZCIsImN1cnJlbnRUaW1lIiwibGFzdFVwZGF0ZSIsImFXZWVrIiwid2FybiIsInRlcm1zIiwibGFzdF91cGRhdGUiLCJmYWN0b3J5IiwiJHdpbmRvdyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2VydmljZSIsImRpcmVjdGl2ZSIsIiRjb3Jkb3ZhU21zIiwiJGlvbmljUG9wdXAiLCJyZXN0cmljdCIsImxpbmsiLCJhdHRycyIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvbXB0IiwidGl0bGUiLCJpbnB1dFR5cGUiLCJuZ0NvcmRvdmFTbXMiLCJzZW5kIiwidHJhbnNjbHVkZSIsImxhYmVsIiwicGxhY2Vob2xkZXIiLCJuZ1BhdHRlcm4iLCJuZ01vZGVsIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuIiwiaHJlZiIsInRhcmdldCIsImhvc3QiLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6IkFBS0FBLFFBQUFDLE9BQUEsVUFDQSxRQUNBLHFCQUNBLG9CQUNBLGFBQ0EsWUFDQSxlQUNBLGdCQUNBLGlCQUNBLHlCQUNBLFlBQ0EsZ0JBQ0EsZUFDQSxhQUNBLFdBQ0Esb0JBQ0EsZ0JBRUFDLFNBQUEsdUJBQ0FDLFNBQUEsZ0NBR0FDLEtBQUEsaUJBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FGLEVBQUFHLE1BQUEsV0FHQUMsT0FBQUMsT0FBQUQsT0FBQUMsTUFBQUMsVUFDQUYsT0FBQUMsTUFBQUMsU0FBQUMsMEJBQUEsR0FFQUgsT0FBQUksV0FFQUEsVUFBQUMsZUFHQVAsRUFBQVEsUUFDQVQsRUFBQVUsY0FJQUMsUUFBQSxpQkFBQSxxQkFBQSx1QkFBQSxtQkFB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QUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxNQUFBLFNBQ0EsTUFBQSxTQUNBLE9BQUEsU0FDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxTQUNBLE1BQUEsUUFDQSxNQUFBLFFBQ0EsSUFBQSxTQUVBQyxZQUNBLEtBQUEsU0FDQSxNQUFBLFFBQ0EsTUFBQSxRQUNBLFNBQUEsUUFDQSxVQUFBLFNBRUFDLFVBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FDQSxLQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsUUFBQSxRQUNBLE1BQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxTQUVBQyxTQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLElBQUEsU0FFQUMsZUFDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE9BQUEsU0FFQUMsT0FDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxNQUFBLFFBQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxPQUFBLFNBQ0EsTUFBQSxTQUNBLEtBQUEsU0FDQSxNQUFBLFNBQ0EsT0FBQSxTQUNBLE1BQUEsU0FDQSxNQUFBLFNBRUFDLE9BQ0EsS0FBQSxRQUNBLE1BQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUVBQyxlQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsT0FBQSxRQUNBLEtBQUEsUUFDQSxXQUFBLFNBQ0EsS0FBQSxTQUNBLE9BQUEsUUFDQSxPQUFBLFFBQ0EsSUFBQSxTQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsTUFBQSxTQUVBQyxZQUNBLEtBQUEsUUFDQSxXQUFBLFNBQ0EsV0FBQSxTQUNBLE1BQUEsU0FDQSxNQUFBLFNBQ0EsT0FBQSxTQUNBLFFBQUEsU0FDQSxVQUFBLFNBRUFDLGNBQ0EsU0FBQSxTQUVBQyxZQUNBLEtBQUEsUUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLE9BQUEsU0FDQSxPQUFBLFNBQ0EsT0FBQSxTQUNBLE9BQUEsU0FDQSxVQUFBLFNBRUFDLGVBQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsS0FBQSxTQUNBLE1BQUEsU0FDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxLQUFBLFFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxLQUFBLFFBRUFDLE1BQ0EsS0FBQSxRQUNBLFFBQUEsUUFDQSxPQUFBLFFBQ0EsUUFBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsU0FFQUMsV0FDQSxLQUFBLFFBQ0EsSUFBQSxTQUNBLE9BQUEsU0FFQUMsVUFDQSxLQUFBLFFBQ0EsUUFBQSxRQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsTUFBQSxRQUNBLE1BQUEsUUFDQSxPQUFBLFVBS0FDLEVBQUEsU0FBQTNKLEdBRUEsSUFBQSxHQURBNEosTUFDQWxPLEVBQUEsRUFBQUEsRUFBQXNFLEVBQUE2SixLQUFBbE8sU0FBQUQsRUFDQWtPLEVBQUFFLEtBQUE5SixFQUFBNkosS0FBQUUsS0FBQXJPLEdBRUEsT0FBQWtPLEdBS0EsUUFDQUksY0FBQSxTQUFBQyxFQUFBakssR0FDQSxNQUFBeUYsR0FBQSxTQUFBRSxFQUFBQyxHQUNBMkMsRUFBQTJCLFlBQUEsU0FBQUMsR0FDQUEsRUFBQUMsV0FBQSxlQUFBSCxFQUFBLElBRUEsS0FBQSxHQUFBaFIsS0FBQStHLEdBQUEsQ0FHQSxJQUFBLEdBRkFxSyxHQUFBckssRUFBQS9HLEdBQ0FxUixLQUNBNU8sRUFBQSxFQUFBQSxFQUFBaU4sRUFBQXNCLEdBQUF0TyxTQUFBRCxFQUNBNE8sRUFBQVIsS0FBQU8sRUFBQTFCLEVBQUFzQixHQUFBdk8sR0FBQSxJQUVBLElBQUE2TyxJQUNBLGNBQ0FOLEVBQ0EsV0FDQSxLQUFBTyxPQUFBRixFQUFBM08sT0FBQSxHQUNBLEtBQUE4TyxLQUFBLElBRUFOLEdBQUFDLFdBQUFHLEVBQUFELEtBR0ExRSxFQUNBRCxNQUtBK0UsV0FBQSxTQUFBVCxHQUNBLE1BQUF4RSxHQUFBLFNBQUFFLEVBQUFDLEdBQ0EyQyxFQUFBMkIsWUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxXQUFBLGVBQUFILEVBQUEsTUFFQXJFLEVBQ0FELE1BUUFnRixNQUFBLFdBQ0EsTUFBQWxGLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTJDLEVBQUEyQixZQUNBLFNBQUFDLEdBQ0EsSUFBQSxHQUFBRixLQUFBdEIsR0FDQXdCLEVBQUFDLFdBQUEsd0JBQUFILEVBQUEsTUFHQXJFLEVBQ0FELEtBR0ExTCxLQUFBLFdBQ0FDLFFBQUFDLElBQUEseUJBUUF5USxLQUFBLFdBQ0EsTUFBQW5GLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTJDLEVBQUEyQixZQUFBLFNBQUFDLEdBQ0EsSUFBQSxHQUFBRixLQUFBdEIsR0FBQSxDQUNBLEdBQUE0QixJQUNBLDZCQUNBTixFQUNBLElBQ0EsSUFBQXRCLEVBQUFzQixHQUFBUSxLQUFBLFFBQUFJLE1BQUEsS0FBQUosS0FBQSxNQUFBSSxNQUFBLE9BQUFKLEtBQUEsTUFDQSxpQkFDQSxJQUFBOUIsRUFBQXNCLEdBQUEsR0FBQSxHQUFBLElBQ0EsT0FDQVEsS0FBQSxJQUNBTixHQUFBQyxXQUFBRyxLQUdBM0UsRUFDQUQsTUFXQTdLLFFBQUEsU0FBQTdCLEdBQ0EsTUFBQXdNLEdBQUEsU0FBQUUsR0FDQTJDLEVBQUF3QyxRQUFBdkMsR0FDQSxXQUNBLFlBQ0EsZ0JBQ0FrQyxLQUFBLE1BQUF4UixJQUNBZ0IsS0FBQSxTQUFBYyxHQUNBLEdBQUFnUSxHQUFBcEIsRUFBQTVPLEdBQUEsRUFFQWlJLEdBQUE0RSxXQUFBbUQsRUFBQXpQLE9BQ0FyQixLQUFBLFNBQUFtQixHQUNBMlAsRUFBQTNQLE9BQUFBLEVBQ0F1SyxFQUFBb0YsSUFDQSxXQUNBcEYsRUFBQW9GLFVBTUF2TixjQUFBLFNBQUF3TixHQUNBLE1BQUF2RixHQUFBLFNBQUFFLEVBQUFDLEdBQ0EwQyxFQUFBd0MsUUFBQXZDLEdBQ0EsV0FDQSxpQkFDQSx1Q0FDQSwyQkFDQWtDLEtBQUEsTUFBQU8sSUFDQS9RLEtBQUEsU0FBQStGLEdBQ0EyRixFQUFBZ0UsRUFBQTNKLEtBQ0E0RixNQVdBek0sT0FBQSxTQUFBOFIsRUFBQUMsR0FDQSxNQUFBekYsR0FBQSxTQUFBRSxFQUFBQyxHQUNBMEMsRUFBQXdDLFFBQUF2QyxHQUNBLFdBQ0EsWUFDQSxpQkFDQTJDLEVBQUEsYUFBQSxHQUNBLGNBQ0FULEtBQUEsS0FDQVMsR0FBQSxJQUFBRCxFQUFBLElBQUFDLElBQUEsSUFBQUQsRUFBQSxNQUNBaFIsS0FBQSxTQUFBK0YsR0FDQTJGLEVBQUFnRSxFQUFBM0osS0FDQTRGLE1BU0F1RixXQUFBLFNBQUFDLEdBQ0EsTUFBQTNGLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSw2QkFDQSxvQkFDQSx3QkFDQSxtQkFDQSxlQUNBLG9DQUNBLGVBQ0EsZUFDQWtDLEtBQUEsTUFDQVcsSUFDQW5SLEtBQUEsU0FBQStGLEdBQ0EyRixFQUFBZ0UsRUFBQTNKLEtBQ0E0RixNQVNBbEksa0JBQUEsU0FBQTJOLEdBQ0EsTUFBQTVGLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSw2QkFDQSxvQkFDQSx3QkFDQSxtQkFDQSxlQUNBLG9DQUNBLGVBQ0EsZUFDQWtDLEtBQUEsTUFDQVksSUFDQXBSLEtBQUEsU0FBQStGLEdBQ0EyRixFQUFBZ0UsRUFBQTNKLEtBQ0E0RixNQUlBdEYsWUFBQSxXQUNBLE1BQUFtRixHQUFBLFNBQUFFLEVBQUFDLEdBQ0EwQyxFQUFBd0MsUUFBQXZDLEdBQ0EsMkJBQ0EsY0FDQSxtQ0FDQSxxQkFDQWtDLEtBQUEsTUFDQXhRLEtBQUEsU0FBQStGLEdBQ0EyRixFQUFBZ0UsRUFBQTNKLEtBQ0E0RixNQUlBVCxnQkFBQSxXQUNBLE1BQUFNLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSx5QkFDQSxvQkFDQSx3QkFDQSxtQkFDQSxvQkFDQSxxREFDQSwwQ0FDQWtDLEtBQUEsTUFDQXhRLEtBQUEsU0FBQStGLEdBQ0EyRixFQUFBZ0UsRUFBQTNKLEtBQ0E0RixNQUlBbkYsVUFBQSxXQUNBLE1BQUFnRixHQUFBLFNBQUFFLEVBQUFDLEdBQ0EwQyxFQUFBd0MsUUFBQXZDLEdBQ0Esc0JBQ0FrQyxLQUFBLE1BQ0F4USxLQUFBLFNBQUErRixHQUNBMkYsRUFBQWdFLEVBQUEzSixLQUNBNEYsTUFJQXBGLFFBQUEsU0FBQXZILEdBQ0EsTUFBQXdNLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSxxQkFDQSxnQkFDQWtDLEtBQUEsTUFBQXhSLElBQ0FnQixLQUFBLFNBQUErRixHQUNBMkYsRUFBQWdFLEVBQUEzSixHQUFBLEtBQ0E0RixNQUlBbkIsY0FBQSxXQUNBLE1BQUFnQixHQUFBLFNBQUFFLEVBQUFDLEdBQ0EwQyxFQUFBd0MsUUFBQXZDLEdBQ0EsMkJBQ0FrQyxLQUFBLE1BQ0F4USxLQUFBLFNBQUErRixHQUNBMkYsRUFBQWdFLEVBQUEzSixLQUNBNEYsTUFHQXBCLGFBQUEsU0FBQXZMLEdBQ0EsTUFBQXdNLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSwwQkFDQSxnQkFDQWtDLEtBQUEsTUFBQXhSLElBQ0FnQixLQUFBLFNBQUErRixHQUNBMkYsRUFBQWdFLEVBQUEzSixHQUFBLEtBQ0E0RixNQUdBdkssZ0JBQUEsU0FBQXBDLEdBQ0EsTUFBQXdNLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSw2QkFDQSxnQkFDQWtDLEtBQUEsTUFBQXhSLElBQ0FnQixLQUFBLFNBQUErRixHQUNBMkYsRUFBQWdFLEVBQUEzSixHQUFBLEtBQ0E0RixNQUdBakIsWUFBQSxXQUNBLE1BQUFjLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSxXQUNBLGtCQUNBa0MsS0FBQSxNQUNBeFEsS0FBQSxTQUFBMkssR0FDQWUsRUFBQWdFLEVBQUEvRSxHQUFBLEtBQ0FnQixNQUdBZixlQUFBLFdBQ0EsTUFBQVksR0FBQSxTQUFBRSxFQUFBQyxHQUNBMEMsRUFBQXdDLFFBQUF2QyxHQUNBLFdBQ0Esb0JBQ0FrQyxLQUFBLE1BQ0F4USxLQUFBLFNBQUErRixHQUNBMkYsRUFBQWdFLEVBQUEzSixLQUNBNEYsTUFJQTNKLFFBQUEsU0FBQWhELEdBQ0EsTUFBQXdNLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSxXQUNBLFdBQ0EsbUJBQ0FrQyxLQUFBLE1BQUF4UixJQUNBZ0IsS0FBQSxTQUFBK0YsR0FDQTJGLEVBQUFnRSxFQUFBM0osS0FDQTRGLE1BSUFwSyxZQUFBLFdBQ0EsTUFBQWlLLEdBQUEsU0FBQUUsRUFBQUMsR0FDQTBDLEVBQUF3QyxRQUFBdkMsR0FDQSxXQUNBLGlCQUNBa0MsS0FBQSxNQUNBeFEsS0FBQSxTQUFBK0YsR0FDQTJGLEVBQUFnRSxFQUFBM0osS0FDQTRGLE1BSUFoSixZQUFBLFNBQUEzRCxHQUNBLE1BQUF3TSxHQUFBLFNBQUFFLEVBQUFDLEdBQ0EwQyxFQUFBd0MsUUFBQXZDLEdBQ0EsV0FDQSxlQUNBLG1CQUNBa0MsS0FBQSxNQUFBeFIsSUFDQWdCLEtBQUEsU0FBQStGLEdBQ0EyRixFQUFBZ0UsRUFBQTNKLEtBQ0E0RixZQU1BN08sT0FBQVQsU0N4aEJBQSxRQUFBQyxPQUFBLHFCQUNBK04sT0FBQSxRQUFBLFdBQ0EsTUFBQSxVQUFBcEIsR0FDQSxNQUFBQSxHQUFBb0ksUUFBQSxjQUFBLFdBR0FoSCxPQUFBLFFBQUEsV0FDQSxNQUFBLFVBQUFwQixHQUNBLE1BQUFBLEdBQUFvSSxRQUFBLG1CQUFBLE9BR0FoSCxPQUFBLGNBQUEsV0FDQSxNQUFBLFVBQUFwQixHQU1BLE1BTEFBLEdBQUFBLEVBQUFvSSxRQUFBLGlCQUFBLElBQ0FwSSxFQUFBQSxFQUFBb0ksUUFBQSxjQUFBLElBQ0FwSSxFQUFBQSxFQUFBb0ksUUFBQSxjQUFBLElBQ0FwSSxFQUFBQSxFQUFBb0ksUUFBQSxvQkFBQSxTQUNBcEksRUFBQUEsRUFBQW9JLFFBQUEsZUFBQSxPQ2pCQSxTQUFBaFYsR0FDQSxZQUVBQSxHQUFBQyxPQUFBLGlCQUFBLGFBQUEsWUFBQSxpQkFDQTZPLFNBQUEsU0FBQSxXQUdBQyxLQUFBRSxNQUNBLE1BQ0EsS0FDQSxlQUNBLEtBQ0EsZ0JBQ0EsY0FDQSxTQUFBdkMsRUFBQTFJLEVBQUE5QixFQUFBaU4sRUFBQWpFLEVBQUFaLEdBRUEsR0FBQTJLLEdBQUEsY0FFQUMsRUFBQSxXQUNBLE1BQUEvRixHQUFBZ0csS0FDQXpJLEVBQUFzRSxZQUNBck4sS0FBQSxTQUFBK0YsR0FDQSxHQUFBMEwsS0FDQSxLQUFBLEdBQUE1RixLQUFBOUYsR0FBQSxDQUNBLEdBQUF2QyxHQUFBdUMsRUFBQThGLEdBQUExTSxJQUNBLEtBQUEsR0FBQXVTLEtBQUFsTyxHQUNBaU8sRUFBQTVCLE1BQ0FqTyxHQUFBaUssRUFBQSxJQUFBNkYsRUFDQUMsSUFBQUQsRUFDQVgsSUFBQWxGLEVBQ0ErRixPQUFBcE8sRUFBQWtPLEdBQUEsR0FDQUcsUUFBQXJPLEVBQUFrTyxHQUFBLEtBSUEsTUFBQWxHLEdBQUFnRyxLQUNBblIsRUFBQTBQLGNBQUEsT0FBQWhLLEdBQ0ExRixFQUFBMFAsY0FBQSxZQUFBMEIsS0FFQXpSLEtBQUEsV0FDQUMsUUFBQUMsSUFBQSxtQkFDQSxTQUFBdUMsR0FFQSxNQURBeEMsU0FBQUMsSUFBQXVDLEdBQ0ErSSxFQUFBRyxPQUFBbEosT0FHQXNHLEVBQUF5RSxlQUNBeE4sS0FBQSxTQUFBK0YsR0FDQSxNQUFBMUYsR0FBQTBQLGNBQUEsVUFBQWhLLEdBQ0EvRixLQUFBLFdBQ0FDLFFBQUFDLElBQUEsc0JBQ0EsU0FBQXVDLEdBRUEsTUFEQXhDLFNBQUFDLElBQUF1QyxHQUNBK0ksRUFBQUcsT0FBQWxKLE9BR0FzRyxFQUFBMEQsZUFDQXpNLEtBQUEsU0FBQStGLEdBQ0EsTUFBQTFGLEdBQUEwUCxjQUFBLFNBQUFoSyxHQUNBL0YsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLHFCQUNBLFNBQUF1QyxHQUVBLE1BREF4QyxTQUFBQyxJQUFBdUMsR0FDQStJLEVBQUFHLE9BQUFsSixPQUdBc0csRUFBQXdELHFCQUNBdk0sS0FBQSxTQUFBK0YsR0FDQSxNQUFBMUYsR0FBQTBQLGNBQUEsZUFBQWhLLEdBQ0EvRixLQUFBLFdBQ0FDLFFBQUFDLElBQUEsMkJBQ0EsU0FBQXVDLEdBRUEsTUFEQXhDLFNBQUFDLElBQUF1QyxHQUNBK0ksRUFBQUcsT0FBQWxKLE9BR0FzRyxFQUFBaUUsYUFDQWhOLEtBQUEsU0FBQStGLEdBQ0EsTUFBQTFGLEdBQUEwUCxjQUFBLE9BQUFoSyxHQUNBL0YsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLG1CQUNBLFNBQUF1QyxHQUVBLE1BREF4QyxTQUFBQyxJQUFBdUMsR0FDQStJLEVBQUFHLE9BQUFsSixPQUdBc0csRUFBQTBFLFlBQ0F6TixLQUFBLFNBQUErRixHQUNBLE1BQUExRixHQUFBMFAsY0FBQSxPQUFBaEssR0FDQS9GLEtBQUEsV0FDQUMsUUFBQUMsSUFBQSxtQkFDQSxTQUFBdUMsR0FFQSxNQURBeEMsU0FBQUMsSUFBQXVDLEdBQ0ErSSxFQUFBRyxPQUFBbEosT0FHQXNHLEVBQUFrRSxpQkFDQWpOLEtBQUEsU0FBQStGLEdBQ0EsTUFBQTFGLEdBQUEwUCxjQUFBLFlBQUFoSyxHQUNBL0YsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLHdCQUNBLFNBQUF1QyxHQUVBLE1BREF4QyxTQUFBQyxJQUFBdUMsR0FDQStJLEVBQUFHLE9BQUFsSixPQUdBc0csRUFBQW9FLG9CQUNBbk4sS0FBQSxTQUFBK0YsR0FDQSxNQUFBMUYsR0FBQTBQLGNBQUEsZUFBQWhLLEdBQ0EvRixLQUFBLFdBQ0FDLFFBQUFDLElBQUEsMkJBQ0EsU0FBQXVDLEdBRUEsTUFEQXhDLFNBQUFDLElBQUF1QyxHQUNBK0ksRUFBQUcsT0FBQWxKLE9BR0FzRyxFQUFBNkUsZUFDQTVOLEtBQUEsU0FBQStGLEdBQ0EsTUFBQTFGLEdBQUEwUCxjQUFBLE1BQUFoSyxHQUNBL0YsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLGtCQUNBLFNBQUF1QyxHQUVBLE1BREF4QyxTQUFBQyxJQUFBdUMsR0FDQStJLEVBQUFHLE9BQUFsSixPQUdBc0csRUFBQThFLG9CQUNBN04sS0FBQSxTQUFBK0YsR0FDQSxNQUFBMUYsR0FBQTBQLGNBQUEsV0FBQWhLLEdBQ0EvRixLQUFBLFdBQ0FDLFFBQUFDLElBQUEsdUJBQ0EsU0FBQXVDLEdBRUEsTUFEQXhDLFNBQUFDLElBQUF1QyxHQUNBK0ksRUFBQUcsT0FBQWxKLE9BR0FzRyxFQUFBK0UsbUJBQ0E5TixLQUFBLFNBQUErRixHQUNBLE1BQUExRixHQUFBMFAsY0FBQSxVQUFBaEssR0FDQS9GLEtBQUEsV0FDQUMsUUFBQUMsSUFBQSxzQkFDQSxTQUFBdUMsR0FFQSxNQURBeEMsU0FBQUMsSUFBQXVDLEdBQ0ErSSxFQUFBRyxPQUFBbEosVUFNQXFQLEVBQUEsV0FDQSxNQUFBdEcsR0FBQWdHLEtBQ0F6SSxFQUFBZ0UsZ0JBQ0EvTSxLQUFBLFNBQUErRixHQUVBLE1BREE5RixTQUFBQyxJQUFBNkYsR0FDQTFGLEVBQUEwUCxjQUFBLGVBQUFoSyxHQUNBL0YsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLDJCQUNBLFNBQUF1QyxHQUVBLE1BREF4QyxTQUFBQyxJQUFBdUMsR0FDQStJLEVBQUFHLE9BQUFsSixPQUdBc0csRUFBQTZELFlBQ0E1TSxLQUFBLFNBQUErRixHQUdBLElBQUEsR0FGQThFLEdBQUE5RSxFQUFBOEUsUUFDQWtILEtBQ0F0USxFQUFBLEVBQUFBLEVBQUFvSixFQUFBbkosU0FBQUQsRUFDQXNRLEVBQUFsQyxNQUFBbUMsT0FBQW5ILEVBQUFwSixJQUVBLE9BQUErSixHQUFBZ0csS0FDQW5SLEVBQUEwUCxjQUFBLGFBQUFoSyxJQUNBL0YsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLHdCQUNBLFNBQUF1QyxHQUdBLE1BRkF4QyxTQUFBQyxJQUFBNkYsR0FDQTlGLFFBQUFDLElBQUF1QyxHQUNBK0ksRUFBQUcsT0FBQWxKLEtBRUFwQyxFQUFBMFAsY0FBQSxjQUFBZ0MsR0FDQS9SLEtBQUEsV0FDQUMsUUFBQUMsSUFBQSwyQkFDQSxTQUFBdUMsR0FFQSxNQURBeEMsU0FBQUMsSUFBQXVDLEdBQ0ErSSxFQUFBRyxPQUFBbEosWUFPQXdQLEVBQUEsV0FDQSxNQUFBekcsR0FBQWdHLEtBQ0FuUixFQUFBb1EsV0FBQSxnQkFDQXBRLEVBQUFvUSxXQUFBLGVBQ0FwUSxFQUFBb1EsV0FBQSxlQUVBelEsS0FBQSxXQUNBQyxRQUFBQyxJQUFBLG9DQUNBLFNBQUF1QyxHQUNBeEMsUUFBQUMsSUFBQSw0Q0FBQXVDLE1BS0F5UCxFQUFBLFNBQUFDLEdBQ0E1SyxFQUFBakQsTUFFQSxJQUFBOE4sR0FBQW5ILEtBQUFELE1BRUFxSCxFQUFBLENBQ0FGLEtBQ0FFLEVBQUE5VCxFQUFBc0YsSUFBQXlOLEdBR0EsSUFBQWdCLEdBQUEsTUFDQUYsR0FBQUMsRUFBQUMsR0FDQWpTLEVBQUFzUSxPQUNBM1EsS0FBQSxXQUVBLE1BREFDLFNBQUFDLElBQUEseUJBQ0F5RyxFQUFBMEYsTUFDQWIsRUFBQWdHLEtBQ0FNLElBQ0FQLE1BR0FBLE1BSUF2UixLQUFBLFdBQ0FDLFFBQUFDLElBQUEsNEJBQ0EzQixFQUFBc0ksSUFBQXlLLEVBQUFjLEdBQ0E3SyxFQUFBL0MsUUFDQSxTQUFBL0IsR0FDQSxNQUFBLEtBQUFBLEVBQUFrSCxZQU9BMUosUUFBQXNTLEtBQUEsa0RBQUE5UCxHQUVBcEMsRUFBQXFRLFFBQ0ExUSxLQUFBLFdBQ0EsTUFBQUssR0FBQXNRLFNBR0EzUSxLQUFBLFdBQ0EsTUFBQXVSLE9BR0F2UixLQUFBLFdBQ0FDLFFBQUFDLElBQUEsNEJBQ0EzQixFQUFBc0ksSUFBQXlLLEVBQUFjLEdBQ0E3SyxFQUFBL0MsUUFDQSxTQUFBL0IsR0FDQXhDLFFBQUFDLElBQUEsMEJBQUF1QyxHQUNBOEUsRUFBQS9DLFdBckJBeU4sSUFDQWxKLEVBQUFKLGNBQ0FwQixFQUFBL0MsT0FGQXlOLFVBeUJBbEosRUFBQWlGLHVCQUNBaE8sS0FBQSxTQUFBK0YsR0FDQXhILEVBQUFzSSxJQUFBLE1BQUFkLEtBRUFnRCxFQUFBb0YsZ0JBQ0FuTyxLQUFBLFNBQUF3UyxHQUNBalUsRUFBQXNJLElBQUEsWUFBQTJMLEtBRUF6SixFQUFBa0YsbUJBQ0FqTyxLQUFBLFNBQUErRixHQUNBeEgsRUFBQXNJLElBQUEsY0FBQWQsTUFHQVksRUFBQTBGLE1BQ0FoTSxFQUFBc1EsT0FDQTNRLEtBQUEsV0FDQUMsUUFBQUMsSUFBQSx5QkFDQXlHLEVBQUEwRixPQUNBeUYsSUFDQTlSLEtBQUEsV0FDQXVILEVBQUEvQyxRQUNBLFdBQ0ErQyxFQUFBL0MsU0FHQStDLEVBQUEvQyxVQUdBdkUsUUFBQUMsSUFBQSxhQUNBcUgsRUFBQS9DLFFBSUEsUUFDQW5ILE9BQUEsV0FDQTZVLEtBR0FwSixhQUFBLFdBQ0FvSixHQUFBLElBR0F2SixZQUFBLFdBQ0FzSixJQUNBbEosRUFBQUosZUFFQWpCLFdBQUEsU0FBQUMsRUFBQUUsR0FDQSxNQUFBa0IsR0FBQXJCLFdBQUFDLEVBQUFFLEdBQ0E3SCxLQUFBLFdBQ0FrUyxPQUdBTyxZQUFBLFdBQ0EsTUFBQWxVLEdBQUFzRixJQUFBeU4sVUFLQXhVLE9BQUFULFNDaFVBQSxRQUFBQyxPQUFBLG1CQUVBb1csUUFBQSxnQkFBQSxVQUFBLFNBQUFDLEdBQ0EsT0FDQTlMLElBQUEsU0FBQWdGLEVBQUF4RSxHQUNBc0wsRUFBQXBVLGFBQUFxVSxRQUFBL0csRUFBQXhFLElBRUF4RCxJQUFBLFNBQUFnSSxHQUNBLE1BQUE4RyxHQUFBcFUsYUFBQUMsUUFBQXFOLElBRUEvRyxPQUFBLFNBQUErRyxHQUNBOEcsRUFBQXBVLGFBQUFzVSxXQUFBaEgsUUFJQWlILFFBQUEsZUFBQSxlQUFBLFNBQUF2VSxHQUNBNk0sS0FBQWlCLE1BQUE5TixFQUFBc0YsSUFBQSxXQUVBdUgsS0FBQXlCLFNBQUEsU0FBQXJLLEdBQ0FqRSxFQUFBc0ksSUFBQSxVQUFBckUsR0FDQTRJLEtBQUFpQixNQUFBN0osRUFDQXZDLFFBQUFDLElBQUEsY0FFQWtMLEtBQUEwQixZQUFBLFdBQ0F2TyxFQUFBdUcsT0FBQSxXQUNBc0csS0FBQWlCLE1BQUEsS0FDQXBNLFFBQUFDLElBQUEsbUJDMUJBN0QsUUFBQUMsT0FBQSxtQkFDQXlXLFVBQUEsZ0JBQUEsY0FBQSxjQUFBLFNBQUFDLEVBQUFDLEdBQ0EsWUFDQSxRQUNBQyxTQUFBLElBQ0FDLEtBQUEsU0FBQW5QLEVBQUFzRyxFQUFBOEksR0FDQTlJLEVBQUErSSxHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsaUJBQ0FOLEVBQUFPLFFBQ0FDLE1BQUEscUJBQ0FDLFVBQUEsU0FDQTFULEtBQUEsU0FBQW1GLEdBQ0EsR0FBQTVDLEdBQUEsU0FBQTZRLEVBQUFPLGFBQUEsSUFBQXhPLENBQ0E2TixHQUFBWSxLQUFBLFFBQUFyUixFQUFBLFNBQUEsV0FDQXRDLFFBQUFDLElBQUEsYUFDQSxTQUFBdUMsR0FDQXhDLFFBQUFDLElBQUF1QyxjQ2hCQXBHLFFBQUFDLE9BQUEscUJBQ0F5VyxVQUFBLGNBQUEsV0FDQSxPQUNBRyxTQUFBLElBQ0FXLFlBQUEsRUFFQTdQLE9BQ0FtQixLQUFBLElBQ0FuRyxHQUFBLElBQ0E4VSxNQUFBLElBQ0FDLFlBQUEsSUFDQXBTLEtBQUEsSUFDQXFTLFVBQUEsSUFDQUMsUUFBQSxNQUdBcFYsWUFBQSwyQ0FDQUMsV0FBQSxTQUFBWSxHQUNBQSxFQUFBVixHQUFBVSxFQUFBVixJQUFBVSxFQUFBeUYsS0FDQXpGLEVBQUFpQyxLQUFBakMsRUFBQWlDLE1BQUEsV0NuQkF0RixRQUFBQyxPQUFBLG9CQUNBeVcsVUFBQSxpQkFBQSx1QkFBQSxTQUFBbUIsR0FDQSxZQUNBLFFBQ0FoQixTQUFBLElBQ0FDLEtBQUEsU0FBQW5QLEVBQUFzRyxHQUNBQSxFQUFBK0ksR0FBQSxRQUFBLFNBQUFDLEdBQ0FZLEVBQUFDLEtBQUE3SixFQUFBLEdBQUE4SixLQUFBLFdBQ0FkLEVBQUFDLHdCQUtBUixVQUFBLHVCQUFBLHVCQUFBLFNBQUFtQixHQUNBLFlBQ0EsUUFDQWhCLFNBQUEsSUFDQUMsS0FBQSxTQUFBblAsRUFBQXNHLEdBQ0FBLEVBQUErSSxHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQWUsT0FBQUQsTUFBQWQsRUFBQWUsT0FBQUMsT0FBQXhYLE9BQUF5WCxTQUFBRCxPQUNBSixFQUFBQyxLQUFBYixFQUFBZSxPQUFBRCxLQUFBLFdBQ0FkLEVBQUFDIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhbmd1bGFyLm1vZHVsZSBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXIgbW9kdWxlc1xuLy8gJ2lmaXNrZScgaXMgdGhlIG5hbWUgb2YgdGhpcyBhbmd1bGFyIG1vZHVsZSBleGFtcGxlIChhbHNvIHNldCBpbiBhIDxib2R5PiBhdHRyaWJ1dGUgaW4gaW5kZXguaHRtbClcbi8vIHRoZSAybmQgcGFyYW1ldGVyIGlzIGFuIGFycmF5IG9mICdyZXF1aXJlcydcbi8vICdpZmlza2UuY29udHJvbGxlcnMnIGlzIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdpZmlza2UnLCBbXG4gICAgJ2lvbmljJyxcbiAgICAnaWZpc2tlLmNvbnRyb2xsZXJzJyxcbiAgICAnaWZpc2tlLmRpcmVjdGl2ZXMnLFxuICAgICdpZmlza2UuYXBpJyxcbiAgICAnaWZpc2tlLmRiJyxcbiAgICAnaWZpc2tlLnV0aWxzJyxcbiAgICAnaWZpc2tlLnVwZGF0ZScsXG4gICAgJ2lmaXNrZS5maWx0ZXJzJyxcbiAgICAnaW9uaWMuaW9uLmhlYWRlclNocmluaycsXG4gICAgJ25nQ29yZG92YScsXG4gICAgJ3N5c3RlbUJyb3dzZXInLFxuICAgICduZ0NvcmRvdmFTbXMnLFxuICAgICduZ01lc3NhZ2VzJyxcbiAgICAnSW1nQ2FjaGUnLFxuICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgJ3RhYlNsaWRlQm94J1xuXSlcbi5jb25zdGFudCgnJGlvbmljTG9hZGluZ0NvbmZpZycsIHtcbiAgICB0ZW1wbGF0ZTogJzxpb24tc3Bpbm5lcj48L2lvbi1zcGlubmVyPidcbiAgICAvLyBoaWRlT25TdGF0ZUNoYW5nZTogdHJ1ZVxufSlcbi5ydW4oWyckaW9uaWNQbGF0Zm9ybScsICdVcGRhdGUnLCAnSW1nQ2FjaGUnLCBmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlLCBJbWdDYWNoZSkge1xuICAgICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBIaWRlIHRoZSBhY2Nlc3NvcnkgYmFyIGJ5IGRlZmF1bHQgKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkXG4gICAgICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICAgICAgaWYod2luZG93LmlvbmljICYmIHdpbmRvdy5pb25pYy5LZXlib2FyZCkge1xuICAgICAgICAgICAgd2luZG93LmlvbmljLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZih3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAgICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICAgICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBJbWdDYWNoZS4kaW5pdCgpO1xuICAgICAgICBVcGRhdGUudXBkYXRlKCk7XG4gICAgfSk7XG59XSlcblxuLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckaW9uaWNDb25maWdQcm92aWRlcicsICdJbWdDYWNoZVByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIEltZ0NhY2hlUHJvdmlkZXIpIHtcblxuICAgIEltZ0NhY2hlUHJvdmlkZXIuc2V0T3B0aW9ucyh7XG4gICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICB1c2VQZXJzaXN0ZW50Q2FjaGU6IHRydWVcbiAgICB9KTtcbiAgICBJbWdDYWNoZVByb3ZpZGVyLm1hbnVhbEluaXQgPSB0cnVlO1xuXG5cblxuICAgIC8vIENhY2hlIHZpZXdzIGluIHRoZSBmb3J3YXJkIHN0YWNrXG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIudmlld3MuZm9yd2FyZENhY2hlKHRydWUpO1xuXG4gICAgLy8gQ2xlYXIgYmFjayBidXR0b24gZGVmYXVsdCB0ZXh0XG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIuYmFja0J1dHRvbi5wcmV2aW91c1RpdGxlVGV4dChmYWxzZSkudGV4dCgnJyk7XG5cbiAgICAvLyBUYWJzIHBvc2l0aW9uXG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIudGFicy5wb3NpdGlvbignYm90dG9tJyk7XG5cbiAgICAvKipcbiAgICAgKiBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIuIExlYXJuIG1vcmUgaGVyZTpcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXJcbiAgICAgKi9cblxuICAgIHZhciBkZWZhdWx0VXJsID0gJy9zdGFydC9sb2dpbic7XG4gICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpKSB7XG4gICAgICAgIGRlZmF1bHRVcmwgPSAnL21lbnUvaG9tZSc7XG4gICAgfVxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoZGVmYXVsdFVybCk7XG5cblxuXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAvLyBBYnN0cmFjdCBwcmUtbWVudSBzdGF0ZS4gTmVlZGVkIGZvciBuYXZpZ2F0aW9uIGJldHdlZW4gbG9naW4gYW5kIHJlZ2lzdGVyIHZpZXdzLlxuICAgIC5zdGF0ZSgnc3RhcnQnLCB7XG4gICAgICAgIHVybDogJy9zdGFydCcsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3RhcnQvc3RhcnQuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQubG9naW4nLCB7XG4gICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sb2dpbi9sb2dpbi5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQucmVnaXN0ZXInLCB7XG4gICAgICAgIHVybDogJy9yZWdpc3RlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1JlZ2lzdGVyQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQucmVnaXN0ZXIuZGV0YWlscycsIHtcbiAgICAgICAgdXJsOiAnL2RldGFpbHMnLFxuXHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfZGV0YWlscy5odG1sJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdzdGFydC5yZWdpc3Rlci52ZXJpZnknLCB7XG4gICAgICAgIHVybDogJy92ZXJpZnknLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfdmVyaWZ5Lmh0bWwnXG4gICAgfSlcblxuICAgIC8vIEFic3RyYWN0IG1lbnUgc3RhdGUuIFwiUm9vdFwiIHN0YXRlIG9uY2Ugd2UncmUgcGFzdCB0aGUgbG9naW4gc3RhdGUuXG4gICAgLnN0YXRlKCdtZW51Jywge1xuICAgICAgICB1cmw6ICcvbWVudScsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWVudS9tZW51Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTWVudUN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuaG9tZScsIHtcbiAgICAgICAgdXJsOiAnL2hvbWUnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaG9tZS9ob21lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnSG9tZUN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuaW5mbycsIHtcbiAgICAgICAgdXJsOiAnL2luZm8nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaW5mby9pbmZvLmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuYnVncycsIHtcbiAgICAgICAgdXJsOiAnL2luZm8nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWVudS9yZXBvcnQuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5jb250YWN0Jywge1xuICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9jb250YWN0L2NvbnRhY3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb250YWN0Q3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5sZWdhbCcsIHtcbiAgICAgICAgdXJsOiAnL2xlZ2FsJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xlZ2FsL2xlZ2FsLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTGVnYWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmFib3V0Jywge1xuICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYWJvdXQvYWJvdXQuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBYm91dEN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUudXNlcmluZm8nLCB7XG4gICAgICAgIHVybDogJy91c2VyaW5mbycsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyL3VzZXIuaHRtbCcsXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuY291bnRpZXMnLCB7XG4gICAgICAgIHVybDogJy9jb3VudGllcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9jb3VudGllcy9jb3VudGllcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0NvdW50aWVzQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5hcmVhcycsIHtcbiAgICAgICAgdXJsOiAnL2FyZWFzJyxcbiAgICAgICAgcGFyYW1zOiB7J2lkJzogZmFsc2UsICdjb3VudHknOiBmYWxzZSwgJ3NlYXJjaCc6ICcnfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWFfbGlzdC9hcmVhX2xpc3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBcmVhc0N0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuY2FyZHMnLCB7XG4gICAgICAgIHVybDogJy9jYXJkcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyX2NhcmRzL3VzZXJfY2FyZHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ2FyZHNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmZhdm9yaXRlcycsIHtcbiAgICAgICAgdXJsOiAnL2Zhdm9yaXRlcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9mYXZvcml0ZXMvZmF2b3JpdGVzLmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuZmlzaGVzJywge1xuICAgICAgICB1cmw6ICcvZmlzaGVzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hlcy9maXNoZXMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdGaXNoZXNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmZpc2hkZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9maXNoZGV0YWlsLzppZCcsXG4gICAgICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAnZmlzaCc6IGZhbHNlfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnRmlzaERldGFpbEN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUubWFwJywge1xuICAgICAgICB1cmw6ICcvbWFwJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21hcC9tYXAuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdNYXBDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnRlY2huaXF1ZXMnLCB7XG4gICAgICAgIHVybDogJy90ZWNobmlxdWVzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZXMvdGVjaG5pcXVlcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlY2huaXF1ZXNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnRlY2huaXF1ZWRldGFpbCcsIHtcbiAgICAgICAgdXJsOiAnL3RlY2huaXF1ZWRldGFpbC86aWQnLFxuICAgICAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ3RlY2gnOiBmYWxzZX0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWwuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVEZXRhaWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnJlcG9ydCcsIHtcbiAgICAgICAgdXJsOiAnL3JlcG9ydCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZXBvcnQvcmVwb3J0Lmh0bWwnXG4gICAgfSlcblxuICAgIC5zdGF0ZSgnbWVudS5hcmVhJywge1xuICAgICAgICB1cmw6ICcvYXJlYS86aWQnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgJ0BtZW51Jzoge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2FyZWEuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FyZWFDdHJsJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnaW5mb0BtZW51LmFyZWEnOiB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvaW5mby5odG1sJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdtYXBAbWVudS5hcmVhJzoge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL21hcC5odG1sJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdmaXNoaW5mb0BtZW51LmFyZWEnOiB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvZmlzaC5odG1sJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdjYXJkc0BtZW51LmFyZWEnOiB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWEvY2FyZHMuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJywgW10pO1xuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kaXJlY3RpdmVzJywgW10pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIFsnJHNjb3BlJywnJGNvcmRvdmFBcHBWZXJzaW9uJywgJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJGNvcmRvdmFBcHBWZXJzaW9uLCAkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlKSB7XG5cdCRzY29wZS52ZXJzaW9uID0gJHNjb3BlLmRiRGF0ZSA9ICdPa8OkbnQnO1xuICAgICRzY29wZS51cGRhdGUgPSBVcGRhdGU7XG5cblx0JGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAod2luZG93LmNvcmRvdmEpIHtcblx0XHQkY29yZG92YUFwcFZlcnNpb24uZ2V0QXBwVmVyc2lvbigpLnRoZW4oZnVuY3Rpb24odmVyc2lvbikge1xuXHRcdCAgICBjb25zb2xlLmxvZygnaUZpc2tlIHZlcnNpb246JywgdmVyc2lvbik7XG5cdFx0ICAgICRzY29wZS52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHR9KTtcblx0ICAgIH1cblx0fSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBcmVhQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJGlvbmljSGlzdG9yeScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgJyRzdGF0ZVBhcmFtcycsXG4gICAgJ0RCJyxcbiAgICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICAgJyRpb25pY01vZGFsJyxcblxuICAgICckc3RhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGlvbmljSGlzdG9yeSwgbG9jYWxTdG9yYWdlLCAgJHN0YXRlUGFyYW1zLCBEQiwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSwgJGlvbmljTW9kYWwsICRzdGF0ZSkge1xuXG4gICAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgICAgICBjZW50ZXI6IHt9XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5iZWZvcmVFbnRlcicsIGZ1bmN0aW9uKGUpe1xuXG4gICAgICAgICAgICB2YXIgaWNvbnMgPSB7fTtcbiAgICAgICAgICAgIC8vIEFyZWFpbmZvXG4gICAgICAgICAgICBEQi5nZXRBcmVhKCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGFyZWEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBhcmVhLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBhcmVhLmxuZyxcbiAgICAgICAgICAgICAgICAgICAgem9vbTogTnVtYmVyKGFyZWEuem9vbSkgPyBOdW1iZXIoYXJlYS56b29tKSA6IDlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZXMgPSBhcmVhLmltYWdlcztcblxuICAgICAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFyZWEgPSBhcmVhO1xuXG4gICAgICAgICAgICAgICAgREIuZ2V0T3JnYW5pemF0aW9uKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob3JnKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmcgPSBvcmc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgREIuZ2V0UG9pVHlwZXMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvaV90eXBlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcG9pX3R5cGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHBvaV90eXBlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25zW3R5cGUuSURdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdodHRwOi8vd3d3LmlmaXNrZS5zZS8nK3R5cGUuaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiAgIFsxNiwgMzddIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBEQi5nZXRQb2lzKGFyZWEub3JnaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAubWFya2VycyA9IHBvaXMubWFwKGZ1bmN0aW9uKHBvaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAncG9pcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9pLmxhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHBvaS5sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnNbcG9pLnR5cGVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwb2kudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBEQi5nZXRQb2x5Z29ucyhhcmVhLm9yZ2lkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb2x5Z29ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5wYXRocyA9IHBvbHlnb25zLm1hcChmdW5jdGlvbihwb2x5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG5nczogSlNPTi5wYXJzZSgnWycgKyBwb2x5LnBvbHkgKyAnXScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcG9seS5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBwb2x5LmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5Z29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIERCLmdldEFyZWFGaXNoZXMoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZmlzaGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmlzaGVzKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlzaGVzID0gZmlzaGVzO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBEQi5nZXRQcm9kdWN0c0J5QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwcm9kdWN0cykge1xuICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0cyA9IHByb2R1Y3RzO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBcmVhIGZpc2hlc1xuICAgICAgICAkc2NvcGUuc29ydG9yZGVyID0gJy1hbW91bnQnO1xuXG4gICAgICAgIC8vQXJlYV9DYXJkc1xuICAgICAgICAkc2NvcGUuc21zdGVybXMgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzbXNfdGVybXMnKTtcbiAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9IFwic29cIjtcblxuXG4gICAgICAgIC8vU01TLW1vZGFsXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhL3Ntc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsID0gbW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUub3Blbk1vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZU1vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnNob3dUZXJtcyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgJHNjb3BlLnNob3dpbmd0ZXJtcyA9ICEkc2NvcGUuc2hvd2luZ3Rlcm1zO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gZmFsc2U7XG5cbiAgICAgICAgLy9SdWxlcyBtb2RhbFxuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2NvbXBvbmVudHMvYXJlYS9ydWxlc19tb2RhbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZVJ1bGVzTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vTWFwXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZS5tYXAsIHtcbiAgICAgICAgICAgIGxheWVyczoge1xuICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFwYm94OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTWFwYm94JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd4eXonLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3ttYXB0eXBlfS97en0ve3h9L3t5fUAyeC5wbmc/YWNjZXNzX3Rva2VuPXthcGlrZXl9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHR5cGU6ICdtYXBib3gub3V0ZG9vcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaWtleTogJ3BrLmV5SjFJam9pYldGcGMzUm9ieUlzSW1FaU9pSTNVbXM1UjBJd0luMC5ET2hVODFjbEhMRWhUajgxRElPamRnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdmVybGF5czoge1xuICAgICAgICAgICAgICAgICAgICBwb2lzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU3TDpGxsZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21hcmtlcmNsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiA5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYXNDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJyRpb25pY1Njcm9sbERlbGVnYXRlJyAsJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRpb25pY1Njcm9sbERlbGVnYXRlICxEQikge1xuXG4gICAgdmFyIGNvcHkgPSAkc3RhdGVQYXJhbXMuc2VhcmNoO1xuICAgICRzY29wZS5zZWFyY2ggPSBjb3B5O1xuICAgICRzY29wZS5jb3VudHkgPSAkc3RhdGVQYXJhbXMuY291bnR5O1xuICAgIERCLnNlYXJjaCgnJywgJHN0YXRlUGFyYW1zLmlkKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5hcmVhcyA9IGRhdGE7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gICAgJHNjb3BlLmNsZWFyU2VhcmNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5zZWFyY2ggPSAnJztcbiAgICB9O1xuICAgICRzY29wZS5zY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUuc2Nyb2xsVG9wKCk7XG4gICAgfTtcblxufV0pO1xuXG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDb250YWN0Q3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgbG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICRzY29wZS5jb250YWN0SW5mbyA9IGxvY2FsU3RvcmFnZS5nZXQoJ2NvbnRhY3RJbmZvJyk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDb3VudGllc0N0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICBEQi5nZXRDb3VudGllcygpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAkc2NvcGUuY291bnRpZXMgPSBkYXRhO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignRmlzaERldGFpbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIpIHtcbiAgICAkc2NvcGUuZmlzaCA9ICRzdGF0ZVBhcmFtcy5maXNoO1xuICAgICRzY29wZS5pbWFnZV9lbmRwb2ludCA9ICdodHRwOi8vd3d3LmlmaXNrZS5zZSc7XG4gICAgaWYoISRzY29wZS5maXNoKSB7XG4gICAgICAgIERCLmdldEZpc2goJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuZmlzaCA9IGRhdGE7XG4gICAgY29uc29sZS5sb2coJHNjb3BlLmZpc2gpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygkc2NvcGUuZmlzaCk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdGaXNoZXNDdHJsJywgWyckc2NvcGUnLCAnREInLCBmdW5jdGlvbigkc2NvcGUsIERCKSB7XG4gICAgJHNjb3BlLnNvcnRvcmRlciA9ICdzbyc7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICBEQi5nZXRGaXNoZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmZpc2hlcyA9IGRhdGE7XG4gICAgICAgICRzY29wZS5kZWZhdWx0X2ltZyA9IGRhdGFbMF0uaW1nO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSG9tZUN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRpb25pY0hpc3RvcnknLFxuICAgICdsb2NhbFN0b3JhZ2UnLFxuICAgICdzZXNzaW9uRGF0YScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0hpc3RvcnksIGxvY2FsU3RvcmFnZSwgc2Vzc2lvbkRhdGEpIHtcblxuICAgICAgICAkc2NvcGUubG9nZ2VkSW4gPSBzZXNzaW9uRGF0YTtcblxuICAgICAgICAvLyBDdXJyZW50IGhpc3Rvcnkgc3RhY2sgSWQuIFNlZSBhcmVhX2NvbnRyb2xsZXIgZm9yIHVzYWdlLlxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdob21lSGlzdG9yeUlkJywgJGlvbmljSGlzdG9yeS5jdXJyZW50SGlzdG9yeUlkKCkpO1xuXG4gICAgICAgICRzY29wZS5teUZ1bmMgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgIGlmKCRldmVudC5rZXlDb2RlID09IDEzICYmICEkZXZlbnQuc2hpZnRLZXkpIHsgLy9pZiBlbnRlci1rZXlcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ21lbnUuYXJlYXMnLCB7c2VhcmNoOiAkZXZlbnQuc3JjRWxlbWVudC52YWx1ZX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdMZWdhbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGxvY2FsU3RvcmFnZSkge1xuICAgICRzY29wZS50b3MgPSBsb2NhbFN0b3JhZ2UuZ2V0KCd0b3MnKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdVcGRhdGUnLCAnJGlvbmljTG9hZGluZycsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBVcGRhdGUsICRpb25pY0xvYWRpbmcpIHtcbiAgICAvLyRzY29wZS51c2VyID0ge307XG4gICAgJHNjb3BlLnNpZ25JbiA9IGZ1bmN0aW9uKGxvZ2luRm9ybSkge1xuICAgICAgICAkaW9uaWNMb2FkaW5nLnNob3coKTtcblxuICAgICAgICBVcGRhdGUudXNlcl9sb2dpbihsb2dpbkZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZSwgbG9naW5Gb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgbG9naW5Gb3JtLiRzZXRWYWxpZGl0eShcImxvZ2luRXJyb3JcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ21lbnUuaG9tZScpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICBsb2dpbkZvcm0uJHNldFZhbGlkaXR5KFwibG9naW5FcnJvclwiLCBmYWxzZSk7XG4gICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBlcnJvci5yZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01hcEN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJ2xlYWZsZXREYXRhJyxcbiAgICAnREInLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgbGVhZmxldERhdGEsIERCKSB7XG4gICAgICAgICRzY29wZS50ZXN0PSAnaGVqJztcbiAgICAgICAgREIuc2VhcmNoKCcnKS50aGVuKGZ1bmN0aW9uKGFyZWFzKXtcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gYXJlYXMubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsYXllcjogJ2Zpc2hhcmVhcycsXG4gICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXQsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogYS5sbmcsXG4gICAgICAgICAgICAgICAgICAgIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdfc2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3X3Njb3BlLmFyZWEgPSBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld19zY29wZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxhIHVpLXNyZWY9XCJhcmVhLmluZm8oe2lkOiBhcmVhLklEIH0pXCI+e3thcmVhLnR9fTwvYT4nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICBsYXQ6IDYyLjAsXG4gICAgICAgICAgICAgICAgbG5nOiAxNS4wLFxuICAgICAgICAgICAgICAgIHpvb206IDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXllcnM6IHtcbiAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcGJveDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01hcGJveCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAneHl6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97bWFwdHlwZX0ve3p9L3t4fS97eX1AMngucG5nP2FjY2Vzc190b2tlbj17YXBpa2V5fScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXB0eXBlOiAnbWFwYm94Lm91dGRvb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXk6ICdway5leUoxSWpvaWJXRnBjM1JvYnlJc0ltRWlPaUkzVW1zNVIwSXdJbjAuRE9oVTgxY2xITEVoVGo4MURJT2pkZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlzaGFyZWFzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRmlza2VvbXLDpWRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFya2VyY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNZW51Q3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJGlvbmljUG9wb3ZlcicsXG4gICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAnVXBkYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljUG9wb3Zlciwgc2Vzc2lvbkRhdGEsIFVwZGF0ZSkge1xuXG4gICAgJHNjb3BlLnNlc3Npb25EYXRhID0gc2Vzc2lvbkRhdGE7XG5cbiAgICAkaW9uaWNQb3BvdmVyLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9tZW51L3BvcG92ZXIuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24ocG9wb3Zlcikge1xuICAgICAgICAkc2NvcGUucG9wb3ZlciA9IHBvcG92ZXI7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXNlcmluZm8gPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ21lbnUudXNlcmluZm8nKTtcbiAgICB9O1xuICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHRVcGRhdGUudXNlcl9sb2dvdXQoKTtcblxuXHQkc3RhdGUuZ28oJ3N0YXJ0LmxvZ2luJyk7XG4gICAgfTtcbiAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ3N0YXJ0LmxvZ2luJyk7XG4gICAgfTtcbiAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcblx0JHNjb3BlLnBvcG92ZXIuaGlkZSgpO1xuXHQkc3RhdGUuZ28oJ3N0YXJ0LnJlZ2lzdGVyLmRldGFpbHMnKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBVcGRhdGUuZm9yY2VkVXBkYXRlKCk7XG4gICAgfTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNMb2FkaW5nJyxcbiAgICAnJGlvbmljTW9kYWwnLFxuICAgICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gICAgJ0FQSScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRpb25pY0xvYWRpbmcsICRpb25pY01vZGFsLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSwgQVBJLCBsb2NhbFN0b3JhZ2UpIHtcblxuICAgIHZhciB1c2VybmFtZTtcblxuICAgIC8vIExpdmUgY2hlY2sgZm9yIHVzZXJuYW1lIGF2YWlsYWJpbGl0eVxuICAgICRzY29wZS5jaGVja1VzZXJuYW1lID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgQVBJLnVzZXJfZXhpc3RzKGlucHV0LiR2aWV3VmFsdWUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGlucHV0LiRzZXRWYWxpZGl0eSgnbmFtZVRha2VuJywgIWRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gTGl2ZSBjaGVjayBmb3IgZW1haWwgYXZhaWxhYmlsaXR5XG4gICAgJHNjb3BlLmNoZWNrRW1haWwgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBBUEkudXNlcl9leGlzdHMobnVsbCwgaW5wdXQuJHZpZXdWYWx1ZSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaW5wdXQuJHNldFZhbGlkaXR5KCdlbWFpbFRha2VuJywgIWRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvLyBWYWxpZGF0aW9uIGVycm9ycyBub3QgdGllZCB0byBpbnB1dCBmaWVsZFxuICAgICRzY29wZS5mb3JtRXJyb3JzID0ge307XG5cbiAgICAvKipcbiAgICAgKiByZWdpc3RlclxuICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciB0aGUgcmVnaXN0cmF0aW9uIGZvcm1cbiAgICAgKi9cbiAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgIC8vIFNhdmUgcGhvbmUgbnVtYmVyIGZvciBuZXh0IHZpZXdcbiAgICAgICAgJHNjb3BlLnBob25lID0gZm9ybS5waG9uZS4kdmlld1ZhbHVlO1xuXG4gICAgICAgIC8vIFNhdmUgdXNlcm5hbWUgZm9yIHZlcmlmeSBzdWJtaXQgaGFuZGxlclxuICAgICAgICB1c2VybmFtZSA9IGZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZTtcblxuICAgICAgICB2YXIgcGFzc3dvcmQgPSBmb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWU7XG4gICAgICAgIHZhciBmdWxsbmFtZSA9IGZvcm0uZnVsbG5hbWUuJHZpZXdWYWx1ZTtcbiAgICAgICAgdmFyIGVtYWlsID0gZm9ybS5lbWFpbC4kdmlld1ZhbHVlO1xuXG4gICAgICAgIEFQSS51c2VyX3JlZ2lzdGVyKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCAkc2NvcGUucGhvbmUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFN1Y2Nlc3M6IEdvIHRvIHZlcmlmeSBhY2NvdW50IHZpZXdcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdeLnZlcmlmeScpO1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEVycm9yOiBJbmZvcm0gdGhlIHVzZXIgYWJvdXQgZmFpbGVkIHJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgICogU2VlIEFQSSBkb2N1bWVudGF0aW9uIGZvciBlcnJvciBjb2Rlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAkc2NvcGUuZm9ybUVycm9ycy5yZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUb3AodHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIEludmFsaWQgRW1haWxcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcl9jb2RlID09IDgpIHtcbiAgICAgICAgICAgICAgICBmb3JtLmVtYWlsLiRzZXRWYWxpZGl0eSgnaW52YWxpZEVtYWlsJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXNlcm5hbWUgb3IgRW1haWwgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrVXNlcm5hbWUoZm9ybS51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrRW1haWwoZm9ybS5lbWFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnZhbGlkIHBob25lIG51bWJlclxuICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yX2NvZGUgPT0gMTApIHtcbiAgICAgICAgICAgICAgICBmb3JtLnBob25lLiRzZXRWYWxpZGl0eSgnaW52YWxpZFBob25lJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogdmVyaWZ5XG4gICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHRoZSB2ZXJpZmljYXRpb24gZm9ybVxuICAgICAqL1xuICAgICRzY29wZS52ZXJpZnkgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgIHZhciB2ZXJjb2RlID0gZm9ybS52ZXJjb2RlO1xuXG4gICAgICAgIEFQSS51c2VyX2NvbmZpcm0odXNlcm5hbWUsIHZlcmNvZGUuJHZpZXdWYWx1ZSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydC5sb2dpbicpO1xuICAgICAgICAgICAgdmVyY29kZS4kc2V0VmFsaWRpdHkoXCJ2ZXJpZmllZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICB2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnRvcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3RvcycpO1xuICAgIC8vTW9kYWwgd2l0aCB0aGUgRVVMQVxuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9yZWdpc3Rlci9ldWxhLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgJHNjb3BlLmV1bGEgPSBtb2RhbDtcbiAgICB9KTtcbiAgICAkc2NvcGUuc2hvd0V1bGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLmV1bGEuc2hvdygpO1xuICAgIH07XG4gICAgJHNjb3BlLmNsb3NlRXVsYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuZXVsYS5oaWRlKCk7XG4gICAgfTtcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuZXVsYS5yZW1vdmUoKTtcbiAgICB9KTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVGVjaG5pcXVlRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdEQicsICckaW9uaWNTbGlkZUJveERlbGVnYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCLCAkaW9uaWNTbGlkZUJveERlbGVnYXRlKSB7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICAkc2NvcGUudGVjaCA9ICRzdGF0ZVBhcmFtcy50ZWNoO1xuICAgICRzY29wZS5pbWFnZXMgPSBbXTtcblxuICAgIGlmKCEkc2NvcGUudGVjaCkge1xuICAgICAgICBEQi5nZXRUZWNobmlxdWUoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2VzID0gW2RhdGEuaW1nMSwgZGF0YS5pbWcyLCBkYXRhLmltZzNdLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhL1xcLyQvLnRlc3QoZWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgICAgICAgICAkc2NvcGUudGVjaCA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkYXRhID0gJHNjb3BlLnRlY2g7XG4gICAgICAgICRzY29wZS5pbWFnZXMgPSBbZGF0YS5pbWcxLCBkYXRhLmltZzIsIGRhdGEuaW1nM10uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gIS9cXC8kLy50ZXN0KGVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICB9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdUZWNobmlxdWVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFRlY2huaXF1ZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICRzY29wZS50ZWNobmlxdWVzID0gZGF0YTtcbiAgICB9KTtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFVzZXJJbmZvKClcbiAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICRzY29wZS51c2VyID0gdXNlcjtcbiAgICB9KTtcbiAgICBEQi5nZXRVc2VyTnVtYmVycygpXG4gICAgLnRoZW4oZnVuY3Rpb24obnVtYmVycykge1xuICAgICAgICAkc2NvcGUubnVtYmVycyA9IG51bWJlcnM7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ2FyZHNDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY01vZGFsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY01vZGFsKSB7XG4gICAgICAgICRzY29wZS5wcmVkID0gJy10byc7XG4gICAgICAgICRzY29wZS5lbmRwb2ludCA9ICdodHRwczovL3d3dy5pZmlza2Uuc2UnO1xuXG4gICAgICAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuYmVmb3JlRW50ZXInLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICRzY29wZS5ub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgREIuZ2V0VXNlclByb2R1Y3RzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZHVjdHMgPSBkYXRhO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgICAgICAvL3VzZSB0aGUgc2FtZSBtb2RhbCBhcyBpbiBhcmVhX2NhcmRzXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuYXBpJywgWydpZmlza2UudXRpbHMnXSlcbiAgICAucHJvdmlkZXIoJ0FQSScsIGZ1bmN0aW9uIEFQSVByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuYmFzZV91cmwgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlL2FwaS92Mi9hcGkucGhwJztcblxuICAgICAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgJ3Nlc3Npb25EYXRhJywgJ2xvY2FsU3RvcmFnZScsICckcScsIGZ1bmN0aW9uKCRodHRwLCBzZXNzaW9uRGF0YSwgbG9jYWxTdG9yYWdlLCAkcSkge1xuICAgICAgICAgICAgdmFyIGJhc2VfdXJsID0gdGhpcy5iYXNlX3VybDtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAjIGFwaV9jYWxsICNcbiAgICAgICAgICAgICAqIGhhbmRsZXMgaHR0cCByZXF1ZXN0c1xuICAgICAgICAgICAgICogcmV0dXJucyBhICRodHRwIG9iamVjdCBmb3IgdGhlIHJlcXVlc3RlZCBhcGkgY2FsbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICRodHRwKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDonZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGJhc2VfdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogYW5ndWxhci5leHRlbmQocGFyYW1zLCB7J2tleSc6ICcwMTIzNDU2Nzg5YWJjZGVmJ30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiBQcm9wZXIgbG9nZ2luZ1xuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChkYXRhLmRhdGEucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZywgc3RhdHVzVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZW91dCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogIyBzZXNzaW9uX2FwaV9jYWxsICNcbiAgICAgICAgICAgICAqIHdyYXBwZXIgZm9yIGFwaV9jYWxsIC0gaW5zZXJ0cyB0aGUgc2Vzc2lvbiB0b2tlbiBpbnRvIHBhcmFtc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgc2Vzc2lvbl9hcGlfY2FsbCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbkRhdGEudG9rZW47XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKGFuZ3VsYXIuZXh0ZW5kKHBhcmFtcywge3M6IHNlc3Npb259KSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdldF9tdW5pY2lwYWxpdGllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9tdW5pY2lwYWxpdGllcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9jb3VudGllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9jb3VudGllcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfZXhpc3RzOiBmdW5jdGlvbih1c2VybmFtZSwgZW1haWwpIHtcblx0XHQgICAgdmFyIGFyZ3MgPSB7bTogJ3VzZXJfZXhpc3RzJ307XG5cblx0XHQgICAgaWYgKHR5cGVvZiB1c2VybmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGFyZ3MudXNlcm5hbWUgPSB1c2VybmFtZTtcblx0XHQgICAgfVxuXHRcdCAgICBpZiAodHlwZW9mIGVtYWlsID09PSAnc3RyaW5nJykge1xuXHRcdFx0YXJncy5lbWFpbCA9IGVtYWlsO1xuXHRcdCAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9yZWdpc3RlcjogZnVuY3Rpb24odXNlcm5hbWUsIGZ1bGxuYW1lLCBwYXNzd29yZCwgZW1haWwsIHBob25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ3VzZXJfcmVnaXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsbmFtZTogZnVsbG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9jb25maXJtOiBmdW5jdGlvbih1c2VybmFtZSwgcGluKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ3VzZXJfY29uZmlybScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbjogcGluXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfaW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9pbmZvJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9sb2dpbjogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ3VzZXJfbG9naW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkRhdGEuc2V0VG9rZW4oZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWRlZCBmb3IgY2hhaW5pbmcgb2YgcHJvbWlzZXMsIHNob3VsZCBiZSBkb25lIHNvbWUgb3RoZXIgd2F5IHBlcmhhcHM/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfbG9nb3V0J30pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25EYXRhLmRlbGV0ZVRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9wcm9kdWN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9wcm9kdWN0cyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9maXNoZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfZmlzaGVzJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X3RlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVjaG5pcXVlcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9iYWl0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9iYWl0cyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9vcmdhbml6YXRpb25zOiBmdW5jdGlvbihvcmdpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfb3JnYW5pemF0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9vcmdfbW9kaWZpZWQ6IGZ1bmN0aW9uKG9yZ2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9vcmdfbW9kaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfYXJlYXM6IGZ1bmN0aW9uKGFyZWFpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfYXJlYXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9hcmVhc19tb2RpZmllZDogZnVuY3Rpb24oYXJlYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9hcmVhc19tb2RpZmllZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYWlkOiBhcmVhaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X3Byb2R1Y3RzOiBmdW5jdGlvbihhcmVhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3Byb2R1Y3RzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhaWQ6IGFyZWFpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfcnVsZXM6IGZ1bmN0aW9uKHJ1bGVpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfcnVsZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVpZDogcnVsZWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9waG90b3M6IGZ1bmN0aW9uKG9yZ2lkLCBhcmVhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3Bob3RvcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9tYXBfcG9pczogZnVuY3Rpb24ob3JnaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X21hcF9wb2lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdpZDogb3JnaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X21hcF9wb2lfdHlwZXMgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X21hcF9wb2lfdHlwZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfbWFwX3BvbHlnb25zOiBmdW5jdGlvbihvcmdpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfbWFwX3BvbHlnb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdpZDogb3JnaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9nZXRfZmF2b3JpdGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2dldF9mYXZvcml0ZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfdGVybXNfb2Zfc2VydmljZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF90ZXJtc19vZl9zZXJ2aWNlJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X2NvbnRhY3RfaW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9jb250YWN0X2luZm8nfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfZW5naW5lX3BvbGljaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2VuZ2luZV9wb2xpY2llcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9zbXNfdGVybXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfc21zX3Rlcm1zJ30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGInLCBbXSlcbiAgICAucHJvdmlkZXIoJ0RCJywgZnVuY3Rpb24gREJQcm92aWRlcigpIHtcblxuICAgICAgICB0aGlzLiRnZXQgPSBbICckY29yZG92YVNRTGl0ZScsICdBUEknLCAnJHEnLCBmdW5jdGlvbigkY29yZG92YVNRTGl0ZSwgQVBJLCAkcSkge1xuXG5cbiAgICAgICAgICAgIHZhciBkYjtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuc3FsaXRlUGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgZGIgPSAkY29yZG92YVNRTGl0ZS5vcGVuREIoJ2Zpc2tlYmFzZW4uZGInKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm9wZW5EYXRhYmFzZSkge1xuICAgICAgICAgICAgICAgIGRiID0gd2luZG93Lm9wZW5EYXRhYmFzZSgnZmlza2ViYXNlbi5kYicsICcxLjAnLCAnZmlza2ViYXNlbicsIDEwKjEwMjQqMTAyNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlLCBzb3JyeScpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdmFyIHRhYmxlRGVmID0ge1xuICAgICAgICAgICAgICAgICdBcmVhJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ29yZ2lkJywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydrdycsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbm90ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2MxJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2MyJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2MzJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ20xJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ20yJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ20zJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3JlYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsbmcnLCAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnem9vbScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BudCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NhcicsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2VuZycsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2hjcCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21hcCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd3c2MnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdBcmVhX0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2FpZCcsICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmaWQnLCAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYW1vdW50JywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NvbW1lbnQnLCAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0MicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ25vJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW0nLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwZicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2FpJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyaScsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY2gnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2hsJywgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdDb3VudHknOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3MnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnTXVuaWNpcGFsaXR5JzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ25hbWUnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ0Zpc2gnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzbycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtYXgnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW1nJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2luJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydnZW8nLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc2l6ZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xhdCcsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWMnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdSdWxlJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndmVyJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1VzZXJfUHJvZHVjdCc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYXQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NvZGUnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmcicsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZnVsbG5hbWUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydvdCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3JlZjEnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWYyJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0bycsICAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncGlkJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BkZicsICAgICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdVc2VyX0luZm8nOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3VzZXJuYW1lJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbG9nZ2VkaW4nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydJUDEnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ0lQMicsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbmFtZScsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydlbWFpbCcsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NyZWF0ZWQnLCAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdVc2VyX051bWJlcic6IFtcbiAgICAgICAgICAgICAgICAgICAgWydudW1iZXInLCAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnVGVjaG5pcXVlJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZGUnLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RhJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpY29uJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW1nMScsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltZzInLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbWczJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsneW91dHViZScsICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnT3JnYW5pemF0aW9uJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3AnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd1cmwnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NvJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndmF0JywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RwJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmdmEnLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3JnJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ21sJywgICAgICdpbnQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1BvaSc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3JnaWQnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3R5cGUnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwcmljZScsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xhJywgICAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnbG8nLCAgICAgJ3JlYWwnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1BvaV9UeXBlJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ljb24nLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnUG9seWdvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3JnaWQnLCAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYycsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2ZXInLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtb2QnLCAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwb2x5JywgICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciByZXR2YWwgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5yb3dzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHZhbC5wdXNoKGRhdGEucm93cy5pdGVtKGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICAgICAgICAgIH07XG5cblxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGFibGU6IGZ1bmN0aW9uKHRhYmxlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW5nbGVEYXRhID0gZGF0YVtpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnNlcnREYXRhID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGVEZWZbdGFibGVdLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnREYXRhLnB1c2goc2luZ2xlRGF0YVt0YWJsZURlZlt0YWJsZV1baV1bMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSU5TRVJUIElOVE8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVkFMVUVTKD8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyw/Jy5yZXBlYXQoaW5zZXJ0RGF0YS5sZW5ndGgtMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSddLmpvaW4oJyAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChxdWVyeSwgaW5zZXJ0RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBjbGVhblRhYmxlOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRHJvcHMgYWxsIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGNsZWFuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2xlYW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB0YWJsZSBpbiB0YWJsZURlZil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCBhbGwgdGFibGVzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJbml0aWFsaWVzIHRoZSB0YWJsZXMgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oIGZ1bmN0aW9uICh0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgdGFibGUgaW4gdGFibGVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJygnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyArIHRhYmxlRGVmW3RhYmxlXS5qb2luKCdfX19cIicpLnNwbGl0KCcsJykuam9pbignXCIgJykuc3BsaXQoJ19fXycpLmpvaW4oJywgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLCBQUklNQVJZIEtFWSgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyArIHRhYmxlRGVmW3RhYmxlXVswXVswXSArICdcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSk7J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG5cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYW4gYXJlYVxuICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0QXJlYVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gaWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRBcmVhOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKGFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gY3JlYXRlT2JqZWN0KGFyZWEpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETzogREIgc2hvdWxkIG5vdCBuZWVkIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcGhvdG9zKG9iamVjdC5vcmdpZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlcyA9IGltYWdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldEFyZWFGaXNoZXM6IGZ1bmN0aW9uKGFpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoIGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWFfRmlzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gRmlzaCBPTiBBcmVhX0Zpc2guZmlkID0gRmlzaC5JRCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIEFyZWFfRmlzaC5haWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFthaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTZWFyY2hlcyB0aGUgZGF0YWJhc2UgdXNpbmcgYSBxdWVyeVxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVGhlIHF1ZXJ5IGlzIG1hdGNoZWQgdG8gYSBuYW1lIGFuZC9vciBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBzZWFyY2hcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoc3RyaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2VhcmNoOiBmdW5jdGlvbihzZWFyY2hzdHJpbmcsIGNvdW50eV9pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoIGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIEFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSB0IExJS0UgPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvdW50eV9pZCA/ICdBTkQgYzEgPSA/JzonJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHQnXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eV9pZCA/IFsnJScgKyBzZWFyY2hzdHJpbmcgKyAnJScsIGNvdW50eV9pZF06WyclJyArIHNlYXJjaHN0cmluZyArICclJ10pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYSBwcm9kdWN0XG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRQcm9kdWN0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBwcm9kdWN0X2lkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ2V0UHJvZHVjdDogZnVuY3Rpb24ocHJvZHVjdF9pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCBESVNUSU5DVCBQcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgSUQgPSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgc28nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwcm9kdWN0X2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogR2V0cyBhbGwgcHJvZHVjdHMgZnJvbSBhbiBhcmVhXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBnZXRQcm9kdWN0c0J5QXJlYVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gYXJlYV9pZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdldFByb2R1Y3RzQnlBcmVhOiBmdW5jdGlvbihhcmVhX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIFByb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFByb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBhaSA9ID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBzbydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2FyZWFfaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRDb3VudGllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIENvdW50eS4qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBDb3VudHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIEFyZWEgT04gQXJlYS5jMSA9IENvdW50eS5JRCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIENvdW50eS50J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldFVzZXJQcm9kdWN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIFVzZXJfUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gVXNlcl9Qcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTEVGVCBKT0lOIFByb2R1Y3QgT04gUHJvZHVjdC5JRCA9IFVzZXJfUHJvZHVjdC5waWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMRUZUIEpPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaSdcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRGaXNoZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gRmlzaCdcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRGaXNoOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gRmlzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGlkID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRUZWNobmlxdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIFRlY2huaXF1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0VGVjaG5pcXVlOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgSUQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRPcmdhbml6YXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBPcmdhbml6YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gVXNlcl9JbmZvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdCh1c2VyKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldFVzZXJOdW1iZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gVXNlcl9OdW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRQb2lzOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBQb2knLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBvcmdpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRQb2lUeXBlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvaV9UeXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0UG9seWdvbnM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIConLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFBvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBvcmdpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dO1xuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5maWx0ZXJzJywgW10pXG4uZmlsdGVyKCdvbmVicicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvKDxicj5cXHMqKSsvZywgJzxicj4nKTtcbiAgICB9O1xufSlcbi5maWx0ZXIoJ25vYnJzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8oPGJyKFxccypcXC8pKj4pKy9nLCAnJyk7XG4gICAgfTtcbn0pXG4uZmlsdGVyKCdjbGVhbnRhYmxlcycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8XFwvP3RhYmxlPikrL2csICcnKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oPFxcLz90cj4pKy9nLCAnJyk7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKDxcXC8/dGg+KSsvZywgJycpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyg8KFxcLz8pdGQuKj8+KSs/L2csICc8JDJwPicpO1xuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLzxwPlxccyo8XFwvcD4vZywgJycpO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTtcbn0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UudXBkYXRlJywgWydpZmlza2UuYXBpJywgJ2lmaXNrZS5kYicsICdpZmlza2UudXRpbHMnXSlcbiAgICAucHJvdmlkZXIoJ1VwZGF0ZScsIGZ1bmN0aW9uIFVwZGF0ZVByb3ZpZGVyKCkge1xuXG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJ0FQSScsXG4gICAgICAgICAgICAnREInLFxuICAgICAgICAgICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgJyRpb25pY0xvYWRpbmcnLFxuICAgICAgICAgICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKEFQSSwgREIsIGxvY2FsU3RvcmFnZSwgJHEsICRpb25pY0xvYWRpbmcsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgTEFTVF9VUERBVEUgPSAnbGFzdF91cGRhdGUnO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9hcmVhcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpc2hBcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXNoZXMgPSBkYXRhW2tleV0uZmlzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBmaXNoS2V5IGluIGZpc2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlzaEFyci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSUQnOiBrZXkrJ18nK2Zpc2hLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlkOiBmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFpZDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmlzaGVzW2Zpc2hLZXldWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGZpc2hlc1tmaXNoS2V5XVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCLnBvcHVsYXRlVGFibGUoJ0FyZWEnLCBkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnQXJlYV9GaXNoJywgZmlzaEFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEFyZWEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUHJvZHVjdCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUHJvZHVjdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfY291bnRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdDb3VudHknLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIENvdW50eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbXVuaWNpcGFsaXRpZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdNdW5pY2lwYWxpdHknLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE11bmljaXBhbGl0eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfZmlzaGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnRmlzaCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgRmlzaCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcnVsZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdSdWxlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBSdWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF90ZWNobmlxdWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVGVjaG5pcXVlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBUZWNobmlxdWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X29yZ2FuaXphdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdPcmdhbml6YXRpb24nLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE9yZ2FuaXphdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvaXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdQb2knLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFBvaScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvaV90eXBlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1BvaV9UeXBlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQb2lfVHlwZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfbWFwX3BvbHlnb25zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUG9seWdvbicsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUG9seWdvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlVXNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnVXNlcl9Qcm9kdWN0JywgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX1Byb2R1Y3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9pbmZvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVycyA9IGRhdGEubnVtYmVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtQXJyLnB1c2goeydudW1iZXInOiBudW1iZXJzW2ldfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX0luZm8nLCBbZGF0YV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX0luZm8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX051bWJlcicsIG51bUFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFVzZXJfTnVtYmVycycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBjbGVhblVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX1Byb2R1Y3QnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmNsZWFuVGFibGUoJ1VzZXJfTnVtYmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX0luZm8nKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIHVzZXIgaW5mbyBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvdWxkIG5vdCByZW1vdmUgdXNlciBkYXRhIGZyb20gZGF0YWJhc2UhJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbihmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFVwZGF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFmb3JjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0KExBU1RfVVBEQVRFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhV2VlayA9IDEwMDAqMzYwMCoyNCo3O1xuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50VGltZSAtIGxhc3RVcGRhdGUgPiBhV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVVzZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVsYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIGFsbCB0aGUgdGhpbmdzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldChMQVNUX1VQREFURSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyLmVycm9yX2NvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aGVudGljYXRpb24gZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG93IHRvIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5Vc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS51c2VyX2xvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0dvdCBhbiBlcnJvciwgd2lsbCB0cnkgdG8gcmVjcmVhdGUgYWxsIHRhYmxlczogJywgZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIuY2xlYW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVsYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgYWxsIHRoZSB0aGluZ3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGlsbCBlcnJvciwgaGFuZGxlIGl0IScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Rlcm1zX29mX3NlcnZpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3RvcycsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfc21zX3Rlcm1zKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHRlcm1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnc21zX3Rlcm1zJywgdGVybXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X2NvbnRhY3RfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldCgnY29udGFjdEluZm8nLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZXNzaW9uRGF0YS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm9fdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnVuYygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfbG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQSS51c2VyX2xvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsYXN0X3VwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfV07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLnV0aWxzJywgW10pXG5cbi5mYWN0b3J5KCdsb2NhbFN0b3JhZ2UnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5zZXJ2aWNlKCdzZXNzaW9uRGF0YScsIFsnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24obG9jYWxTdG9yYWdlKSB7XG4gICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXQoJ3Nlc3Npb24nKTtcblxuICAgIHRoaXMuc2V0VG9rZW4gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Nlc3Npb24nLCB0KTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBzZXQnKTtcbiAgICB9O1xuICAgIHRoaXMuZGVsZXRlVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZSgnc2Vzc2lvbicpO1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHVuc2V0Jyk7XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCduZ0NvcmRvdmFTbXMnLCBbXSlcbi5kaXJlY3RpdmUoJ25nQ29yZG92YVNtcycsIFsnJGNvcmRvdmFTbXMnLCAnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkY29yZG92YVNtcywgJGlvbmljUG9wdXApIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGlvbmljUG9wdXAucHJvbXB0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTa3JpdiBpbiBkaXR0IG5hbW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdGSVNLQSAnICsgYXR0cnMubmdDb3Jkb3ZhU21zICsgJyAnICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTbXMuc2VuZCgnNzI0NTYnLCBtZXNzYWdlLCAnSU5URU5UJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY3Vlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGlyZWN0aXZlcycpXG4gICAgLmRpcmVjdGl2ZSgnaWZpc2tlSW5wdXQnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICB0cmFuc2NsdWRlOiB0cnVlLFxuXG5cdCAgICBzY29wZToge1xuXHRcdG5hbWU6ICdAJyxcblx0XHRpZDogJ0AnLFxuXHRcdGxhYmVsOiAnQCcsXG5cdFx0cGxhY2Vob2xkZXI6ICdAJyxcblx0XHR0eXBlOiAnQCcsXG5cdFx0bmdQYXR0ZXJuOiAnQCcsXG5cdFx0bmdNb2RlbDogJz0/J1xuXG5cdCAgICB9LFxuXHQgICAgdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmVzL2lucHV0X2ZpZWxkL2lmaXNrZV9pbnB1dC5odG1sJyxcblx0ICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSkge1xuXHRcdCRzY29wZS5pZCA9ICRzY29wZS5pZCB8fCAkc2NvcGUubmFtZTtcblx0XHQkc2NvcGUudHlwZSA9ICRzY29wZS50eXBlIHx8ICd0ZXh0Jztcblx0ICAgIH1cblx0fVxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnc3lzdGVtQnJvd3NlcicsIFtdKVxuLmRpcmVjdGl2ZSgnc3lzdGVtQnJvd3NlcicsIFsnJGNvcmRvdmFJbkFwcEJyb3dzZXInLCBmdW5jdGlvbigkY29yZG92YUluQXBwQnJvd3Nlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4oZWxbMF0uaHJlZiwgJ19zeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5kaXJlY3RpdmUoJ2dsb2JhbFN5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuaHJlZiAmJiBlLnRhcmdldC5ob3N0ICE9PSB3aW5kb3cubG9jYXRpb24uaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGUudGFyZ2V0LmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=