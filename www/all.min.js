angular.module("ifiske",["ionic","ifiske.controllers","ifiske.directives","ifiske.api","ifiske.db","ifiske.utils","ifiske.update","ifiske.filters","ionic.ion.headerShrink","ngCordova","systemBrowser","ngCordovaSms","ngMessages","ImgCache","leaflet-directive"]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).run(["$ionicPlatform","Update","ImgCache",function(e,t,n){e.ready(function(){window.ionic&&window.ionic.Keyboard&&window.ionic.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault(),n.$init(),t.update()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","ImgCacheProvider",function(e,t,n,o){o.setOptions({debug:!0,usePersistentCache:!0}),o.manualInit=!0,n.views.forwardCache(!0),n.backButton.previousTitleText(!1).text(""),n.tabs.position("bottom");var r="/start/login";window.localStorage.getItem("session")&&(r="/menu/home"),t.otherwise(r),e.state("start",{url:"/start","abstract":!0,templateUrl:"components/start/start.html"}).state("start.login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl"}).state("start.register",{url:"/register",templateUrl:"components/register/register.html",controller:"RegisterCtrl"}).state("start.register.details",{url:"/details",templateUrl:"components/register/register_details.html"}).state("start.register.verify",{url:"/verify",templateUrl:"components/register/register_verify.html"}).state("menu",{url:"/menu","abstract":!0,templateUrl:"components/menu/menu.html",controller:"MenuCtrl"}).state("menu.home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl"}).state("menu.info",{url:"/info",templateUrl:"components/info/info.html"}).state("menu.bugs",{url:"/info",templateUrl:"components/menu/report.html"}).state("menu.contact",{url:"/contact",templateUrl:"components/contact/contact.html",controller:"ContactCtrl"}).state("menu.legal",{url:"/legal",templateUrl:"components/legal/legal.html",controller:"LegalCtrl"}).state("menu.about",{url:"/about",templateUrl:"components/about/about.html",controller:"AboutCtrl"}).state("menu.userinfo",{url:"/userinfo",controller:"UserCtrl",templateUrl:"components/user/user.html"}).state("menu.counties",{url:"/counties",templateUrl:"components/counties/counties.html",controller:"CountiesCtrl"}).state("menu.areas",{url:"/areas",params:{id:!1,county:!1,search:""},templateUrl:"components/area_list/area_list.html",controller:"AreasCtrl"}).state("menu.cards",{url:"/cards",templateUrl:"components/user_cards/user_cards.html",controller:"UserCardsCtrl"}).state("menu.favorites",{url:"/favorites",templateUrl:"components/favorites/favorites.html"}).state("menu.fishes",{url:"/fishes",templateUrl:"components/fishes/fishes.html",controller:"FishesCtrl"}).state("menu.fishdetail",{url:"/fishdetail/:id",params:{id:!1,fish:!1},templateUrl:"components/fish_detail/fish_detail.html",controller:"FishDetailCtrl"}).state("menu.map",{url:"/map",templateUrl:"components/map/map.html",controller:"MapCtrl"}).state("menu.techniques",{url:"/techniques",templateUrl:"components/techniques/techniques.html",controller:"TechniquesCtrl"}).state("menu.techniquedetail",{url:"/techniquedetail/:id",params:{id:!1,tech:!1},templateUrl:"components/technique_detail/technique_detail.html",controller:"TechniqueDetailCtrl"}).state("menu.report",{url:"/report",templateUrl:"components/report/report.html"}).state("areadetail2",{"abstract":!0,url:"/areadetail/:id",templateUrl:"components/area2/area.html",controller:"AreaCtrl"}).state("areadetail2.info",{url:"/info",views:{info:{templateUrl:"components/area/area.html"}}}).state("areadetail2.fishinfo",{url:"/fishinfo",views:{fishinfo:{templateUrl:"components/area_fish/area_fish.html"}}}).state("areadetail2.cards",{url:"/cards",views:{cards:{templateUrl:"components/area_cards/area_cards.html"}}})}]),angular.module("ifiske.controllers",[]),angular.module("ifiske.directives",[]),angular.module("ifiske.controllers").controller("AboutCtrl",["$scope","$cordovaAppVersion","$ionicPlatform","Update",function(e,t,n,o){e.version=e.dbDate="Ok√§nt",e.dbDate=o.last_update(),n.ready(function(){window.cordova&&t.getAppVersion().then(function(t){console.log(t),e.version=t})})}]),angular.module("ifiske.controllers").controller("AreaCtrl",["$scope","$ionicHistory","localStorage","$rootScope","$ionicViewSwitcher","$stateParams","DB","$ionicSlideBoxDelegate","$ionicModal",function(e,t,n,o,r,i,s,l,u){e.tabsBack=function(){t.viewHistory().currentView.index?o.$ionicGoBack():(r.nextDirection("back"),e.$emit("$ionicHistory.change",{historyId:n.get("homeHistoryId")}))},e.image_endpoint="http://www.ifiske.se",s.getArea(i.id).then(function(t){e.images=t.images,l.update(),e.area=t,s.getOrganization(t.orgid).then(function(t){e.org=t})},function(e){console.log(e)}),s.getAreaFishes(i.id).then(function(t){console.log(t),e.fishes=t},function(e){console.log(e)}),s.getProductsByArea(i.id).then(function(t){e.products=t},function(e){console.log(e)}),e.sortorder="-amount",e.smsterms=n.get("sms_terms"),e.predicate="so",u.fromTemplateUrl("components/area_cards/modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.sms_modal=t}),e.openModal=function(t){e.sms_modal.show(),e.product=t},e.closeModal=function(){e.sms_modal.hide()},e.showTerms=function(){e.showingterms=!e.showingterms},e.showingterms=!1,u.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.sms_modal.remove(),e.rules_modal.remove()})}]),angular.module("ifiske.controllers").controller("AreasCtrl",["$scope","$stateParams","$ionicScrollDelegate","DB",function(e,t,n,o){e.search={$:t.search},e.queryBy="$",e.county=t.county,o.search("",t.id).then(function(t){e.areas=t},function(e){console.log(e)}),e.clearSearch=function(){},e.scrollTop=function(){n.scrollTop()}}]),angular.module("ifiske.controllers").controller("ContactCtrl",["$scope","$state","localStorage",function(e,t,n){e.contactInfo=n.get("contactInfo")}]),angular.module("ifiske.controllers").controller("CountiesCtrl",["$scope","DB",function(e,t){t.getCounties().then(function(t){e.counties=t},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("FishDetailCtrl",["$scope","$stateParams","DB",function(e,t,n){e.fish=t.fish,e.image_endpoint="http://www.ifiske.se",e.fish||n.getFish(t.id).then(function(t){e.fish=t,console.log(e.fish)},function(e){console.log(e)}),console.log(e.fish)}]),angular.module("ifiske.controllers").controller("FishesCtrl",["$scope","DB",function(e,t){e.sortorder="so",e.image_endpoint="http://www.ifiske.se",t.getFishes().then(function(t){e.fishes=t,e.default_img=t[0].img},function(e){console.log(e)})}]),angular.module("ifiske.controllers").controller("HomeCtrl",["$scope","$state","$ionicHistory","localStorage","sessionData",function(e,t,n,o,r){e.loggedIn=r,o.set("homeHistoryId",n.currentHistoryId()),e.myFunc=function(e){13!=e.keyCode||e.shiftKey||t.go("menu.areas",{search:e.srcElement.value})}}]),angular.module("ifiske.controllers").controller("LegalCtrl",["$scope","$state","localStorage",function(e,t,n){e.tos=n.get("tos")}]),angular.module("ifiske.controllers").controller("LoginCtrl",["$scope","$state","Update","$ionicLoading",function(e,t,n,o){e.signIn=function(r){o.show(),n.user_login(r.username.$viewValue,r.password.$viewValue).then(function(){o.hide(),r.$setValidity("loginError",!0),t.go("menu.home")},function(t){o.hide(),r.$setValidity("loginError",!1),e.error=t.response})}}]),angular.module("ifiske.controllers").controller("MapCtrl",["$scope","leafletData","DB",function(e,t,n){t.getMap().then(function(e){n.search("").then(function(t){for(var n=new L.MarkerClusterGroup,o=0;o<t.length;++o)n.addLayer(new L.Marker([t[o].lat,t[o].lng]));e.addLayer(n)})})}]),angular.module("ifiske.controllers").controller("MenuCtrl",["$scope","$state","$ionicPopover","sessionData","Update",function(e,t,n,o,r){e.sessionData=o,n.fromTemplateUrl("components/menu/popover.html",{scope:e}).then(function(t){e.popover=t}),e.userinfo=function(){e.popover.hide(),t.go("menu.userinfo")},e.logout=function(){e.popover.hide(),r.user_logout(),t.go("start.login")},e.login=function(){e.popover.hide(),t.go("start.login")},e.register=function(){e.popover.hide(),t.go("start.register.details")},e.update=function(){r.forcedUpdate()}}]),angular.module("ifiske.controllers").controller("RegisterCtrl",["$scope","$state","$ionicLoading","$ionicModal","$ionicScrollDelegate","API","localStorage",function(e,t,n,o,r,i,s){var l;e.checkUsername=function(e){i.user_exists(e.$viewValue).then(function(t){e.$setValidity("nameTaken",!t.data.response)})},e.checkEmail=function(e){i.user_exists(null,e.$viewValue).then(function(t){e.$setValidity("emailTaken",!t.data.response)})},e.formErrors={},e.register=function(o){n.show(),e.phone=o.phone.$viewValue,l=o.username.$viewValue;var s=o.password.$viewValue,u=o.fullname.$viewValue,a=o.email.$viewValue;i.user_register(l,u,s,a,e.phone).then(function(){n.hide(),t.go("^.verify")},function(t){e.formErrors.registrationError=!0,r.scrollTop(!0),8==t.error_code&&o.email.$setValidity("invalidEmail",!1),9==t.error_code&&(e.checkUsername(o.username),e.checkEmail(o.email)),10==t.error_code&&o.phone.$setValidity("invalidPhone",!1),n.hide()})},e.verify=function(e){n.show();var o=e.vercode;i.user_confirm(l,o.$viewValue).then(function(){t.go("start.login"),o.$setValidity("verified",!0),n.hide()},function(){o.$setValidity("verified",!1),n.hide()})},e.tos=s.get("tos"),o.fromTemplateUrl("components/register/eula.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.eula=t}),e.showEula=function(){e.eula.show()},e.closeEula=function(){e.eula.hide()},e.$on("$destroy",function(){e.eula.remove()})}]),angular.module("ifiske.controllers").controller("TechniqueDetailCtrl",["$scope","$stateParams","DB","$ionicSlideBoxDelegate",function(e,t,n,o){if(e.image_endpoint="http://www.ifiske.se",e.tech=t.tech,e.images=[],e.tech){var r=e.tech;e.images=[r.img1,r.img2,r.img3].filter(function(e){return!/\/$/.test(e)}),o.update()}else n.getTechnique(t.id).then(function(t){e.images=[t.img1,t.img2,t.img3].filter(function(e){return!/\/$/.test(e)}),o.update(),e.tech=t})}]),angular.module("ifiske.controllers").controller("TechniquesCtrl",["$scope","DB",function(e,t){t.getTechniques().then(function(t){console.log(t),e.techniques=t}),e.image_endpoint="http://www.ifiske.se",e.sortorder="so"}]),angular.module("ifiske.controllers").controller("UserCtrl",["$scope","DB",function(e,t){t.getUserInfo().then(function(t){e.user=t}),t.getUserNumbers().then(function(t){e.numbers=t})}]),angular.module("ifiske.controllers").controller("UserCardsCtrl",["$scope","$stateParams","DB","$ionicModal",function(e,t,n,o){e.pred="-to",e.endpoint="https://www.ifiske.se",e.now=Date.now(),n.getUserProducts().then(function(t){e.products=t},function(e){console.log(e)}),o.fromTemplateUrl("components/area_cards/rules_modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.rules_modal=t}),e.openRulesModal=function(t){e.rules_modal.show(),console.log(t),e.product=t},e.closeRulesModal=function(){e.rules_modal.hide()},e.$on("$destroy",function(){e.rules_modal.remove()})}]),function(e){"use strict";e.module("ifiske.api",["ifiske.utils"]).provider("API",function(){this.base_url="https://www.ifiske.se/api/v2/api.php",this.$get=["$http","sessionData","localStorage","$q",function(t,n,o,r){var i=this.base_url,s=function(n){return r(function(o,r){t({method:"get",url:i,params:e.extend(n,{key:"0123456789abcdef"}),timeout:5e3,cache:!0}).success(function(e){"error"===e.status?r(e.message):o(e)}).error(function(e,t){r(0===t?new Error("Request timeout"):e)})})},l=function(t){var o=n.token;return s(e.extend(t,{s:o}))};return{get_municipalities:function(){return s({m:"get_municipalities"})},get_counties:function(){return s({m:"get_counties"})},user_exists:function(e,t){var n={m:"user_exists"};return"string"==typeof e&&(n.username=e),"string"==typeof t&&(n.email=t),s(n)},user_register:function(e,t,n,o,r){return s({m:"user_register",username:e,fullname:t,password:n,email:o,phone:r})},user_confirm:function(e,t){return s({m:"user_confirm",username:e,pin:t})},user_info:function(){return l({m:"user_info"})},user_login:function(e,t){return s({m:"user_login",username:e,password:t}).then(function(e){return n.setToken(e.data.response),e})},user_logout:function(){l({m:"user_logout"}).then(function(){n.deleteToken()})},user_products:function(){return l({m:"user_products"})},get_fishes:function(){return s({m:"get_fishes"})},get_techniques:function(){return s({m:"get_techniques"})},get_baits:function(){return s({m:"get_baits"})},get_organizations:function(e){return s({m:"get_organizations",orgid:e})},get_org_modified:function(e){return s({m:"get_org_modified",orgid:e})},get_areas:function(e){return s({m:"get_areas",areaid:e})},get_areas_modified:function(e){return s({m:"get_areas_modified",areaid:e})},get_products:function(e){return s({m:"get_products",areaid:e})},get_rules:function(e){return s({m:"get_rules",ruleid:e})},get_photos:function(e,t){return s({m:"get_photos",orgid:e,areaid:t})},get_map_pois:function(e){return s({m:"get_map_pois",orgid:e})},get_map_poi_types:function(){return s({m:"get_map_poi_types"})},get_map_polygons:function(e){return s({m:"get_map_polygons",orgid:e})},user_get_favorites:function(){return l({m:"user_get_favorites"})},get_terms_of_service:function(){return s({m:"get_terms_of_service"})},get_contact_info:function(){return s({m:"get_contact_info"})},get_engine_policies:function(){return s({m:"get_engine_policies"})},get_sms_terms:function(){return s({m:"get_sms_terms"})}}}]})}(window.angular),function(e,t){"use strict";e.module("ifiske.db",[]).provider("DB",function(){this.$get=["$cordovaSQLite","API","$q",function(e,n,o){var r;if(window.sqlitePlugin)r=e.openDB("fiskebasen.db");else{if(!window.openDatabase)return console.log("Not supported on this device, sorry"),t;r=window.openDatabase("fiskebasen.db","1.0","fiskebasen",10485760)}var i={Area:[["ID","int"],["orgid","int"],["t","text"],["kw","text"],["note","text"],["c1","int"],["c2","int"],["c3","int"],["m1","int"],["m2","int"],["m3","int"],["lat","real"],["lng","real"],["zoom","text"],["pnt","int"],["car","int"],["eng","int"],["hcp","int"],["map","text"],["wsc","int"],["mod","int"],["d","text"]],Area_Fish:[["ID","text"],["aid","int"],["fid","int"],["amount","int"],["comment","text"]],Product:[["ID","int"],["t","text"],["t2","text"],["no","text"],["im","text"],["pf","text"],["ai","int"],["ri","int"],["ch","int"],["price","int"],["mod","int"],["so","int"],["hl","text"]],County:[["ID","int"],["s","text"],["t","text"],["d","text"]],Municipality:[["ID","int"],["cID","int"],["name","text"]],Fish:[["ID","int"],["t","text"],["d","text"],["mod","int"],["so","int"],["max","int"],["icon","text"],["img","text"],["in","text"],["geo","text"],["size","text"],["lat","text"],["rec","text"]],Rule:[["ID","int"],["ver","int"],["d","text"],["t","text"]],User_Product:[["ID","int"],["at","int"],["code","int"],["fr","int"],["fullname","text"],["ot","text"],["ref1","int"],["ref2","int"],["t","text"],["to","int"],["pid","int"],["pdf","text"]],User_Info:[["ID","int"],["username","text"],["loggedin","text"],["IP1","text"],["IP2","text"],["name","text"],["email","text"],["created","text"]],User_Number:[["number","text"]],Technique:[["ID","int"],["t","text"],["d","text"],["so","int"],["de","text"],["da","text"],["icon","text"],["img1","text"],["img2","text"],["img3","text"],["youtube","text"]],Organization:[["ID","int"],["t","text"],["d","text"],["cp","text"],["url","text"],["co","int"],["mod","int"],["vat","int"],["dp","int"],["fva","int"],["org","int"],["ml","int"]]},s=function(e){for(var t=[],n=0;n<e.rows.length;++n)t.push(e.rows.item(n));return t};return{populateTable:function(e,t){return o(function(n,o){r.transaction(function(n){n.executeSql("DELETE FROM "+e+";");for(var o in t){for(var r=t[o],s=[],l=0;l<i[e].length;++l)s.push(r[i[e][l][0]]);var u=["INSERT INTO",e,"VALUES(?",",?".repeat(s.length-1),")"].join(" ");n.executeSql(u,s)}},o,n)})},cleanTable:function(e){return o(function(t,n){r.transaction(function(t){t.executeSql("DELETE FROM "+e+";")},n,t)})},clean:function(){return o(function(e,t){r.transaction(function(e){for(var t in i)e.executeSql("DROP TABLE IF EXISTS "+t+";")},t,e)}).then(function(){console.log("Removed all tables")})},init:function(){return o(function(e,t){r.transaction(function(e){for(var t in i){var n=["CREATE TABLE IF NOT EXISTS",t,"(",'"'+i[t].join('___"').split(",").join('" ').split("___").join(", "),", PRIMARY KEY(",'"'+i[t][0][0]+'"',"));"].join(" ");e.executeSql(n)}},t,e)})},getArea:function(t){return o(function(o){e.execute(r,["SELECT *","FROM Area","WHERE id = ?"].join(" "),[t]).then(function(e){var t=s(e)[0];n.get_photos(t.orgid).then(function(e){t.images=e.data.response,o(t)},function(){o(t)})})})},getAreaFishes:function(t){return o(function(n,o){e.execute(r,["SELECT *","FROM Area_Fish","JOIN Fish ON Area_Fish.fid = Fish.ID","WHERE Area_Fish.aid = ?"].join(" "),[t]).then(function(e){n(s(e))},o)})},search:function(t,n){return o(function(o,i){e.execute(r,["SELECT *","FROM Area","WHERE t LIKE ?",n?"AND c1 = ?":"","ORDER BY t"].join(" "),n?["%"+t+"%",n]:["%"+t+"%"]).then(function(e){o(s(e))},i)})},getProduct:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ID = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getProductsByArea:function(t){return o(function(n,o){e.execute(r,["SELECT DISTINCT Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM Product","JOIN Rule ON Rule.ID = Product.ri","WHERE ai = ?","ORDER BY so"].join(" "),[t]).then(function(e){n(s(e))},o)})},getCounties:function(){return o(function(t,n){e.execute(r,["SELECT DISTINCT County.*","FROM County","JOIN Area ON Area.c1 = County.ID","ORDER BY County.t"].join(" ")).then(function(e){t(s(e))},n)})},getUserProducts:function(){return o(function(t,n){e.execute(r,["SELECT User_Product.*,","Rule.t as rule_t,","Rule.ver as rule_ver,","Rule.d as rule_d","FROM User_Product","LEFT JOIN Product ON Product.ID = User_Product.pid","LEFT JOIN Rule ON Rule.ID = Product.ri"].join(" ")).then(function(e){t(s(e))},n)})},getFishes:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Fish"].join(" ")).then(function(e){t(s(e))},n)})},getFish:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Fish","WHERE id = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getTechniques:function(){return o(function(t,n){e.execute(r,["SELECT * FROM Technique"].join(" ")).then(function(e){t(s(e))},n)})},getTechnique:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Technique","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getOrganization:function(t){return o(function(n,o){e.execute(r,["SELECT * FROM Organization","WHERE ID = ?"].join(" "),[t]).then(function(e){n(s(e)[0])},o)})},getUserInfo:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Info"].join(" ")).then(function(e){t(s(e)[0])},n)})},getUserNumbers:function(){return o(function(t,n){e.execute(r,["SELECT *","FROM User_Number"].join(" ")).then(function(e){t(s(e))},n)})}}}]})}(window.angular),angular.module("ifiske.filters",[]).filter("nobrs",function(){return function(e){return e.replace(/(<br>\s*)+/g,"<br>")}}),function(e){"use strict";e.module("ifiske.update",["ifiske.api","ifiske.db","ifiske.utils"]).provider("Update",function(){this.$get=["API","DB","localStorage","$q","$ionicLoading","sessionData",function(e,t,n,o,r,i){var s="last_update",l=function(){return o.all([e.get_areas().then(function(e){var n=[];for(var r in e.data.response){var i=e.data.response[r].fish;for(var s in i)n.push({ID:r+"_"+s,fid:s,aid:r,amount:i[s][0],comment:i[s][1]})}return o.all([t.populateTable("Area",e.data.response),t.populateTable("Area_Fish",n)]).then(function(){console.log("Populated Area")},function(e){return console.log(e),o.reject(e)})}),e.get_products().then(function(e){return t.populateTable("Product",e.data.response).then(function(){console.log("Populated Product")},function(e){return console.log(e),o.reject(e)})}),e.get_counties().then(function(e){return t.populateTable("County",e.data.response).then(function(){console.log("Populated County")},function(e){return console.log(e),o.reject(e)})}),e.get_municipalities().then(function(e){return t.populateTable("Municipality",e.data.response).then(function(){console.log("Populated Municipality")},function(e){return console.log(e),o.reject(e)})}),e.get_fishes().then(function(e){return t.populateTable("Fish",e.data.response).then(function(){console.log("Populated Fish")},function(e){return console.log(e),o.reject(e)})}),e.get_rules().then(function(e){return t.populateTable("Rule",e.data.response).then(function(){console.log("Populated Rule")},function(e){return console.log(e),o.reject(e)})}),e.get_techniques().then(function(e){return t.populateTable("Technique",e.data.response).then(function(){console.log("Populated Technique")},function(e){return console.log(e),o.reject(e)})}),e.get_organizations().then(function(e){return t.populateTable("Organization",e.data.response).then(function(){console.log("Populated Organization")},function(e){return console.log(e),o.reject(e)})})])},u=function(){return o.all([e.user_products().then(function(e){return t.populateTable("User_Product",e.data.response).then(function(){console.log("Populated User_Product")},function(e){return console.log(e),o.reject(e)})}),e.user_info().then(function(e){for(var n=e.data.response.numbers,r=[],i=0;i<n.length;++i)r.push({number:n[i]});return o.all([t.populateTable("User_Info",[e.data.response]).then(function(){console.log("Populated User_Info")},function(t){return console.log(e.data.response),console.log(t),o.reject(t)}),t.populateTable("User_Number",r).then(function(){console.log("Populated User_Numbers")},function(e){return console.log(e),o.reject(e)})])})])},a=function(){return o.all([t.cleanTable("User_Product"),t.cleanTable("User_Number"),t.cleanTable("User_Info")]).then(function(){console.log("Removed user info from database")},function(e){console.log("Could not remove user data from database!",e)})},c=function(c){r.show();var f=Date.now(),d=0;c||(d=n.get(s));var m=6048e5;f-d>m?(t.init().then(function(){return console.log("Initialized DB system"),i.token?o.all([u(),l()]):l()}).then(function(){console.log("Populated all the things"),n.set(s,f),r.hide()},function(o){return 7!==o.error_code?(console.log("Got an error, will try to recreate all tables: ",o),t.clean().then(function(){return t.init()}).then(function(){return l()}).then(function(){console.log("Populated all the things"),n.set(s,f),r.hide()},function(e){console.log("Still error, handle it!",e),r.hide()})):(a(),e.user_logout(),r.hide(),void 0)}),e.get_terms_of_service().then(function(e){n.set("tos",e.data.response)}),e.get_sms_terms().then(function(e){n.set("sms_terms",e.data.response)}),e.get_contact_info().then(function(e){n.set("contactInfo",e.data.response)})):i.token?t.init().then(function(){console.log("Initialized DB system"),i.token&&u().then(function(){r.hide()},function(){r.hide()}),r.hide()}):(console.log("no_update"),r.hide())};return{update:function(){c()},forcedUpdate:function(){c(!0)},user_logout:function(){a(),e.user_logout()},user_login:function(t,n){return e.user_login(t,n).then(function(){c()})},last_update:function(){return n.get(s)}}}]})}(window.angular),angular.module("ifiske.utils",[]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)}}}]).service("sessionData",["localStorage",function(e){this.token=e.get("session"),this.setToken=function(t){e.set("session",t),this.token=t,console.log("token set")},this.deleteToken=function(){e.remove("session"),this.token=null,console.log("token unset")}}]),angular.module("ngCordovaSms",[]).directive("ngCordovaSms",["$cordovaSms","$ionicPopup",function(e,t){"use strict";return{restrict:"A",link:function(n,o,r){o.on("click",function(n){n.preventDefault(),t.prompt({title:"Skriv in ditt namn",inputType:"text"}).then(function(t){var n="FISKA "+r.ngCordovaSms+" "+t;e.send("72456",n,"INTENT",function(){console.log("succuess")},function(e){console.log(e)})})})}}}]),angular.module("ifiske.directives").directive("ifiskeInput",function(){return{restrict:"E",transclude:!0,scope:{name:"@",id:"@",label:"@",placeholder:"@",type:"@",ngPattern:"@",ngModel:"=?"},templateUrl:"directives/input_field/ifiske_input.html",controller:function(e){e.id=e.id||e.name,e.type=e.type||"text"}}}),angular.module("systemBrowser",[]).directive("systemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){e.open(n[0].href,"_system"),t.preventDefault()})}}}]).directive("globalSystemBrowser",["$cordovaInAppBrowser",function(e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(t){t.target.href&&t.target.host!==window.location.host&&(e.open(t.target.href,"_system"),t.preventDefault())})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0X2NvbnRyb2xsZXIuanMiLCJhcmVhMi9hcmVhMl9jb250cm9sbGVyLmpzIiwiYXJlYV9saXN0L2FyZWFfbGlzdF9jb250cm9sbGVyLmpzIiwiY29udGFjdC9jb250YWN0X2NvbnRyb2xsZXIuanMiLCJjb3VudGllcy9jb3VudGllc19jb250cm9sbGVyLmpzIiwiZmlzaF9kZXRhaWwvZmlzaF9kZXRhaWxfY29udHJvbGxlci5qcyIsImZpc2hlcy9maXNoZXNfY29udHJvbGxlci5qcyIsImhvbWUvaG9tZV9jb250cm9sbGVyLmpzIiwibGVnYWwvbGVnYWxfY29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luX2NvbnRyb2xsZXIuanMiLCJtYXAvbWFwX2NvbnRyb2xsZXIuanMiLCJtZW51L21lbnVfY29udHJvbGxlci5qcyIsInJlZ2lzdGVyL3JlZ2lzdGVyX2NvbnRyb2xsZXIuanMiLCJ0ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWxfY29udHJvbGxlci5qcyIsInRlY2huaXF1ZXMvdGVjaG5pcXVlc19jb250cm9sbGVyLmpzIiwidXNlci91c2VyX2NvbnRyb2xsZXIuanMiLCJ1c2VyX2NhcmRzL3VzZXJfY2FyZHNfY29udHJvbGxlci5qcyIsImFwaS5qcyIsImRiLmpzIiwiZmlsdGVyLmpzIiwidXBkYXRlLmpzIiwidXRpbHMuanMiLCJpZmlza2Vfc21zL2lmaXNrZV9zbXMuanMiLCJpbnB1dF9maWVsZC9pZmlza2VfaW5wdXQuanMiLCJzeXN0ZW1fYnJvd3Nlci9zeXN0ZW1fYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZSIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiVXBkYXRlIiwiSW1nQ2FjaGUiLCJyZWFkeSIsIndpbmRvdyIsImlvbmljIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCIkaW5pdCIsInVwZGF0ZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJJbWdDYWNoZVByb3ZpZGVyIiwic2V0T3B0aW9ucyIsImRlYnVnIiwidXNlUGVyc2lzdGVudENhY2hlIiwibWFudWFsSW5pdCIsInZpZXdzIiwiZm9yd2FyZENhY2hlIiwiYmFja0J1dHRvbiIsInByZXZpb3VzVGl0bGVUZXh0IiwidGV4dCIsInRhYnMiLCJwb3NpdGlvbiIsImRlZmF1bHRVcmwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInBhcmFtcyIsImlkIiwiY291bnR5Iiwic2VhcmNoIiwiZmlzaCIsInRlY2giLCJpbmZvIiwiZmlzaGluZm8iLCJjYXJkcyIsIiRzY29wZSIsIiRjb3Jkb3ZhQXBwVmVyc2lvbiIsInZlcnNpb24iLCJkYkRhdGUiLCJsYXN0X3VwZGF0ZSIsImNvcmRvdmEiLCJnZXRBcHBWZXJzaW9uIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCIkaW9uaWNIaXN0b3J5IiwiJHJvb3RTY29wZSIsIiRpb25pY1ZpZXdTd2l0Y2hlciIsIiRzdGF0ZVBhcmFtcyIsIkRCIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY01vZGFsIiwidGFic0JhY2siLCJ2aWV3SGlzdG9yeSIsImN1cnJlbnRWaWV3IiwiaW5kZXgiLCIkaW9uaWNHb0JhY2siLCJuZXh0RGlyZWN0aW9uIiwiJGVtaXQiLCJoaXN0b3J5SWQiLCJnZXQiLCJpbWFnZV9lbmRwb2ludCIsImdldEFyZWEiLCJhcmVhIiwiaW1hZ2VzIiwiZ2V0T3JnYW5pemF0aW9uIiwib3JnaWQiLCJvcmciLCJlcnIiLCJnZXRBcmVhRmlzaGVzIiwiZmlzaGVzIiwiZ2V0UHJvZHVjdHNCeUFyZWEiLCJwcm9kdWN0cyIsInNvcnRvcmRlciIsInNtc3Rlcm1zIiwicHJlZGljYXRlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsInNtc19tb2RhbCIsIm9wZW5Nb2RhbCIsInByb2R1Y3QiLCJzaG93IiwiY2xvc2VNb2RhbCIsImhpZGUiLCJzaG93VGVybXMiLCJzaG93aW5ndGVybXMiLCJydWxlc19tb2RhbCIsIm9wZW5SdWxlc01vZGFsIiwiY2xvc2VSdWxlc01vZGFsIiwiJG9uIiwicmVtb3ZlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCIkIiwicXVlcnlCeSIsImRhdGEiLCJhcmVhcyIsImNsZWFyU2VhcmNoIiwic2Nyb2xsVG9wIiwiJHN0YXRlIiwiY29udGFjdEluZm8iLCJnZXRDb3VudGllcyIsImNvdW50aWVzIiwiZ2V0RmlzaCIsImdldEZpc2hlcyIsImRlZmF1bHRfaW1nIiwiaW1nIiwic2Vzc2lvbkRhdGEiLCJsb2dnZWRJbiIsInNldCIsImN1cnJlbnRIaXN0b3J5SWQiLCJteUZ1bmMiLCIkZXZlbnQiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJnbyIsInNyY0VsZW1lbnQiLCJ2YWx1ZSIsInRvcyIsIiRpb25pY0xvYWRpbmciLCJzaWduSW4iLCJsb2dpbkZvcm0iLCJ1c2VyX2xvZ2luIiwidXNlcm5hbWUiLCIkdmlld1ZhbHVlIiwicGFzc3dvcmQiLCIkc2V0VmFsaWRpdHkiLCJlcnJvciIsInJlc3BvbnNlIiwibGVhZmxldERhdGEiLCJnZXRNYXAiLCJtYXAiLCJtYXJrZXJzIiwiTCIsIk1hcmtlckNsdXN0ZXJHcm91cCIsImkiLCJsZW5ndGgiLCJhZGRMYXllciIsIk1hcmtlciIsImxhdCIsImxuZyIsIiRpb25pY1BvcG92ZXIiLCJwb3BvdmVyIiwidXNlcmluZm8iLCJsb2dvdXQiLCJ1c2VyX2xvZ291dCIsImxvZ2luIiwicmVnaXN0ZXIiLCJmb3JjZWRVcGRhdGUiLCJBUEkiLCJjaGVja1VzZXJuYW1lIiwiaW5wdXQiLCJ1c2VyX2V4aXN0cyIsImNoZWNrRW1haWwiLCJmb3JtRXJyb3JzIiwiZm9ybSIsInBob25lIiwiZnVsbG5hbWUiLCJlbWFpbCIsInVzZXJfcmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25FcnJvciIsImVycm9yX2NvZGUiLCJ2ZXJpZnkiLCJ2ZXJjb2RlIiwidXNlcl9jb25maXJtIiwiZXVsYSIsInNob3dFdWxhIiwiY2xvc2VFdWxhIiwiaW1nMSIsImltZzIiLCJpbWczIiwiZmlsdGVyIiwiZWwiLCJ0ZXN0IiwiZ2V0VGVjaG5pcXVlIiwiZ2V0VGVjaG5pcXVlcyIsInRlY2huaXF1ZXMiLCJnZXRVc2VySW5mbyIsInVzZXIiLCJnZXRVc2VyTnVtYmVycyIsIm51bWJlcnMiLCJwcmVkIiwiZW5kcG9pbnQiLCJub3ciLCJEYXRlIiwiZ2V0VXNlclByb2R1Y3RzIiwicHJvdmlkZXIiLCJ0aGlzIiwiYmFzZV91cmwiLCIkZ2V0IiwiJGh0dHAiLCIkcSIsImFwaV9jYWxsIiwiZnVsZmlsbCIsInJlamVjdCIsIm1ldGhvZCIsImV4dGVuZCIsImtleSIsInRpbWVvdXQiLCJjYWNoZSIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJtZXNzYWdlIiwiRXJyb3IiLCJzZXNzaW9uX2FwaV9jYWxsIiwic2Vzc2lvbiIsInRva2VuIiwicyIsImdldF9tdW5pY2lwYWxpdGllcyIsIm0iLCJnZXRfY291bnRpZXMiLCJhcmdzIiwicGluIiwidXNlcl9pbmZvIiwic2V0VG9rZW4iLCJkZWxldGVUb2tlbiIsInVzZXJfcHJvZHVjdHMiLCJnZXRfZmlzaGVzIiwiZ2V0X3RlY2huaXF1ZXMiLCJnZXRfYmFpdHMiLCJnZXRfb3JnYW5pemF0aW9ucyIsImdldF9vcmdfbW9kaWZpZWQiLCJnZXRfYXJlYXMiLCJhcmVhaWQiLCJnZXRfYXJlYXNfbW9kaWZpZWQiLCJnZXRfcHJvZHVjdHMiLCJnZXRfcnVsZXMiLCJydWxlaWQiLCJnZXRfcGhvdG9zIiwiZ2V0X21hcF9wb2lzIiwiZ2V0X21hcF9wb2lfdHlwZXMiLCJnZXRfbWFwX3BvbHlnb25zIiwidXNlcl9nZXRfZmF2b3JpdGVzIiwiZ2V0X3Rlcm1zX29mX3NlcnZpY2UiLCJnZXRfY29udGFjdF9pbmZvIiwiZ2V0X2VuZ2luZV9wb2xpY2llcyIsImdldF9zbXNfdGVybXMiLCJ1bmRlZmluZWQiLCIkY29yZG92YVNRTGl0ZSIsImRiIiwic3FsaXRlUGx1Z2luIiwib3BlbkRCIiwib3BlbkRhdGFiYXNlIiwidGFibGVEZWYiLCJBcmVhIiwiQXJlYV9GaXNoIiwiUHJvZHVjdCIsIkNvdW50eSIsIk11bmljaXBhbGl0eSIsIkZpc2giLCJSdWxlIiwiVXNlcl9Qcm9kdWN0IiwiVXNlcl9JbmZvIiwiVXNlcl9OdW1iZXIiLCJUZWNobmlxdWUiLCJPcmdhbml6YXRpb24iLCJjcmVhdGVPYmplY3QiLCJyZXR2YWwiLCJyb3dzIiwicHVzaCIsIml0ZW0iLCJwb3B1bGF0ZVRhYmxlIiwidGFibGUiLCJ0cmFuc2FjdGlvbiIsInR4IiwiZXhlY3V0ZVNxbCIsInNpbmdsZURhdGEiLCJpbnNlcnREYXRhIiwicXVlcnkiLCJyZXBlYXQiLCJqb2luIiwiY2xlYW5UYWJsZSIsImNsZWFuIiwiaW5pdCIsInNwbGl0IiwiZXhlY3V0ZSIsIm9iamVjdCIsImFpZCIsInNlYXJjaHN0cmluZyIsImNvdW50eV9pZCIsImdldFByb2R1Y3QiLCJwcm9kdWN0X2lkIiwiYXJlYV9pZCIsInJlcGxhY2UiLCJMQVNUX1VQREFURSIsInBvcHVsYXRlIiwiYWxsIiwiZmlzaEFyciIsImZpc2hLZXkiLCJJRCIsImZpZCIsImFtb3VudCIsImNvbW1lbnQiLCJwb3B1bGF0ZVVzZXIiLCJudW1BcnIiLCJudW1iZXIiLCJjbGVhblVzZXIiLCJ1cGRhdGVGdW5jIiwiZm9yY2VkIiwiY3VycmVudFRpbWUiLCJsYXN0VXBkYXRlIiwiYVdlZWsiLCJ0ZXJtcyIsImZhY3RvcnkiLCIkd2luZG93Iiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJzZXJ2aWNlIiwidCIsImRpcmVjdGl2ZSIsIiRjb3Jkb3ZhU21zIiwiJGlvbmljUG9wdXAiLCJyZXN0cmljdCIsImxpbmsiLCJhdHRycyIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvbXB0IiwidGl0bGUiLCJpbnB1dFR5cGUiLCJuYW1lIiwibmdDb3Jkb3ZhU21zIiwic2VuZCIsInRyYW5zY2x1ZGUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwidHlwZSIsIm5nUGF0dGVybiIsIm5nTW9kZWwiLCIkY29yZG92YUluQXBwQnJvd3NlciIsIm9wZW4iLCJocmVmIiwidGFyZ2V0IiwiaG9zdCIsImxvY2F0aW9uIl0sIm1hcHBpbmdzIjoiQUFLQUEsUUFBQUMsT0FBQSxVQUNBLFFBQ0EscUJBQ0Esb0JBQ0EsYUFDQSxZQUNBLGVBQ0EsZ0JBQ0EsaUJBQ0EseUJBQ0EsWUFDQSxnQkFDQSxlQUNBLGFBQ0EsV0FDQSxzQkFFQUMsU0FBQSx1QkFDQUMsU0FBQSxnQ0FHQUMsS0FBQSxpQkFBQSxTQUFBLFdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQUYsRUFBQUcsTUFBQSxXQUdBQyxPQUFBQyxPQUFBRCxPQUFBQyxNQUFBQyxVQUNBRixPQUFBQyxNQUFBQyxTQUFBQywwQkFBQSxHQUVBSCxPQUFBSSxXQUVBQSxVQUFBQyxlQUdBUCxFQUFBUSxRQUNBVCxFQUFBVSxjQUlBQyxRQUFBLGlCQUFBLHFCQUFBLHVCQUFBLG1CQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUFBLEVBQUFDLFlBQ0FDLE9BQUEsRUFDQUMsb0JBQUEsSUFFQUgsRUFBQUksWUFBQSxFQUtBTCxFQUFBTSxNQUFBQyxjQUFBLEdBR0FQLEVBQUFRLFdBQUFDLG1CQUFBLEdBQUFDLEtBQUEsSUFHQVYsRUFBQVcsS0FBQUMsU0FBQSxTQU9BLElBQUFDLEdBQUEsY0FDQXhCLFFBQUF5QixhQUFBQyxRQUFBLGFBQ0FGLEVBQUEsY0FFQWQsRUFBQWlCLFVBQUFILEdBSUFmLEVBRUFtQixNQUFBLFNBQ0FDLElBQUEsU0FDQUMsWUFBQSxFQUNBQyxZQUFBLGdDQUVBSCxNQUFBLGVBQ0FDLElBQUEsU0FDQUUsWUFBQSw4QkFDQUMsV0FBQSxjQUVBSixNQUFBLGtCQUNBQyxJQUFBLFlBQ0FFLFlBQUEsb0NBQ0FDLFdB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QUNBLFlBQ0EsUUFDQWxCLFNBQUEsSUFDQUMsS0FBQSxTQUFBN08sRUFBQWdHLEdBQ0FBLEVBQUErSSxHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQWlCLE9BQUFELE1BQUFoQixFQUFBaUIsT0FBQUMsT0FBQXRWLE9BQUF1VixTQUFBRCxPQUNBSixFQUFBQyxLQUFBZixFQUFBaUIsT0FBQUQsS0FBQSxXQUNBaEIsRUFBQUMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAnaWZpc2tlJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIGV4YW1wbGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ2lmaXNrZS5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcblxuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZScsIFtcbiAgICAnaW9uaWMnLFxuICAgICdpZmlza2UuY29udHJvbGxlcnMnLFxuICAgICdpZmlza2UuZGlyZWN0aXZlcycsXG4gICAgJ2lmaXNrZS5hcGknLFxuICAgICdpZmlza2UuZGInLFxuICAgICdpZmlza2UudXRpbHMnLFxuICAgICdpZmlza2UudXBkYXRlJyxcbiAgICAnaWZpc2tlLmZpbHRlcnMnLFxuICAgICdpb25pYy5pb24uaGVhZGVyU2hyaW5rJyxcbiAgICAnbmdDb3Jkb3ZhJyxcbiAgICAnc3lzdGVtQnJvd3NlcicsXG4gICAgJ25nQ29yZG92YVNtcycsXG4gICAgJ25nTWVzc2FnZXMnLFxuICAgICdJbWdDYWNoZScsXG4gICAgJ2xlYWZsZXQtZGlyZWN0aXZlJ1xuXSlcbi5jb25zdGFudCgnJGlvbmljTG9hZGluZ0NvbmZpZycsIHtcbiAgICB0ZW1wbGF0ZTogJzxpb24tc3Bpbm5lcj48L2lvbi1zcGlubmVyPidcbiAgICAvLyBoaWRlT25TdGF0ZUNoYW5nZTogdHJ1ZVxufSlcbi5ydW4oWyckaW9uaWNQbGF0Zm9ybScsICdVcGRhdGUnLCAnSW1nQ2FjaGUnLCBmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlLCBJbWdDYWNoZSkge1xuICAgICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBIaWRlIHRoZSBhY2Nlc3NvcnkgYmFyIGJ5IGRlZmF1bHQgKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkXG4gICAgICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICAgICAgaWYod2luZG93LmlvbmljICYmIHdpbmRvdy5pb25pYy5LZXlib2FyZCkge1xuICAgICAgICAgICAgd2luZG93LmlvbmljLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZih3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAgICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICAgICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBJbWdDYWNoZS4kaW5pdCgpO1xuICAgICAgICBVcGRhdGUudXBkYXRlKCk7XG4gICAgfSk7XG59XSlcblxuLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckaW9uaWNDb25maWdQcm92aWRlcicsICdJbWdDYWNoZVByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIEltZ0NhY2hlUHJvdmlkZXIpIHtcblxuICAgIEltZ0NhY2hlUHJvdmlkZXIuc2V0T3B0aW9ucyh7XG4gICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICB1c2VQZXJzaXN0ZW50Q2FjaGU6IHRydWVcbiAgICB9KTtcbiAgICBJbWdDYWNoZVByb3ZpZGVyLm1hbnVhbEluaXQgPSB0cnVlO1xuXG5cblxuICAgIC8vIENhY2hlIHZpZXdzIGluIHRoZSBmb3J3YXJkIHN0YWNrXG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIudmlld3MuZm9yd2FyZENhY2hlKHRydWUpO1xuXG4gICAgLy8gQ2xlYXIgYmFjayBidXR0b24gZGVmYXVsdCB0ZXh0XG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIuYmFja0J1dHRvbi5wcmV2aW91c1RpdGxlVGV4dChmYWxzZSkudGV4dCgnJyk7XG5cbiAgICAvLyBUYWJzIHBvc2l0aW9uXG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIudGFicy5wb3NpdGlvbignYm90dG9tJyk7XG5cbiAgICAvKipcbiAgICAgKiBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIuIExlYXJuIG1vcmUgaGVyZTpcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXJcbiAgICAgKi9cblxuICAgIHZhciBkZWZhdWx0VXJsID0gJy9zdGFydC9sb2dpbic7XG4gICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpKSB7XG4gICAgICAgIGRlZmF1bHRVcmwgPSAnL21lbnUvaG9tZSc7XG4gICAgfVxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoZGVmYXVsdFVybCk7XG5cblxuXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAvLyBBYnN0cmFjdCBwcmUtbWVudSBzdGF0ZS4gTmVlZGVkIGZvciBuYXZpZ2F0aW9uIGJldHdlZW4gbG9naW4gYW5kIHJlZ2lzdGVyIHZpZXdzLlxuICAgIC5zdGF0ZSgnc3RhcnQnLCB7XG4gICAgICAgIHVybDogJy9zdGFydCcsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3RhcnQvc3RhcnQuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQubG9naW4nLCB7XG4gICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sb2dpbi9sb2dpbi5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQucmVnaXN0ZXInLCB7XG4gICAgICAgIHVybDogJy9yZWdpc3RlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1JlZ2lzdGVyQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnc3RhcnQucmVnaXN0ZXIuZGV0YWlscycsIHtcbiAgICAgICAgdXJsOiAnL2RldGFpbHMnLFxuXHR0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfZGV0YWlscy5odG1sJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdzdGFydC5yZWdpc3Rlci52ZXJpZnknLCB7XG4gICAgICAgIHVybDogJy92ZXJpZnknLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXJfdmVyaWZ5Lmh0bWwnXG4gICAgfSlcblxuICAgIC8vIEFic3RyYWN0IG1lbnUgc3RhdGUuIFwiUm9vdFwiIHN0YXRlIG9uY2Ugd2UncmUgcGFzdCB0aGUgbG9naW4gc3RhdGUuXG4gICAgLnN0YXRlKCdtZW51Jywge1xuICAgICAgICB1cmw6ICcvbWVudScsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWVudS9tZW51Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTWVudUN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuaG9tZScsIHtcbiAgICAgICAgdXJsOiAnL2hvbWUnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaG9tZS9ob21lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnSG9tZUN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuaW5mbycsIHtcbiAgICAgICAgdXJsOiAnL2luZm8nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaW5mby9pbmZvLmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuYnVncycsIHtcbiAgICAgICAgdXJsOiAnL2luZm8nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWVudS9yZXBvcnQuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5jb250YWN0Jywge1xuICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9jb250YWN0L2NvbnRhY3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb250YWN0Q3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5sZWdhbCcsIHtcbiAgICAgICAgdXJsOiAnL2xlZ2FsJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xlZ2FsL2xlZ2FsLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTGVnYWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmFib3V0Jywge1xuICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYWJvdXQvYWJvdXQuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBYm91dEN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUudXNlcmluZm8nLCB7XG4gICAgICAgIHVybDogJy91c2VyaW5mbycsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyL3VzZXIuaHRtbCcsXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuY291bnRpZXMnLCB7XG4gICAgICAgIHVybDogJy9jb3VudGllcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9jb3VudGllcy9jb3VudGllcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0NvdW50aWVzQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVudS5hcmVhcycsIHtcbiAgICAgICAgdXJsOiAnL2FyZWFzJyxcbiAgICAgICAgcGFyYW1zOiB7J2lkJzogZmFsc2UsICdjb3VudHknOiBmYWxzZSwgJ3NlYXJjaCc6ICcnfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FyZWFfbGlzdC9hcmVhX2xpc3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBcmVhc0N0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuY2FyZHMnLCB7XG4gICAgICAgIHVybDogJy9jYXJkcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2VyX2NhcmRzL3VzZXJfY2FyZHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ2FyZHNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmZhdm9yaXRlcycsIHtcbiAgICAgICAgdXJsOiAnL2Zhdm9yaXRlcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9mYXZvcml0ZXMvZmF2b3JpdGVzLmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUuZmlzaGVzJywge1xuICAgICAgICB1cmw6ICcvZmlzaGVzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hlcy9maXNoZXMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdGaXNoZXNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LmZpc2hkZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9maXNoZGV0YWlsLzppZCcsXG4gICAgICAgIHBhcmFtczogeydpZCc6IGZhbHNlLCAnZmlzaCc6IGZhbHNlfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2Zpc2hfZGV0YWlsL2Zpc2hfZGV0YWlsLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnRmlzaERldGFpbEN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ21lbnUubWFwJywge1xuICAgICAgICB1cmw6ICcvbWFwJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21hcC9tYXAuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdNYXBDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnRlY2huaXF1ZXMnLCB7XG4gICAgICAgIHVybDogJy90ZWNobmlxdWVzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RlY2huaXF1ZXMvdGVjaG5pcXVlcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlY2huaXF1ZXNDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnRlY2huaXF1ZWRldGFpbCcsIHtcbiAgICAgICAgdXJsOiAnL3RlY2huaXF1ZWRldGFpbC86aWQnLFxuICAgICAgICBwYXJhbXM6IHsnaWQnOiBmYWxzZSwgJ3RlY2gnOiBmYWxzZX0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZWNobmlxdWVfZGV0YWlsL3RlY2huaXF1ZV9kZXRhaWwuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWNobmlxdWVEZXRhaWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZW51LnJlcG9ydCcsIHtcbiAgICAgICAgdXJsOiAnL3JlcG9ydCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZXBvcnQvcmVwb3J0Lmh0bWwnXG4gICAgfSlcblxuICAgIC5zdGF0ZSgnYXJlYWRldGFpbDInLCB7XG4gICAgICAgIGFic3RyYWN0OnRydWUsXG4gICAgICAgIHVybDogJy9hcmVhZGV0YWlsLzppZCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhMi9hcmVhLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQXJlYUN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ2FyZWFkZXRhaWwyLmluZm8nLCB7XG4gICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICdpbmZvJzoge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhL2FyZWEuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdhcmVhZGV0YWlsMi5maXNoaW5mbycsIHtcbiAgICAgICAgdXJsOiAnL2Zpc2hpbmZvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICdmaXNoaW5mbyc6IHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYXJlYV9maXNoL2FyZWFfZmlzaC5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ2FyZWFkZXRhaWwyLmNhcmRzJywge1xuICAgICAgICB1cmw6ICcvY2FyZHMnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgJ2NhcmRzJzoge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hcmVhX2NhcmRzL2FyZWFfY2FyZHMuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJywgW10pO1xuYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5kaXJlY3RpdmVzJywgW10pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIFsnJHNjb3BlJywnJGNvcmRvdmFBcHBWZXJzaW9uJywgJyRpb25pY1BsYXRmb3JtJywgJ1VwZGF0ZScsIGZ1bmN0aW9uKCRzY29wZSwgJGNvcmRvdmFBcHBWZXJzaW9uLCAkaW9uaWNQbGF0Zm9ybSwgVXBkYXRlKSB7XG5cdCRzY29wZS52ZXJzaW9uID0gJHNjb3BlLmRiRGF0ZSA9ICdPa8OkbnQnO1xuICAgICRzY29wZS5kYkRhdGUgPSBVcGRhdGUubGFzdF91cGRhdGUoKTtcblxuXHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcblx0ICAgIGlmICh3aW5kb3cuY29yZG92YSkge1xuXHRcdCRjb3Jkb3ZhQXBwVmVyc2lvbi5nZXRBcHBWZXJzaW9uKCkudGhlbihmdW5jdGlvbih2ZXJzaW9uKSB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKHZlcnNpb24pO1xuXHRcdCAgICAkc2NvcGUudmVyc2lvbiA9IHZlcnNpb247XG5cdFx0fSk7XG5cdCAgICB9XG5cdH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQXJlYUN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRpb25pY0hpc3RvcnknLFxuICAgICdsb2NhbFN0b3JhZ2UnLFxuICAgICckcm9vdFNjb3BlJyxcbiAgICAnJGlvbmljVmlld1N3aXRjaGVyJyxcbiAgICAnJHN0YXRlUGFyYW1zJyxcbiAgICAnREInLFxuICAgICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgICAnJGlvbmljTW9kYWwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGlvbmljSGlzdG9yeSwgbG9jYWxTdG9yYWdlLCAkcm9vdFNjb3BlLCAkaW9uaWNWaWV3U3dpdGNoZXIsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY1NsaWRlQm94RGVsZWdhdGUsICRpb25pY01vZGFsKSB7XG5cbiAgICAgICAgJHNjb3BlLnRhYnNCYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCB2aWV3IGlzIGF0IHRoZSB0b3Agb2YgaXRzIGhpc3Rvcnkgc3RhY2tcbiAgICAgICAgICAgIGlmKCEkaW9uaWNIaXN0b3J5LnZpZXdIaXN0b3J5KCkuY3VycmVudFZpZXcuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTd2l0Y2ggdG8gdGhlIGhvbWUgaGlzdG9yeSBzdGFja1xuICAgICAgICAgICAgICAgICAqIFNlZSAkaW9uaWNIaXN0b3J5IHNvdXJjZSBmb3IgdGhlIGV2ZW4gaGFuZGxlciB1c2VkXG4gICAgICAgICAgICAgICAgICogU2VlIGhvbWVfY29udHJvbGxlci5qcyBmb3IgdGhlIGhpc3RvcnlJZCB1c2VkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgJGlvbmljVmlld1N3aXRjaGVyLm5leHREaXJlY3Rpb24oJ2JhY2snKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJyRpb25pY0hpc3RvcnkuY2hhbmdlJywge1xuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5SWQ6IGxvY2FsU3RvcmFnZS5nZXQoJ2hvbWVIaXN0b3J5SWQnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGJhY2sgYWN0aW9uXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kaW9uaWNHb0JhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuXG4gICAgICAgIC8vIEFyZWFpbmZvXG4gICAgICAgIERCLmdldEFyZWEoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihhcmVhKSB7XG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2VzID0gYXJlYS5pbWFnZXM7XG5cbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgICAgICAgICAkc2NvcGUuYXJlYSA9IGFyZWE7XG5cbiAgICAgICAgICAgIERCLmdldE9yZ2FuaXphdGlvbihhcmVhLm9yZ2lkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob3JnKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZyA9IG9yZztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIERCLmdldEFyZWFGaXNoZXMoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihmaXNoZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpc2hlcyk7XG4gICAgICAgICAgICAkc2NvcGUuZmlzaGVzID0gZmlzaGVzO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBEQi5nZXRQcm9kdWN0c0J5QXJlYSgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICAkc2NvcGUucHJvZHVjdHMgPSBwcm9kdWN0cztcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBcmVhIGZpc2hlc1xuICAgICAgICAkc2NvcGUuc29ydG9yZGVyID0gJy1hbW91bnQnO1xuXG4gICAgICAgIC8vQXJlYV9DYXJkc1xuICAgICAgICAkc2NvcGUuc21zdGVybXMgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdzbXNfdGVybXMnKTtcbiAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9IFwic29cIjtcblxuXG4gICAgICAgIC8vU01TLW1vZGFsXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5vcGVuTW9kYWwgPSBmdW5jdGlvbihwcm9kdWN0KSB7XG4gICAgICAgICAgICAkc2NvcGUuc21zX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmNsb3NlTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5zbXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2hvd1Rlcm1zID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd2luZ3Rlcm1zID0gISRzY29wZS5zaG93aW5ndGVybXM7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93aW5ndGVybXMgPSBmYWxzZTtcblxuICAgICAgICAvL1J1bGVzIG1vZGFsXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmNsb3NlUnVsZXNNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLmhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnNtc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0FyZWFzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScgLCdEQicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSAsREIpIHtcblxuICAgICRzY29wZS5zZWFyY2ggPSB7JyQnOiAkc3RhdGVQYXJhbXMuc2VhcmNofTtcbiAgICAkc2NvcGUucXVlcnlCeSA9ICckJztcbiAgICAkc2NvcGUuY291bnR5ID0gJHN0YXRlUGFyYW1zLmNvdW50eTtcbiAgICBEQi5zZWFyY2goJycsICRzdGF0ZVBhcmFtcy5pZClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuYXJlYXMgPSBkYXRhO1xuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICAgICRzY29wZS5jbGVhclNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvL3RvZG86IGNsZWFyIHNlYXJjaCBmaWVsZFxuICAgIH07XG4gICAgJHNjb3BlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUb3AoKTtcbiAgICB9O1xuXG59XSk7XG5cbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NvbnRhY3RDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2xvY2FsU3RvcmFnZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgJHNjb3BlLmNvbnRhY3RJbmZvID0gbG9jYWxTdG9yYWdlLmdldCgnY29udGFjdEluZm8nKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NvdW50aWVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldENvdW50aWVzKClcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRzY29wZS5jb3VudGllcyA9IGRhdGE7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdGaXNoRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBEQikge1xuICAgICRzY29wZS5maXNoID0gJHN0YXRlUGFyYW1zLmZpc2g7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICBpZighJHNjb3BlLmZpc2gpIHtcbiAgICAgICAgREIuZ2V0RmlzaCgkc3RhdGVQYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS5maXNoID0gZGF0YTtcbiAgICBjb25zb2xlLmxvZygkc2NvcGUuZmlzaCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCRzY29wZS5maXNoKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0Zpc2hlc0N0cmwnLCBbJyRzY29wZScsICdEQicsIGZ1bmN0aW9uKCRzY29wZSwgREIpIHtcbiAgICAkc2NvcGUuc29ydG9yZGVyID0gJ3NvJztcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgIERCLmdldEZpc2hlcygpXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAkc2NvcGUuZmlzaGVzID0gZGF0YTtcbiAgICAgICAgJHNjb3BlLmRlZmF1bHRfaW1nID0gZGF0YVswXS5pbWc7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdIb21lQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJGlvbmljSGlzdG9yeScsXG4gICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgJ3Nlc3Npb25EYXRhJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljSGlzdG9yeSwgbG9jYWxTdG9yYWdlLCBzZXNzaW9uRGF0YSkge1xuXG4gICAgICAgICRzY29wZS5sb2dnZWRJbiA9IHNlc3Npb25EYXRhO1xuXG4gICAgICAgIC8vIEN1cnJlbnQgaGlzdG9yeSBzdGFjayBJZC4gU2VlIGFyZWFfY29udHJvbGxlciBmb3IgdXNhZ2UuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2hvbWVIaXN0b3J5SWQnLCAkaW9uaWNIaXN0b3J5LmN1cnJlbnRIaXN0b3J5SWQoKSk7XG5cbiAgICAgICAgJHNjb3BlLm15RnVuYyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgaWYoJGV2ZW50LmtleUNvZGUgPT0gMTMgJiYgISRldmVudC5zaGlmdEtleSkgeyAvL2lmIGVudGVyLWtleVxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbWVudS5hcmVhcycsIHtzZWFyY2g6ICRldmVudC5zcmNFbGVtZW50LnZhbHVlfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0xlZ2FsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgbG9jYWxTdG9yYWdlKSB7XG4gICAgJHNjb3BlLnRvcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3RvcycpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ1VwZGF0ZScsICckaW9uaWNMb2FkaW5nJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIFVwZGF0ZSwgJGlvbmljTG9hZGluZykge1xuICAgIC8vJHNjb3BlLnVzZXIgPSB7fTtcbiAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24obG9naW5Gb3JtKSB7XG4gICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgIFVwZGF0ZS51c2VyX2xvZ2luKGxvZ2luRm9ybS51c2VybmFtZS4kdmlld1ZhbHVlLCBsb2dpbkZvcm0ucGFzc3dvcmQuJHZpZXdWYWx1ZSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICBsb2dpbkZvcm0uJHNldFZhbGlkaXR5KFwibG9naW5FcnJvclwiLCB0cnVlKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnbWVudS5ob21lJyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgIGxvZ2luRm9ybS4kc2V0VmFsaWRpdHkoXCJsb2dpbkVycm9yXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICRzY29wZS5lcnJvciA9IGVycm9yLnJlc3BvbnNlO1xuICAgICAgICB9KTtcbiAgICB9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWFwQ3RybCcsIFtcbiAgICAnJHNjb3BlJyxcbiAgICAnbGVhZmxldERhdGEnLFxuICAgICdEQicsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgREIpIHtcbiAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICAgIERCLnNlYXJjaCgnJykudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IG5ldyBMLk1hcmtlckNsdXN0ZXJHcm91cCgpO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkTGF5ZXIobmV3IEwuTWFya2VyKFtkYXRhW2ldLmxhdCwgZGF0YVtpXS5sbmddKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihtYXJrZXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01lbnVDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGUnLFxuICAgICckaW9uaWNQb3BvdmVyJyxcbiAgICAnc2Vzc2lvbkRhdGEnLFxuICAgICdVcGRhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaW9uaWNQb3BvdmVyLCBzZXNzaW9uRGF0YSwgVXBkYXRlKSB7XG5cbiAgICAkc2NvcGUuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uRGF0YTtcblxuICAgICRpb25pY1BvcG92ZXIuZnJvbVRlbXBsYXRlVXJsKCdjb21wb25lbnRzL21lbnUvcG9wb3Zlci5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlXG4gICAgfSkudGhlbihmdW5jdGlvbihwb3BvdmVyKSB7XG4gICAgICAgICRzY29wZS5wb3BvdmVyID0gcG9wb3ZlcjtcbiAgICB9KTtcblxuICAgICRzY29wZS51c2VyaW5mbyA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdCRzdGF0ZS5nbygnbWVudS51c2VyaW5mbycpO1xuICAgIH07XG4gICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdFVwZGF0ZS51c2VyX2xvZ291dCgpO1xuXG5cdCRzdGF0ZS5nbygnc3RhcnQubG9naW4nKTtcbiAgICB9O1xuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdCRzdGF0ZS5nbygnc3RhcnQubG9naW4nKTtcbiAgICB9O1xuICAgICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuXHQkc2NvcGUucG9wb3Zlci5oaWRlKCk7XG5cdCRzdGF0ZS5nbygnc3RhcnQucmVnaXN0ZXIuZGV0YWlscycpO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFVwZGF0ZS5mb3JjZWRVcGRhdGUoKTtcbiAgICB9O1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBbXG4gICAgJyRzY29wZScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRpb25pY0xvYWRpbmcnLFxuICAgICckaW9uaWNNb2RhbCcsXG4gICAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgICAnQVBJJyxcbiAgICAnbG9jYWxTdG9yYWdlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGlvbmljTG9hZGluZywgJGlvbmljTW9kYWwsICRpb25pY1Njcm9sbERlbGVnYXRlLCBBUEksIGxvY2FsU3RvcmFnZSkge1xuXG4gICAgdmFyIHVzZXJuYW1lO1xuXG4gICAgLy8gTGl2ZSBjaGVjayBmb3IgdXNlcm5hbWUgYXZhaWxhYmlsaXR5XG4gICAgJHNjb3BlLmNoZWNrVXNlcm5hbWUgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBBUEkudXNlcl9leGlzdHMoaW5wdXQuJHZpZXdWYWx1ZSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaW5wdXQuJHNldFZhbGlkaXR5KCduYW1lVGFrZW4nLCAhZGF0YS5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIExpdmUgY2hlY2sgZm9yIGVtYWlsIGF2YWlsYWJpbGl0eVxuICAgICRzY29wZS5jaGVja0VtYWlsID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgQVBJLnVzZXJfZXhpc3RzKG51bGwsIGlucHV0LiR2aWV3VmFsdWUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGlucHV0LiRzZXRWYWxpZGl0eSgnZW1haWxUYWtlbicsICFkYXRhLmRhdGEucmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvLyBWYWxpZGF0aW9uIGVycm9ycyBub3QgdGllZCB0byBpbnB1dCBmaWVsZFxuICAgICRzY29wZS5mb3JtRXJyb3JzID0ge307XG5cbiAgICAvKipcbiAgICAgKiByZWdpc3RlclxuICAgICAqIFN1Ym1pdCBoYW5kbGVyIGZvciB0aGUgcmVnaXN0cmF0aW9uIGZvcm1cbiAgICAgKi9cbiAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgIC8vIFNhdmUgcGhvbmUgbnVtYmVyIGZvciBuZXh0IHZpZXdcbiAgICAgICAgJHNjb3BlLnBob25lID0gZm9ybS5waG9uZS4kdmlld1ZhbHVlO1xuXG4gICAgICAgIC8vIFNhdmUgdXNlcm5hbWUgZm9yIHZlcmlmeSBzdWJtaXQgaGFuZGxlclxuICAgICAgICB1c2VybmFtZSA9IGZvcm0udXNlcm5hbWUuJHZpZXdWYWx1ZTtcblxuICAgICAgICB2YXIgcGFzc3dvcmQgPSBmb3JtLnBhc3N3b3JkLiR2aWV3VmFsdWU7XG4gICAgICAgIHZhciBmdWxsbmFtZSA9IGZvcm0uZnVsbG5hbWUuJHZpZXdWYWx1ZTtcbiAgICAgICAgdmFyIGVtYWlsID0gZm9ybS5lbWFpbC4kdmlld1ZhbHVlO1xuXG4gICAgICAgIEFQSS51c2VyX3JlZ2lzdGVyKHVzZXJuYW1lLCBmdWxsbmFtZSwgcGFzc3dvcmQsIGVtYWlsLCAkc2NvcGUucGhvbmUpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFN1Y2Nlc3M6IEdvIHRvIHZlcmlmeSBhY2NvdW50IHZpZXdcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdeLnZlcmlmeScpO1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEVycm9yOiBJbmZvcm0gdGhlIHVzZXIgYWJvdXQgZmFpbGVkIHJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgICogU2VlIEFQSSBkb2N1bWVudGF0aW9uIGZvciBlcnJvciBjb2Rlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAkc2NvcGUuZm9ybUVycm9ycy5yZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUb3AodHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIEludmFsaWQgRW1haWxcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcl9jb2RlID09IDgpIHtcbiAgICAgICAgICAgICAgICBmb3JtLmVtYWlsLiRzZXRWYWxpZGl0eSgnaW52YWxpZEVtYWlsJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXNlcm5hbWUgb3IgRW1haWwgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3JfY29kZSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrVXNlcm5hbWUoZm9ybS51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrRW1haWwoZm9ybS5lbWFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnZhbGlkIHBob25lIG51bWJlclxuICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yX2NvZGUgPT0gMTApIHtcbiAgICAgICAgICAgICAgICBmb3JtLnBob25lLiRzZXRWYWxpZGl0eSgnaW52YWxpZFBob25lJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogdmVyaWZ5XG4gICAgICogU3VibWl0IGhhbmRsZXIgZm9yIHRoZSB2ZXJpZmljYXRpb24gZm9ybVxuICAgICAqL1xuICAgICRzY29wZS52ZXJpZnkgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgIHZhciB2ZXJjb2RlID0gZm9ybS52ZXJjb2RlO1xuXG4gICAgICAgIEFQSS51c2VyX2NvbmZpcm0odXNlcm5hbWUsIHZlcmNvZGUuJHZpZXdWYWx1ZSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydC5sb2dpbicpO1xuICAgICAgICAgICAgdmVyY29kZS4kc2V0VmFsaWRpdHkoXCJ2ZXJpZmllZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICB2ZXJjb2RlLiRzZXRWYWxpZGl0eShcInZlcmlmaWVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnRvcyA9IGxvY2FsU3RvcmFnZS5nZXQoJ3RvcycpO1xuICAgIC8vTW9kYWwgd2l0aCB0aGUgRVVMQVxuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9yZWdpc3Rlci9ldWxhLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgJHNjb3BlLmV1bGEgPSBtb2RhbDtcbiAgICB9KTtcbiAgICAkc2NvcGUuc2hvd0V1bGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLmV1bGEuc2hvdygpO1xuICAgIH07XG4gICAgJHNjb3BlLmNsb3NlRXVsYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuZXVsYS5oaWRlKCk7XG4gICAgfTtcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuZXVsYS5yZW1vdmUoKTtcbiAgICB9KTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2lmaXNrZS5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVGVjaG5pcXVlRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdEQicsICckaW9uaWNTbGlkZUJveERlbGVnYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIERCLCAkaW9uaWNTbGlkZUJveERlbGVnYXRlKSB7XG4gICAgJHNjb3BlLmltYWdlX2VuZHBvaW50ID0gJ2h0dHA6Ly93d3cuaWZpc2tlLnNlJztcbiAgICAkc2NvcGUudGVjaCA9ICRzdGF0ZVBhcmFtcy50ZWNoO1xuICAgICRzY29wZS5pbWFnZXMgPSBbXTtcblxuICAgIGlmKCEkc2NvcGUudGVjaCkge1xuICAgICAgICBEQi5nZXRUZWNobmlxdWUoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2VzID0gW2RhdGEuaW1nMSwgZGF0YS5pbWcyLCBkYXRhLmltZzNdLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhL1xcLyQvLnRlc3QoZWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUudXBkYXRlKCk7XG4gICAgICAgICAgICAkc2NvcGUudGVjaCA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkYXRhID0gJHNjb3BlLnRlY2g7XG4gICAgICAgICRzY29wZS5pbWFnZXMgPSBbZGF0YS5pbWcxLCBkYXRhLmltZzIsIGRhdGEuaW1nM10uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gIS9cXC8kLy50ZXN0KGVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS51cGRhdGUoKTtcbiAgICB9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdUZWNobmlxdWVzQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFRlY2huaXF1ZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICRzY29wZS50ZWNobmlxdWVzID0gZGF0YTtcbiAgICB9KTtcbiAgICAkc2NvcGUuaW1hZ2VfZW5kcG9pbnQgPSAnaHR0cDovL3d3dy5pZmlza2Uuc2UnO1xuICAgICRzY29wZS5zb3J0b3JkZXIgPSAnc28nO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ3RybCcsIFsnJHNjb3BlJywgJ0RCJywgZnVuY3Rpb24oJHNjb3BlLCBEQikge1xuICAgIERCLmdldFVzZXJJbmZvKClcbiAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICRzY29wZS51c2VyID0gdXNlcjtcbiAgICB9KTtcbiAgICBEQi5nZXRVc2VyTnVtYmVycygpXG4gICAgLnRoZW4oZnVuY3Rpb24obnVtYmVycykge1xuICAgICAgICAkc2NvcGUubnVtYmVycyA9IG51bWJlcnM7XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdVc2VyQ2FyZHNDdHJsJywgW1xuICAgICckc2NvcGUnLFxuICAgICckc3RhdGVQYXJhbXMnLFxuICAgICdEQicsXG4gICAgJyRpb25pY01vZGFsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgREIsICRpb25pY01vZGFsKSB7XG4gICAgICAgICRzY29wZS5wcmVkID0gJy10byc7XG4gICAgICAgICRzY29wZS5lbmRwb2ludCA9ICdodHRwczovL3d3dy5pZmlza2Uuc2UnO1xuICAgICAgICAkc2NvcGUubm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgREIuZ2V0VXNlclByb2R1Y3RzKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gZGF0YTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL3VzZSB0aGUgc2FtZSBtb2RhbCBhcyBpbiBhcmVhX2NhcmRzXG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnY29tcG9uZW50cy9hcmVhX2NhcmRzL3J1bGVzX21vZGFsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5ydWxlc19tb2RhbCA9IG1vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLm9wZW5SdWxlc01vZGFsID0gZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICAgICAgJHNjb3BlLnJ1bGVzX21vZGFsLnNob3coKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuY2xvc2VSdWxlc01vZGFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucnVsZXNfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UuYXBpJywgWydpZmlza2UudXRpbHMnXSlcbiAgICAucHJvdmlkZXIoJ0FQSScsIGZ1bmN0aW9uIEFQSVByb3ZpZGVyKCkge1xuXG4gICAgICAgIHRoaXMuYmFzZV91cmwgPSAnaHR0cHM6Ly93d3cuaWZpc2tlLnNlL2FwaS92Mi9hcGkucGhwJztcblxuICAgICAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgJ3Nlc3Npb25EYXRhJywgJ2xvY2FsU3RvcmFnZScsICckcScsIGZ1bmN0aW9uKCRodHRwLCBzZXNzaW9uRGF0YSwgbG9jYWxTdG9yYWdlLCAkcSkge1xuICAgICAgICAgICAgdmFyIGJhc2VfdXJsID0gdGhpcy5iYXNlX3VybDtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAjIGFwaV9jYWxsICNcbiAgICAgICAgICAgICAqIGhhbmRsZXMgaHR0cCByZXF1ZXN0c1xuICAgICAgICAgICAgICogcmV0dXJucyBhICRodHRwIG9iamVjdCBmb3IgdGhlIHJlcXVlc3RlZCBhcGkgY2FsbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICRodHRwKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDonZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGJhc2VfdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogYW5ndWxhci5leHRlbmQocGFyYW1zLCB7J2tleSc6ICcwMTIzNDU2Nzg5YWJjZGVmJ30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiBQcm9wZXIgbG9nZ2luZ1xuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqICMgc2Vzc2lvbl9hcGlfY2FsbCAjXG4gICAgICAgICAgICAgKiB3cmFwcGVyIGZvciBhcGlfY2FsbCAtIGluc2VydHMgdGhlIHNlc3Npb24gdG9rZW4gaW50byBwYXJhbXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHNlc3Npb25fYXBpX2NhbGwgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25EYXRhLnRva2VuO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChhbmd1bGFyLmV4dGVuZChwYXJhbXMsIHtzOiBzZXNzaW9ufSkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXRfbXVuaWNpcGFsaXRpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfbXVuaWNpcGFsaXRpZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfY291bnRpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY291bnRpZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX2V4aXN0czogZnVuY3Rpb24odXNlcm5hbWUsIGVtYWlsKSB7XG5cdFx0ICAgIHZhciBhcmdzID0ge206ICd1c2VyX2V4aXN0cyd9O1xuXHRcdCAgICBcblx0XHQgICAgaWYgKHR5cGVvZiB1c2VybmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGFyZ3MudXNlcm5hbWUgPSB1c2VybmFtZTtcblx0XHQgICAgfVxuXHRcdCAgICBpZiAodHlwZW9mIGVtYWlsID09PSAnc3RyaW5nJykge1xuXHRcdFx0YXJncy5lbWFpbCA9IGVtYWlsO1xuXHRcdCAgICB9XG5cdFx0ICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoYXJncyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX3JlZ2lzdGVyOiBmdW5jdGlvbih1c2VybmFtZSwgZnVsbG5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgcGhvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAndXNlcl9yZWdpc3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxuYW1lOiBmdWxsbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiBwaG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX2NvbmZpcm06IGZ1bmN0aW9uKHVzZXJuYW1lLCBwaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAndXNlcl9jb25maXJtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluOiBwaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcl9pbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2luZm8nfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX2xvZ2luOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAndXNlcl9sb2dpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGF0YS5zZXRUb2tlbihkYXRhLmRhdGEucmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkZWQgZm9yIGNoYWluaW5nIG9mIHByb21pc2VzLCBzaG91bGQgYmUgZG9uZSBzb21lIG90aGVyIHdheSBwZXJoYXBzP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyX2xvZ291dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25fYXBpX2NhbGwoe206ICd1c2VyX2xvZ291dCd9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGF0YS5kZWxldGVUb2tlbigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfcHJvZHVjdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbl9hcGlfY2FsbCh7bTogJ3VzZXJfcHJvZHVjdHMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfZmlzaGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X2Zpc2hlcyd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF90ZWNobmlxdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3RlY2huaXF1ZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfYmFpdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfYmFpdHMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfb3JnYW5pemF0aW9uczogZnVuY3Rpb24ob3JnaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X29yZ2FuaXphdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfb3JnX21vZGlmaWVkOiBmdW5jdGlvbihvcmdpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfb3JnX21vZGlmaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdpZDogb3JnaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X2FyZWFzOiBmdW5jdGlvbihhcmVhaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X2FyZWFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhaWQ6IGFyZWFpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfYXJlYXNfbW9kaWZpZWQ6IGZ1bmN0aW9uKGFyZWFpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG06ICdnZXRfYXJlYXNfbW9kaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFpZDogYXJlYWlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9wcm9kdWN0czogZnVuY3Rpb24oYXJlYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9wcm9kdWN0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYWlkOiBhcmVhaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X3J1bGVzOiBmdW5jdGlvbihydWxlaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X3J1bGVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlaWQ6IHJ1bGVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfcGhvdG9zOiBmdW5jdGlvbihvcmdpZCwgYXJlYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9waG90b3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2lkOiBvcmdpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhaWQ6IGFyZWFpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfbWFwX3BvaXM6IGZ1bmN0aW9uKG9yZ2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbTogJ2dldF9tYXBfcG9pcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9tYXBfcG9pX3R5cGVzIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9tYXBfcG9pX3R5cGVzJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X21hcF9wb2x5Z29uczogZnVuY3Rpb24ob3JnaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBtOiAnZ2V0X21hcF9wb2x5Z29ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnaWQ6IG9yZ2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXJfZ2V0X2Zhdm9yaXRlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uX2FwaV9jYWxsKHttOiAndXNlcl9nZXRfZmF2b3JpdGVzJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X3Rlcm1zX29mX3NlcnZpY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfdGVybXNfb2Zfc2VydmljZSd9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldF9jb250YWN0X2luZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpX2NhbGwoe206ICdnZXRfY29udGFjdF9pbmZvJ30pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0X2VuZ2luZV9wb2xpY2llczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlfY2FsbCh7bTogJ2dldF9lbmdpbmVfcG9saWNpZXMnfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRfc21zX3Rlcm1zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaV9jYWxsKHttOiAnZ2V0X3Ntc190ZXJtcyd9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XTtcbiAgICB9KTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLmRiJywgW10pXG4gICAgLnByb3ZpZGVyKCdEQicsIGZ1bmN0aW9uIERCUHJvdmlkZXIoKSB7XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gWyAnJGNvcmRvdmFTUUxpdGUnLCAnQVBJJywgJyRxJywgZnVuY3Rpb24oJGNvcmRvdmFTUUxpdGUsIEFQSSwgJHEpIHtcblxuXG4gICAgICAgICAgICB2YXIgZGI7XG4gICAgICAgICAgICBpZiAod2luZG93LnNxbGl0ZVBsdWdpbikge1xuICAgICAgICAgICAgICAgIGRiID0gJGNvcmRvdmFTUUxpdGUub3BlbkRCKCdmaXNrZWJhc2VuLmRiJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5vcGVuRGF0YWJhc2UpIHtcbiAgICAgICAgICAgICAgICBkYiA9IHdpbmRvdy5vcGVuRGF0YWJhc2UoJ2Zpc2tlYmFzZW4uZGInLCAnMS4wJywgJ2Zpc2tlYmFzZW4nLCAxMCoxMDI0KjEwMjQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZSwgc29ycnknKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZhciB0YWJsZURlZiA9IHtcbiAgICAgICAgICAgICAgICAnQXJlYSc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydvcmdpZCcsICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsna3cnLCAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ25vdGUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjMScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjMicsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjMycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtMScsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtMicsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtMycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsYXQnLCAgICdyZWFsJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnbG5nJywgICAncmVhbCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3pvb20nLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwbnQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjYXInLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydlbmcnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydoY3AnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtYXAnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnd3NjJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnQXJlYV9GaXNoJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydhaWQnLCAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZmlkJywgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2Ftb3VudCcsICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjb21tZW50JywgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1Byb2R1Y3QnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndDInLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydubycsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncGYnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydhaScsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncmknLCAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NoJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwcmljZScsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydobCcsICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnQ291bnR5JzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZCcsICAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ011bmljaXBhbGl0eSc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjSUQnLCAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyduYW1lJywgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdGaXNoJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnc28nLCAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbWF4JywgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltZycsICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbicsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZ2VvJywgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3NpemUnLCAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsYXQnLCAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVjJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnUnVsZSc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ZlcicsICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICd0ZXh0J11cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICdVc2VyX1Byb2R1Y3QnOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnSUQnLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2F0JywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjb2RlJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZnInLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2Z1bGxuYW1lJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3QnLCAgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWYxJywgICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVmMicsICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3QnLCAgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndG8nLCAgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BpZCcsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwZGYnLCAgICAgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnVXNlcl9JbmZvJzogW1xuICAgICAgICAgICAgICAgICAgICBbJ0lEJywgICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd1c2VybmFtZScsICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2xvZ2dlZGluJywgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnSVAxJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydJUDInLCAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ25hbWUnLCAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZW1haWwnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjcmVhdGVkJywgICAndGV4dCddXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnVXNlcl9OdW1iZXInOiBbXG4gICAgICAgICAgICAgICAgICAgIFsnbnVtYmVyJywgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ1RlY2huaXF1ZSc6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0JywgICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZCcsICAgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3NvJywgICAgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RlJywgICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkYScsICAgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaWNvbicsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltZzEnLCAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbWcyJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaW1nMycsICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3lvdXR1YmUnLCAgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJ09yZ2FuaXphdGlvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgWydJRCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsndCcsICAgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkJywgICAgICAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NwJywgICAgICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndXJsJywgICAgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjbycsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnbW9kJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ZhdCcsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydkcCcsICAgICAnaW50J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZnZhJywgICAgJ2ludCddLFxuICAgICAgICAgICAgICAgICAgICBbJ29yZycsICAgICdpbnQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydtbCcsICAgICAnaW50J11cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciByZXR2YWwgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5yb3dzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHZhbC5wdXNoKGRhdGEucm93cy5pdGVtKGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICAgICAgICAgIH07XG5cblxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGFibGU6IGZ1bmN0aW9uKHRhYmxlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyB0YWJsZSArICc7Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW5nbGVEYXRhID0gZGF0YVtpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnNlcnREYXRhID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGVEZWZbdGFibGVdLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnREYXRhLnB1c2goc2luZ2xlRGF0YVt0YWJsZURlZlt0YWJsZV1baV1bMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSU5TRVJUIElOVE8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVkFMVUVTKD8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyw/Jy5yZXBlYXQoaW5zZXJ0RGF0YS5sZW5ndGgtMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSddLmpvaW4oJyAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChxdWVyeSwgaW5zZXJ0RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBjbGVhblRhYmxlOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRHJvcHMgYWxsIHRhYmxlcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGNsZWFuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2xlYW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB0YWJsZSBpbiB0YWJsZURlZil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyAnICsgdGFibGUgKyAnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCBhbGwgdGFibGVzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJbml0aWFsaWVzIHRoZSB0YWJsZXMgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oIGZ1bmN0aW9uICh0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgdGFibGUgaW4gdGFibGVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJygnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyArIHRhYmxlRGVmW3RhYmxlXS5qb2luKCdfX19cIicpLnNwbGl0KCcsJykuam9pbignXCIgJykuc3BsaXQoJ19fXycpLmpvaW4oJywgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLCBQUklNQVJZIEtFWSgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyArIHRhYmxlRGVmW3RhYmxlXVswXVswXSArICdcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSk7J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG5cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYW4gYXJlYVxuICAgICAgICAgICAgICAgICAqIEBtZXRob2QgZ2V0QXJlYVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gaWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRBcmVhOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBBcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKGFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gY3JlYXRlT2JqZWN0KGFyZWEpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfcGhvdG9zKG9iamVjdC5vcmdpZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlcyA9IGltYWdlcy5kYXRhLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0QXJlYUZpc2hlczogZnVuY3Rpb24oYWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcSggZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYV9GaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSk9JTiBGaXNoIE9OIEFyZWFfRmlzaC5maWQgPSBGaXNoLklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgQXJlYV9GaXNoLmFpZCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2FpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNlYXJjaGVzIHRoZSBkYXRhYmFzZSB1c2luZyBhIHF1ZXJ5XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBUaGUgcXVlcnkgaXMgbWF0Y2hlZCB0byBhIG5hbWUgYW5kL29yIGtleXdvcmRcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIHNlYXJjaFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hzdHJpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaHN0cmluZywgY291bnR5X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcSggZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gQXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIHQgTElLRSA/JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY291bnR5X2lkID8gJ0FORCBjMSA9ID8nOicnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5X2lkID8gWyclJyArIHNlYXJjaHN0cmluZyArICclJywgY291bnR5X2lkXTpbJyUnICsgc2VhcmNoc3RyaW5nICsgJyUnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhIHByb2R1Y3RcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldFByb2R1Y3RcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHByb2R1Y3RfaWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbihwcm9kdWN0X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUIERJU1RJTkNUIFByb2R1Y3QuKiwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnQgYXMgcnVsZV90LCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudmVyIGFzIHJ1bGVfdmVyLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUuZCBhcyBydWxlX2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIFByb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKT0lOIFJ1bGUgT04gUnVsZS5JRCA9IFByb2R1Y3QucmknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPUkRFUiBCWSBzbydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3Byb2R1Y3RfaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBHZXRzIGFsbCBwcm9kdWN0cyBmcm9tIGFuIGFyZWFcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGdldFByb2R1Y3RzQnlBcmVhXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSBhcmVhX2lkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ2V0UHJvZHVjdHNCeUFyZWE6IGZ1bmN0aW9uKGFyZWFfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgUHJvZHVjdC4qLCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1J1bGUudCBhcyBydWxlX3QsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS52ZXIgYXMgcnVsZV92ZXIsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS5kIGFzIHJ1bGVfZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZST00gUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gUnVsZSBPTiBSdWxlLklEID0gUHJvZHVjdC5yaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIGFpID0gPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09SREVSIEJZIHNvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXJlYV9pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldENvdW50aWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgRElTVElOQ1QgQ291bnR5LionLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGUk9NIENvdW50eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0pPSU4gQXJlYSBPTiBBcmVhLmMxID0gQ291bnR5LklEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT1JERVIgQlkgQ291bnR5LnQnXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0VXNlclByb2R1Y3RzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgVXNlcl9Qcm9kdWN0LiosJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUnVsZS50IGFzIHJ1bGVfdCwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLnZlciBhcyBydWxlX3ZlciwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSdWxlLmQgYXMgcnVsZV9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX1Byb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMRUZUIEpPSU4gUHJvZHVjdCBPTiBQcm9kdWN0LklEID0gVXNlcl9Qcm9kdWN0LnBpZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xFRlQgSk9JTiBSdWxlIE9OIFJ1bGUuSUQgPSBQcm9kdWN0LnJpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldEZpc2hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldEZpc2g6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBGaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV0hFUkUgaWQgPSA/J1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJyksIFtpZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldFRlY2huaXF1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqIEZST00gVGVjaG5pcXVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRUZWNobmlxdWU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb3Jkb3ZhU1FMaXRlLmV4ZWN1dGUoZGIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VMRUNUICogRlJPTSBUZWNobmlxdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXSEVSRSBJRCA9ID8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSwgW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKGNyZWF0ZU9iamVjdChkYXRhKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldE9yZ2FuaXphdGlvbjogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTUUxpdGUuZXhlY3V0ZShkYiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIE9yZ2FuaXphdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dIRVJFIElEID0gPydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpLCBbaWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KGRhdGEpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX0luZm8nXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwoY3JlYXRlT2JqZWN0KHVzZXIpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0VXNlck51bWJlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24oZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29yZG92YVNRTGl0ZS5leGVjdXRlKGRiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NFTEVDVCAqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRlJPTSBVc2VyX051bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbignICcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChjcmVhdGVPYmplY3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XTtcbiAgICB9KTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZmlsdGVycycsIFtdKVxuLmZpbHRlcignbm9icnMnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLyg8YnI+XFxzKikrL2csICc8YnI+Jyk7XG4gICAgfTtcbn0pO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdpZmlza2UudXBkYXRlJywgWydpZmlza2UuYXBpJywgJ2lmaXNrZS5kYicsICdpZmlza2UudXRpbHMnXSlcbiAgICAucHJvdmlkZXIoJ1VwZGF0ZScsIGZ1bmN0aW9uIFVwZGF0ZVByb3ZpZGVyKCkge1xuXG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJ0FQSScsXG4gICAgICAgICAgICAnREInLFxuICAgICAgICAgICAgJ2xvY2FsU3RvcmFnZScsXG4gICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgJyRpb25pY0xvYWRpbmcnLFxuICAgICAgICAgICAgJ3Nlc3Npb25EYXRhJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKEFQSSwgREIsIGxvY2FsU3RvcmFnZSwgJHEsICRpb25pY0xvYWRpbmcsIHNlc3Npb25EYXRhKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgTEFTVF9VUERBVEUgPSAnbGFzdF91cGRhdGUnO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9hcmVhcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpc2hBcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhLmRhdGEucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpc2hlcyA9IGRhdGEuZGF0YS5yZXNwb25zZVtrZXldLmZpc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgZmlzaEtleSBpbiBmaXNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpc2hBcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0lEJzoga2V5KydfJytmaXNoS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZDogZmlzaEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhaWQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZpc2hlc1tmaXNoS2V5XVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBmaXNoZXNbZmlzaEtleV1bMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdBcmVhJywgZGF0YS5kYXRhLnJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnQXJlYV9GaXNoJywgZmlzaEFycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIEFyZWEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Byb2R1Y3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnUHJvZHVjdCcsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBQcm9kdWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9jb3VudGllcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ0NvdW50eScsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBDb3VudHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X211bmljaXBhbGl0aWVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnTXVuaWNpcGFsaXR5JywgZGF0YS5kYXRhLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIE11bmljaXBhbGl0eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfZmlzaGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIucG9wdWxhdGVUYWJsZSgnRmlzaCcsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBGaXNoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9ydWxlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1J1bGUnLCBkYXRhLmRhdGEucmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgUnVsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEFQSS5nZXRfdGVjaG5pcXVlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLnBvcHVsYXRlVGFibGUoJ1RlY2huaXF1ZScsIGRhdGEuZGF0YS5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBUZWNobmlxdWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X29yZ2FuaXphdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdPcmdhbml6YXRpb24nLCBkYXRhLmRhdGEucmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgT3JnYW5pemF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9wdWxhdGVVc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfcHJvZHVjdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX1Byb2R1Y3QnLCBkYXRhLmRhdGEucmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgVXNlcl9Qcm9kdWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfaW5mbygpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlcnMgPSBkYXRhLmRhdGEucmVzcG9uc2UubnVtYmVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtQXJyLnB1c2goeydudW1iZXInOiBudW1iZXJzW2ldfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQi5wb3B1bGF0ZVRhYmxlKCdVc2VyX0luZm8nLCBbZGF0YS5kYXRhLnJlc3BvbnNlXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9wdWxhdGVkIFVzZXJfSW5mbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREIucG9wdWxhdGVUYWJsZSgnVXNlcl9OdW1iZXInLCBudW1BcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBVc2VyX051bWJlcnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xlYW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9Qcm9kdWN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBEQi5jbGVhblRhYmxlKCdVc2VyX051bWJlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgREIuY2xlYW5UYWJsZSgnVXNlcl9JbmZvJylcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCB1c2VyIGluZm8gZnJvbSBkYXRhYmFzZScpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgcmVtb3ZlIHVzZXIgZGF0YSBmcm9tIGRhdGFiYXNlIScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVGdW5jID0gZnVuY3Rpb24oZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RVcGRhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZighZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VXBkYXRlID0gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYVdlZWsgPSAxMDAwKjM2MDAqMjQqNztcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFRpbWUgLSBsYXN0VXBkYXRlID4gYVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERCLmluaXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIERCIHN5c3RlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlc3Npb25EYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvcHVsYXRlZCBhbGwgdGhlIHRoaW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVyci5lcnJvcl9jb2RlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdyB0byB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkudXNlcl9sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dvdCBhbiBlcnJvciwgd2lsbCB0cnkgdG8gcmVjcmVhdGUgYWxsIHRhYmxlczogJywgZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREIuY2xlYW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERCLmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVsYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1bGF0ZWQgYWxsIHRoZSB0aGluZ3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoTEFTVF9VUERBVEUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGlsbCBlcnJvciwgaGFuZGxlIGl0IScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBUEkuZ2V0X3Rlcm1zX29mX3NlcnZpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3RvcycsZGF0YS5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9zbXNfdGVybXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odGVybXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdzbXNfdGVybXMnLCB0ZXJtcy5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLmdldF9jb250YWN0X2luZm8oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2NvbnRhY3RJbmZvJywgZGF0YS5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZXNzaW9uRGF0YS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgREIuaW5pdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgREIgc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2Vzc2lvbkRhdGEudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVVc2VyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm9fdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnVuYygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQVBJLnVzZXJfbG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfbG9naW46IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQSS51c2VyX2xvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsYXN0X3VwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldChMQVNUX1VQREFURSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfV07XG4gICAgfSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgnaWZpc2tlLnV0aWxzJywgW10pXG5cbi5mYWN0b3J5KCdsb2NhbFN0b3JhZ2UnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5zZXJ2aWNlKCdzZXNzaW9uRGF0YScsIFsnbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24obG9jYWxTdG9yYWdlKSB7XG4gICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXQoJ3Nlc3Npb24nKTtcblxuICAgIHRoaXMuc2V0VG9rZW4gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXQoJ3Nlc3Npb24nLCB0KTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBzZXQnKTtcbiAgICB9O1xuICAgIHRoaXMuZGVsZXRlVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZSgnc2Vzc2lvbicpO1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHVuc2V0Jyk7XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCduZ0NvcmRvdmFTbXMnLCBbXSlcbi5kaXJlY3RpdmUoJ25nQ29yZG92YVNtcycsIFsnJGNvcmRvdmFTbXMnLCAnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkY29yZG92YVNtcywgJGlvbmljUG9wdXApIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGlvbmljUG9wdXAucHJvbXB0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTa3JpdiBpbiBkaXR0IG5hbW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdGSVNLQSAnICsgYXR0cnMubmdDb3Jkb3ZhU21zICsgJyAnICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgJGNvcmRvdmFTbXMuc2VuZCgnNzI0NTYnLCBtZXNzYWdlLCAnSU5URU5UJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY3Vlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdpZmlza2UuZGlyZWN0aXZlcycpXG4gICAgLmRpcmVjdGl2ZSgnaWZpc2tlSW5wdXQnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICB0cmFuc2NsdWRlOiB0cnVlLFxuXG5cdCAgICBzY29wZToge1xuXHRcdG5hbWU6ICdAJyxcblx0XHRpZDogJ0AnLFxuXHRcdGxhYmVsOiAnQCcsXG5cdFx0cGxhY2Vob2xkZXI6ICdAJyxcblx0XHR0eXBlOiAnQCcsXG5cdFx0bmdQYXR0ZXJuOiAnQCcsXG5cdFx0bmdNb2RlbDogJz0/J1xuXG5cdCAgICB9LFxuXHQgICAgdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmVzL2lucHV0X2ZpZWxkL2lmaXNrZV9pbnB1dC5odG1sJyxcblx0ICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSkge1xuXHRcdCRzY29wZS5pZCA9ICRzY29wZS5pZCB8fCAkc2NvcGUubmFtZTtcblx0XHQkc2NvcGUudHlwZSA9ICRzY29wZS50eXBlIHx8ICd0ZXh0Jztcblx0ICAgIH1cblx0fVxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnc3lzdGVtQnJvd3NlcicsIFtdKVxuLmRpcmVjdGl2ZSgnc3lzdGVtQnJvd3NlcicsIFsnJGNvcmRvdmFJbkFwcEJyb3dzZXInLCBmdW5jdGlvbigkY29yZG92YUluQXBwQnJvd3Nlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4oZWxbMF0uaHJlZiwgJ19zeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi5kaXJlY3RpdmUoJ2dsb2JhbFN5c3RlbUJyb3dzZXInLCBbJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJywgZnVuY3Rpb24oJGNvcmRvdmFJbkFwcEJyb3dzZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuaHJlZiAmJiBlLnRhcmdldC5ob3N0ICE9PSB3aW5kb3cubG9jYXRpb24uaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKGUudGFyZ2V0LmhyZWYsICdfc3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=