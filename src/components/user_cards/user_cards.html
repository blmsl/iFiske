<ion-view title="{{'My fishing licenses' |translate}}" class="image-bg">
  <!-- overflow-scroll must be false in order to manually activate pull to refresh -->
  <ion-content delegate-handle="licenses-content" overflow-scroll="false">
    <ion-refresher
    pulling-text="Uppdatera..."
    on-refresh="update()">
  </ion-refresher>
  <div class="list">
    <div class="item item-text-wrap" ng-if="!products || products.length < 1">
        <p translate>No licenses</p>
    </div>
    <div class="item item-divider item-icon-left" ng-if="active.length">
      <i class="icon ion-checkmark"></i>{{'Active licenses' | translate}}</div>
    <div class="item" ng-repeat="product in active" class="{{product.validity}}" ui-sref="^.license_detail({license: product, id: product.ID})">
      <h2>{{product.ot}}</h2>
      <p>{{product.t}}</p>
    </div>
    <div class="item item-divider item-icon-left" ng-if="inactive.length">
      <i class="icon ion-clock"></i>{{'Inactive licenses' | translate}}</div>
    <div class="item" ng-repeat="product in inactive" class="{{product.validity}}" ui-sref="^.license_detail({license: product, id: product.ID})">
      <h2>{{product.ot}}</h2>
      <p>{{product.t}}</p>
    </div>
    <div class="item item-divider item-icon-left" ng-if="expired.length">
      <i class="icon ion-close"></i>{{'Expired licenses' | translate}}</div>
    <div class="item" ng-repeat="product in expired" class="{{product.validity}}" ui-sref="^.license_detail({license: product, id: product.ID})">
      <h2>{{product.ot}}</h2>
      <p>{{product.t}}</p>
    </div>
    <div class="item item-divider item-icon-left" ng-if="revoked.length">
      <i class="icon ion-close"></i>{{'Revoked licenses' | translate}}
    </div>
    <div class="item {{product.validity}}" ng-repeat="product in revoked" ui-sref="^.license_detail({license: product, id: product.ID})">
      <h2>{{product.ot}}</h2>
      <p>{{product.t}}</p>
    </div>
  </div>

</ion-content>
</ion-view>
